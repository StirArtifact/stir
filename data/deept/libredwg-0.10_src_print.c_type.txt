static	O
unsigned	O
int	O
cur_ver	int
=	O
0	int
;	O
static	O
int	O
dwg_print_variable_type	function
(	O
Dwg_Data	struct
*	O
restrict	O
dwg	pointer
,	O
Bit_Chain	struct
*	O
restrict	O
dat	pointer
,	O
Dwg_Object	struct
*	O
restrict	O
obj	pointer
)	O
{	O
int	O
i	int
;	O
int	O
is_entity	int
;	O
Dwg_Class	struct
*	O
klass	pointer
;	O
i	int
=	O
obj	pointer
->	O
type	short
-	O
500	int
;	O
if	O
(	O
i	int
<	O
0	int
||	O
i	int
>	O
(	O
int	O
)	O
dwg	pointer
->	O
num_classes	short
)	O
return	O
DWG_ERR_INVALIDTYPE	int
;	O
klass	pointer
=	O
&	O
dwg	pointer
->	O
dwg_class	pointer
[	O
i	int
]	O
;	O
if	O
(	O
!	O
klass	pointer
||	O
!	O
klass	pointer
->	O
dxfname	pointer
)	O
return	O
DWG_ERR_INTERNALERROR	int
;	O
is_entity	int
=	O
dwg_class_is_entity	function
(	O
klass	pointer
)	O
;	O
return	O
DWG_ERR_UNHANDLEDCLASS	int
;	O
}	O
int	O
dwg_print_object	function
(	O
Bit_Chain	struct
*	O
restrict	O
dat	pointer
,	O
Dwg_Object	struct
*	O
restrict	O
obj	pointer
)	O
{	O
int	O
error	int
=	O
0	int
;	O
switch	O
(	O
obj	pointer
->	O
type	short
)	O
{	O
case	O
DWG_TYPE_TEXT	int
:	O
return	O
dwg_print_TEXT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_ATTRIB	int
:	O
return	O
dwg_print_ATTRIB	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_ATTDEF	int
:	O
return	O
dwg_print_ATTDEF	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_BLOCK	int
:	O
return	O
dwg_print_BLOCK	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_ENDBLK	int
:	O
return	O
dwg_print_ENDBLK	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_SEQEND	int
:	O
return	O
dwg_print_SEQEND	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_INSERT	int
:	O
return	O
dwg_print_INSERT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_MINSERT	int
:	O
return	O
dwg_print_MINSERT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VERTEX_2D	int
:	O
return	O
dwg_print_VERTEX_2D	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VERTEX_3D	int
:	O
return	O
dwg_print_VERTEX_3D	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VERTEX_MESH	int
:	O
return	O
dwg_print_VERTEX_MESH	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VERTEX_PFACE	int
:	O
return	O
dwg_print_VERTEX_PFACE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VERTEX_PFACE_FACE	int
:	O
return	O
dwg_print_VERTEX_PFACE_FACE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_POLYLINE_2D	int
:	O
return	O
dwg_print_POLYLINE_2D	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_POLYLINE_3D	int
:	O
return	O
dwg_print_POLYLINE_3D	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_ARC	int
:	O
return	O
dwg_print_ARC	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_CIRCLE	int
:	O
return	O
dwg_print_CIRCLE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LINE	int
:	O
return	O
dwg_print_LINE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_ORDINATE	int
:	O
return	O
dwg_print_DIMENSION_ORDINATE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_LINEAR	int
:	O
return	O
dwg_print_DIMENSION_LINEAR	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_ALIGNED	int
:	O
return	O
dwg_print_DIMENSION_ALIGNED	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_ANG3PT	int
:	O
return	O
dwg_print_DIMENSION_ANG3PT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_ANG2LN	int
:	O
return	O
dwg_print_DIMENSION_ANG2LN	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_RADIUS	int
:	O
return	O
dwg_print_DIMENSION_RADIUS	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMENSION_DIAMETER	int
:	O
return	O
dwg_print_DIMENSION_DIAMETER	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_POINT	int
:	O
return	O
dwg_print_POINT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE__3DFACE	int
:	O
return	O
dwg_print__3DFACE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_POLYLINE_PFACE	int
:	O
return	O
dwg_print_POLYLINE_PFACE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_POLYLINE_MESH	int
:	O
return	O
dwg_print_POLYLINE_MESH	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_SOLID	int
:	O
return	O
dwg_print_SOLID	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_TRACE	int
:	O
return	O
dwg_print_TRACE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_SHAPE	int
:	O
return	O
dwg_print_SHAPE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VIEWPORT	int
:	O
return	O
dwg_print_VIEWPORT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_ELLIPSE	int
:	O
return	O
dwg_print_ELLIPSE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_SPLINE	int
:	O
return	O
dwg_print_SPLINE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_REGION	int
:	O
return	O
dwg_print_REGION	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE__3DSOLID	int
:	O
return	O
dwg_print__3DSOLID	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_BODY	int
:	O
return	O
dwg_print_BODY	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_RAY	int
:	O
return	O
dwg_print_RAY	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_XLINE	int
:	O
return	O
dwg_print_XLINE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DICTIONARY	int
:	O
return	O
dwg_print_DICTIONARY	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_MTEXT	int
:	O
return	O
dwg_print_MTEXT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LEADER	int
:	O
return	O
dwg_print_LEADER	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_TOLERANCE	int
:	O
return	O
dwg_print_TOLERANCE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_MLINE	int
:	O
return	O
dwg_print_MLINE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_BLOCK_CONTROL	int
:	O
return	O
dwg_print_BLOCK_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_BLOCK_HEADER	int
:	O
return	O
dwg_print_BLOCK_HEADER	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LAYER_CONTROL	int
:	O
return	O
dwg_print_LAYER_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LAYER	int
:	O
return	O
dwg_print_LAYER	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_STYLE_CONTROL	int
:	O
return	O
dwg_print_STYLE_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_STYLE	int
:	O
return	O
dwg_print_STYLE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LTYPE_CONTROL	int
:	O
return	O
dwg_print_LTYPE_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LTYPE	int
:	O
return	O
dwg_print_LTYPE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VIEW_CONTROL	int
:	O
return	O
dwg_print_VIEW_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VIEW	int
:	O
return	O
dwg_print_VIEW	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_UCS_CONTROL	int
:	O
return	O
dwg_print_UCS_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_UCS	int
:	O
return	O
dwg_print_UCS	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VPORT_CONTROL	int
:	O
return	O
dwg_print_VPORT_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VPORT	int
:	O
return	O
dwg_print_VPORT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_APPID_CONTROL	int
:	O
return	O
dwg_print_APPID_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_APPID	int
:	O
return	O
dwg_print_APPID	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMSTYLE_CONTROL	int
:	O
return	O
dwg_print_DIMSTYLE_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DIMSTYLE	int
:	O
return	O
dwg_print_DIMSTYLE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VPORT_ENTITY_CONTROL	int
:	O
return	O
dwg_print_VPORT_ENTITY_CONTROL	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VPORT_ENTITY_HEADER	int
:	O
return	O
dwg_print_VPORT_ENTITY_HEADER	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_GROUP	int
:	O
return	O
dwg_print_GROUP	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_MLINESTYLE	int
:	O
return	O
dwg_print_MLINESTYLE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_OLE2FRAME	int
:	O
return	O
dwg_print_OLE2FRAME	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_DUMMY	int
:	O
return	O
dwg_print_DUMMY	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LONG_TRANSACTION	int
:	O
return	O
dwg_print_LONG_TRANSACTION	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_LWPOLYLINE	int
:	O
return	O
dwg_print_LWPOLYLINE	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_HATCH	int
:	O
return	O
dwg_print_HATCH	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_XRECORD	int
:	O
return	O
dwg_print_XRECORD	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_PLACEHOLDER	int
:	O
return	O
dwg_print_PLACEHOLDER	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_OLEFRAME	int
:	O
return	O
dwg_print_OLEFRAME	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_VBA_PROJECT	int
:	O
LOG_ERROR	O
(	O
"Unhandled Object VBA_PROJECT. Has its own section\n"	pointer
)	O
;	O
break	O
;	O
case	O
DWG_TYPE_LAYOUT	int
:	O
return	O
dwg_print_LAYOUT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_PROXY_ENTITY	int
:	O
return	O
dwg_print_PROXY_ENTITY	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
case	O
DWG_TYPE_PROXY_OBJECT	int
:	O
return	O
dwg_print_PROXY_OBJECT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
default	O
:	O
if	O
(	O
obj	pointer
->	O
type	short
==	O
obj	pointer
->	O
parent	pointer
->	O
layout_type	int
)	O
{	O
return	O
dwg_print_LAYOUT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
}	O
else	O
if	O
(	O
(	O
error	int
=	O
dwg_print_variable_type	function
(	O
obj	pointer
->	O
parent	pointer
,	O
dat	pointer
,	O
obj	pointer
)	O
)	O
&	O
DWG_ERR_UNHANDLEDCLASS	int
)	O
{	O
Dwg_Data	struct
*	O
dwg	pointer
=	O
obj	pointer
->	O
parent	pointer
;	O
int	O
is_entity	int
=	O
0	int
;	O
int	O
i	int
=	O
obj	pointer
->	O
type	short
-	O
500	int
;	O
Dwg_Class	struct
*	O
klass	pointer
=	O
NULL	O
;	O
if	O
(	O
i	int
>	O
0	int
&&	O
i	int
<	O
(	O
int	O
)	O
dwg	pointer
->	O
num_classes	short
)	O
{	O
klass	pointer
=	O
&	O
dwg	pointer
->	O
dwg_class	pointer
[	O
i	int
]	O
;	O
is_entity	int
=	O
klass	pointer
?	O
dwg_class_is_entity	function
(	O
klass	pointer
)	O
:	O
0	int
;	O
}	O
if	O
(	O
klass	pointer
&&	O
!	O
is_entity	int
)	O
{	O
return	O
dwg_print_UNKNOWN_OBJ	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
}	O
else	O
if	O
(	O
klass	pointer
)	O
{	O
return	O
dwg_print_UNKNOWN_ENT	function
(	O
dat	pointer
,	O
obj	pointer
)	O
;	O
}	O
else	O
{	O
LOG_WARN	O
(	O
"Unknown object, skipping eed/reactors/xdic"	pointer
)	O
;	O
SINCE	O
(	O
R_2000	int
)	O
{	O
LOG_INFO	O
(	O
"Object bitsize: %u\n"	pointer
,	O
obj	pointer
->	O
bitsize	int
)	O
}	O
LOG_INFO	O
(	O
"Object handle: "	pointer
FORMAT_H	pointer
"\n"	pointer
,	O
ARGS_H	O
(	O
obj	pointer
->	O
handle	pointer
)	O
)	O
;	O
return	O
error	int
|	O
DWG_ERR_INVALIDTYPE	int
;	O
}	O
}	O
}	O
return	O
DWG_ERR_UNHANDLEDCLASS	int
;	O
}	O
