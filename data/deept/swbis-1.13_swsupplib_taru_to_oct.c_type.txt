char	O
*	O
stringify_uintmax_t_backwards	function
(	O
uintmax_t	long
o	long
,	O
char	O
*	O
buf	pointer
)	O
{	O
*	O
--	O
buf	pointer
=	O
'\0'	O
;	O
do	O
*	O
--	O
buf	pointer
=	O
'0'	O
+	O
(	O
int	O
)	O
(	O
o	long
%	O
10	int
)	O
;	O
while	O
(	O
(	O
o	long
/=	O
10	int
)	O
!=	O
0	int
)	O
;	O
return	O
buf	pointer
;	O
}	O
static	O
void	O
to_octal	function
(	O
uintmax_t	long
value	long
,	O
char	O
*	O
where	pointer
,	O
size_t	long
size	long
)	O
{	O
uintmax_t	long
v	int
=	O
value	long
;	O
size_t	long
i	int
=	O
size	long
;	O
do	O
{	O
where	pointer
[	O
--	O
i	int
]	O
=	O
'0'	O
+	O
(	O
v	int
&	O
(	O
(	O
1	int
<<	O
LG_8	int
)	O
-	O
1	int
)	O
)	O
;	O
v	int
>>=	O
LG_8	int
;	O
}	O
while	O
(	O
i	int
)	O
;	O
}	O
static	O
void	O
to_base256	function
(	O
int	O
negative	int
,	O
uintmax_t	long
value	long
,	O
char	O
*	O
where	pointer
,	O
size_t	long
size	long
)	O
{	O
uintmax_t	long
v	int
=	O
value	long
;	O
uintmax_t	long
propagated_sign_bits	long
=	O
(	O
(	O
uintmax_t	long
)	O
-	O
negative	int
<<	O
(	O
CHAR_BIT	O
*	O
sizeof	O
v	int
-	O
LG_256	int
)	O
)	O
;	O
size_t	long
i	int
=	O
size	long
;	O
do	O
{	O
where	pointer
[	O
--	O
i	int
]	O
=	O
v	int
&	O
(	O
(	O
1	int
<<	O
LG_256	int
)	O
-	O
1	int
)	O
;	O
v	int
=	O
propagated_sign_bits	long
|	O
(	O
v	int
>>	O
LG_256	int
)	O
;	O
}	O
while	O
(	O
i	int
)	O
;	O
}	O
static	O
void	O
to_chars	function
(	O
int	O
negative	int
,	O
uintmax_t	long
value	long
,	O
size_t	long
valsize	long
,	O
uintmax_t	long
(	O
*	O
substitute	pointer
)	O
PARAMS	O
(	O
(	O
int	O
*	O
)	O
)	O
,	O
char	O
*	O
where	pointer
,	O
size_t	long
size	long
,	O
const	O
char	O
*	O
type	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
int	O
base256_allowed	int
=	O
(	O
archive_format	enum
==	O
GNU_FORMAT	int
||	O
archive_format	enum
==	O
OLDGNU_FORMAT	int
)	O
;	O
if	O
(	O
!	O
negative	int
&&	O
value	long
<=	O
MAX_VAL_WITH_DIGITS	O
(	O
size	long
-	O
1	int
,	O
LG_8	int
)	O
)	O
{	O
where	pointer
[	O
size	long
-	O
1	int
]	O
=	O
termch	int
;	O
to_octal	function
(	O
value	long
,	O
where	pointer
,	O
size	long
-	O
1	int
)	O
;	O
}	O
else	O
if	O
(	O
strcmp	function
(	O
type	pointer
,	O
"uid_t"	pointer
)	O
==	O
0	int
||	O
strcmp	function
(	O
type	pointer
,	O
"gid_t"	pointer
)	O
==	O
0	int
)	O
{	O
value	long
=	O
8	int
^	O
(	O
size	long
-	O
1	int
)	O
;	O
to_chars	function
(	O
negative	int
,	O
value	long
,	O
valsize	long
,	O
substitute	pointer
,	O
where	pointer
,	O
size	long
,	O
"id_again"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
else	O
if	O
(	O
(	O
(	O
negative	int
?	O
-	O
1	int
-	O
value	long
:	O
value	long
)	O
<=	O
MAX_VAL_WITH_DIGITS	O
(	O
size	long
-	O
1	int
,	O
LG_256	int
)	O
)	O
&&	O
base256_allowed	int
)	O
{	O
fprintf	function
(	O
stderr	pointer
,	O
"%s: to_chars: making old gnu field\n"	pointer
,	O
swlib_utilname_get	function
(	O
)	O
)	O
;	O
where	pointer
[	O
0	int
]	O
=	O
negative	int
?	O
-	O
1	int
:	O
1	int
<<	O
(	O
LG_256	int
-	O
1	int
)	O
;	O
to_base256	function
(	O
negative	int
,	O
value	long
,	O
where	pointer
+	O
1	int
,	O
size	long
-	O
1	int
)	O
;	O
}	O
else	O
if	O
(	O
negative	int
&&	O
valsize	long
*	O
CHAR_BIT	O
<=	O
(	O
size	long
-	O
1	int
)	O
*	O
LG_8	int
)	O
{	O
static	O
int	O
warned_once	int
;	O
fprintf	function
(	O
stderr	pointer
,	O
"%s: to_chars: making non portable field\n"	pointer
,	O
swlib_utilname_get	function
(	O
)	O
)	O
;	O
if	O
(	O
!	O
warned_once	int
)	O
{	O
warned_once	int
=	O
1	int
;	O
fprintf	function
(	O
stderr	pointer
,	O
"Generating negative octal headers"	pointer
)	O
;	O
}	O
where	pointer
[	O
size	long
-	O
1	int
]	O
=	O
'\0'	O
;	O
to_octal	function
(	O
value	long
&	O
MAX_VAL_WITH_DIGITS	O
(	O
valsize	long
*	O
CHAR_BIT	O
,	O
1	int
)	O
,	O
where	pointer
,	O
size	long
-	O
1	int
)	O
;	O
}	O
else	O
{	O
uintmax_t	long
maxval	long
=	O
(	O
base256_allowed	int
?	O
MAX_VAL_WITH_DIGITS	O
(	O
size	long
-	O
1	int
,	O
LG_256	int
)	O
:	O
MAX_VAL_WITH_DIGITS	O
(	O
size	long
-	O
1	int
,	O
LG_8	int
)	O
)	O
;	O
char	O
valbuf	array
[	O
UINTMAX_STRSIZE_BOUND	O
+	O
1	int
]	O
;	O
char	O
maxbuf	array
[	O
UINTMAX_STRSIZE_BOUND	O
]	O
;	O
char	O
minbuf	array
[	O
UINTMAX_STRSIZE_BOUND	O
+	O
1	int
]	O
;	O
char	O
const	O
*	O
minval_string	pointer
;	O
char	O
const	O
*	O
maxval_string	pointer
=	O
STRINGIFY_BIGINT	O
(	O
maxval	long
,	O
maxbuf	array
)	O
;	O
char	O
const	O
*	O
value_string	pointer
;	O
fprintf	function
(	O
stderr	pointer
,	O
"%s: to_chars: making substitute value.\n"	pointer
,	O
swlib_utilname_get	function
(	O
)	O
)	O
;	O
if	O
(	O
base256_allowed	int
)	O
{	O
uintmax_t	long
m	long
=	O
maxval	long
+	O
1	int
?	O
maxval	long
+	O
1	int
:	O
maxval	long
/	O
2	int
+	O
1	int
;	O
char	O
*	O
p	pointer
=	O
STRINGIFY_BIGINT	O
(	O
m	long
,	O
minbuf	array
+	O
1	int
)	O
;	O
*	O
--	O
p	pointer
=	O
'-'	O
;	O
minval_string	pointer
=	O
p	pointer
;	O
}	O
else	O
minval_string	pointer
=	O
"0"	pointer
;	O
if	O
(	O
negative	int
)	O
{	O
char	O
*	O
p	pointer
=	O
STRINGIFY_BIGINT	O
(	O
-	O
value	long
,	O
valbuf	array
+	O
1	int
)	O
;	O
*	O
--	O
p	pointer
=	O
'-'	O
;	O
value_string	pointer
=	O
p	pointer
;	O
}	O
else	O
value_string	pointer
=	O
STRINGIFY_BIGINT	O
(	O
value	long
,	O
valbuf	array
)	O
;	O
if	O
(	O
substitute	pointer
)	O
{	O
int	O
negsub	int
;	O
uintmax_t	long
sub	long
=	O
substitute	pointer
(	O
&	O
negsub	int
)	O
&	O
maxval	long
;	O
uintmax_t	long
s	pointer
=	O
(	O
negsub	int
&=	O
archive_format	enum
==	O
GNU_FORMAT	int
)	O
?	O
-	O
sub	long
:	O
sub	long
;	O
char	O
subbuf	array
[	O
UINTMAX_STRSIZE_BOUND	O
+	O
1	int
]	O
;	O
char	O
*	O
sub_string	pointer
=	O
STRINGIFY_BIGINT	O
(	O
s	pointer
,	O
subbuf	array
+	O
1	int
)	O
;	O
if	O
(	O
negsub	int
)	O
*	O
--	O
sub_string	pointer
=	O
'-'	O
;	O
fprintf	function
(	O
stderr	pointer
,	O
"value %s out of %s range %s..%s; substituting %s\n"	pointer
,	O
value_string	pointer
,	O
type	pointer
,	O
minval_string	pointer
,	O
maxval_string	pointer
,	O
sub_string	pointer
)	O
;	O
to_chars	function
(	O
negsub	int
,	O
s	pointer
,	O
valsize	long
,	O
0	int
,	O
where	pointer
,	O
size	long
,	O
type	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
else	O
fprintf	function
(	O
stderr	pointer
,	O
"value %s out of %s range %s..%s\n"	pointer
,	O
value_string	pointer
,	O
type	pointer
,	O
minval_string	pointer
,	O
maxval_string	pointer
)	O
;	O
}	O
}	O
static	O
uintmax_t	long
gid_substitute	function
(	O
int	O
*	O
negative	int
)	O
{	O
intmax_t	long
r	long
;	O
int	O
eid	int
=	O
0	int
;	O
static	O
gid_t	int
gid_nobody	int
;	O
if	O
(	O
!	O
gid_nobody	int
)	O
{	O
if	O
(	O
taru_get_gid_by_name	function
(	O
AHS_USERNAME_NOBODY	pointer
,	O
&	O
gid_nobody	int
)	O
)	O
{	O
eid	int
=	O
-	O
2	int
;	O
gid_nobody	int
=	O
-	O
2	int
;	O
}	O
}	O
r	long
=	O
(	O
gid_t	int
)	O
gid_nobody	int
;	O
*	O
negative	int
=	O
eid	int
<	O
0	int
;	O
return	O
r	long
;	O
}	O
void	O
gid_to_chars	function
(	O
gid_t	int
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
v	int
<	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
gid_substitute	function
,	O
p	pointer
,	O
s	pointer
,	O
"gid_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
major_to_chars	function
(	O
major_t	int
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
v	int
<	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"major_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
minor_to_chars	function
(	O
minor_t	int
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
v	int
<	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"minor_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
mode_to_chars	function
(	O
mode_t	int
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
int	O
negative	int
;	O
uintmax_t	long
u	long
;	O
if	O
(	O
S_ISUID	O
==	O
TSUID	int
&&	O
S_ISGID	O
==	O
TSGID	int
&&	O
S_ISVTX	O
==	O
TSVTX	int
&&	O
S_IRUSR	O
==	O
TUREAD	int
&&	O
S_IWUSR	O
==	O
TUWRITE	int
&&	O
S_IXUSR	O
==	O
TUEXEC	int
&&	O
S_IRGRP	O
==	O
TGREAD	int
&&	O
S_IWGRP	O
==	O
TGWRITE	int
&&	O
S_IXGRP	O
==	O
TGEXEC	int
&&	O
S_IROTH	O
==	O
TOREAD	int
&&	O
S_IWOTH	O
==	O
TOWRITE	int
&&	O
S_IXOTH	O
==	O
TOEXEC	int
&&	O
archive_format	enum
!=	O
POSIX_FORMAT	int
&&	O
archive_format	enum
!=	O
GNU_FORMAT	int
)	O
{	O
negative	int
=	O
v	int
<	O
0	int
;	O
u	long
=	O
v	int
;	O
}	O
else	O
{	O
negative	int
=	O
0	int
;	O
u	long
=	O
(	O
(	O
v	int
&	O
S_ISUID	O
?	O
TSUID	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_ISGID	O
?	O
TSGID	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_ISVTX	O
?	O
TSVTX	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IRUSR	O
?	O
TUREAD	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IWUSR	O
?	O
TUWRITE	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IXUSR	O
?	O
TUEXEC	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IRGRP	O
?	O
TGREAD	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IWGRP	O
?	O
TGWRITE	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IXGRP	O
?	O
TGEXEC	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IROTH	O
?	O
TOREAD	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IWOTH	O
?	O
TOWRITE	int
:	O
0	int
)	O
|	O
(	O
v	int
&	O
S_IXOTH	O
?	O
TOEXEC	int
:	O
0	int
)	O
)	O
;	O
}	O
to_chars	function
(	O
negative	int
,	O
u	long
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"mode_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
off_to_chars	function
(	O
off_t	long
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
v	int
<	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"off_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
size_to_chars	function
(	O
size_t	long
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"size_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
time_to_chars	function
(	O
time_t	long
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
v	int
<	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"time_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
static	O
uintmax_t	long
uid_substitute	function
(	O
int	O
*	O
negative	int
)	O
{	O
intmax_t	long
r	long
;	O
int	O
eid	int
=	O
0	int
;	O
static	O
uid_t	int
uid_nobody	int
;	O
if	O
(	O
!	O
uid_nobody	int
)	O
{	O
if	O
(	O
taru_get_uid_by_name	function
(	O
AHS_USERNAME_NOBODY	pointer
,	O
&	O
uid_nobody	int
)	O
)	O
{	O
eid	int
=	O
-	O
2	int
;	O
uid_nobody	int
=	O
-	O
2	int
;	O
}	O
}	O
r	long
=	O
(	O
uid_t	int
)	O
uid_nobody	int
;	O
*	O
negative	int
=	O
eid	int
<	O
0	int
;	O
return	O
r	long
;	O
}	O
void	O
uid_to_chars	function
(	O
uid_t	int
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
v	int
<	O
0	int
,	O
(	O
uintmax_t	long
)	O
v	int
,	O
sizeof	O
v	int
,	O
uid_substitute	function
,	O
p	pointer
,	O
s	pointer
,	O
"uid_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
void	O
uintmax_to_chars	function
(	O
uintmax_t	long
v	int
,	O
char	O
*	O
p	pointer
,	O
size_t	long
s	pointer
,	O
int	O
archive_format	enum
,	O
int	O
termch	int
)	O
{	O
to_chars	function
(	O
0	int
,	O
v	int
,	O
sizeof	O
v	int
,	O
0	int
,	O
p	pointer
,	O
s	pointer
,	O
"uintmax_t"	pointer
,	O
archive_format	enum
,	O
termch	int
)	O
;	O
}	O
