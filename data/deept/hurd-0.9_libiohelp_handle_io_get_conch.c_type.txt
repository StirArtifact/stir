void	O
iohelp_handle_io_get_conch	function
(	O
struct	O
conch	struct
*	O
c	pointer
,	O
void	O
*	O
user	pointer
,	O
struct	O
shared_io	O
*	O
user_sh	pointer
)	O
{	O
if	O
(	O
c	pointer
->	O
holder	pointer
==	O
user	pointer
)	O
{	O
if	O
(	O
user_sh	pointer
->	O
conch_status	O
!=	O
USER_HAS_NOT_CONCH	O
)	O
iohelp_fetch_shared_data	function
(	O
user	pointer
)	O
;	O
else	O
user_sh	pointer
->	O
accessed	O
=	O
user_sh	pointer
->	O
written	O
=	O
0	int
;	O
iohelp_put_shared_data	function
(	O
user	pointer
)	O
;	O
user_sh	pointer
->	O
conch_status	O
=	O
USER_HAS_CONCH	O
;	O
}	O
else	O
{	O
iohelp_get_conch	function
(	O
c	pointer
)	O
;	O
c	pointer
->	O
holder	pointer
=	O
user	pointer
;	O
c	pointer
->	O
holder_shared_page	pointer
=	O
user_sh	pointer
;	O
if	O
(	O
user_sh	pointer
->	O
conch_status	O
==	O
USER_HAS_NOT_CONCH	O
)	O
user_sh	pointer
->	O
accessed	O
=	O
user_sh	pointer
->	O
written	O
=	O
0	int
;	O
user_sh	pointer
->	O
conch_status	O
=	O
USER_HAS_CONCH	O
;	O
iohelp_put_shared_data	function
(	O
user	pointer
)	O
;	O
}	O
}	O
