static	O
void	O
clear_ungetc_buffer_preserving_position	function
(	O
FILE	struct
*	O
fp	pointer
)	O
{	O
if	O
(	O
fp	pointer
->	O
_flags	int
&	O
_IO_IN_BACKUP	int
)	O
fseeko	function
(	O
fp	pointer
,	O
0	int
,	O
SEEK_CUR	int
)	O
;	O
}	O
int	O
rpl_fflush	function
(	O
FILE	struct
*	O
stream	pointer
)	O
{	O
if	O
(	O
stream	pointer
==	O
NULL	O
||	O
!	O
freading	function
(	O
stream	pointer
)	O
)	O
return	O
fflush	function
(	O
stream	pointer
)	O
;	O
clear_ungetc_buffer_preserving_position	function
(	O
stream	pointer
)	O
;	O
return	O
fflush	function
(	O
stream	pointer
)	O
;	O
}	O