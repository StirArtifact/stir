int	O
inputLen	int
=	O
0	int
;	O
int	O
highlightChar	int
=	O
0	int
;	O
int	O
firstVisChar	int
=	O
0	int
;	O
void	O
uputchar	function
(	O
char	O
*	O
ch	pointer
)	O
{	O
static	O
char	O
c	array
[	O
5	int
]	O
;	O
memset	function
(	O
c	array
,	O
0	int
,	O
5	int
)	O
;	O
c	array
[	O
0	int
]	O
=	O
ch	pointer
[	O
0	int
]	O
;	O
if	O
(	O
(	O
c	array
[	O
0	int
]	O
&	O
mask	array
[	O
0	int
]	O
)	O
==	O
mask	array
[	O
0	int
]	O
)	O
c	array
[	O
1	int
]	O
=	O
ch	pointer
[	O
1	int
]	O
;	O
if	O
(	O
(	O
c	array
[	O
0	int
]	O
&	O
mask	array
[	O
1	int
]	O
)	O
==	O
mask	array
[	O
1	int
]	O
)	O
c	array
[	O
2	int
]	O
=	O
ch	pointer
[	O
2	int
]	O
;	O
if	O
(	O
(	O
c	array
[	O
0	int
]	O
&	O
mask	array
[	O
2	int
]	O
)	O
==	O
mask	array
[	O
2	int
]	O
)	O
c	array
[	O
3	int
]	O
=	O
ch	pointer
[	O
3	int
]	O
;	O
c	array
[	O
4	int
]	O
=	O
'0'	O
;	O
printf	function
(	O
"%s"	pointer
,	O
c	array
)	O
;	O
}	O
void	O
__dialog_prologue	function
(	O
int	O
*	O
msgW	pointer
,	O
int	O
*	O
msgH	pointer
,	O
char	O
*	O
msg	pointer
,	O
char	O
*	O
title	pointer
,	O
int	O
*	O
x	int
,	O
int	O
*	O
y	int
)	O
{	O
int	O
i	int
,	O
j	int
;	O
MAX_MSG_BOX_H	int
=	O
SCREEN_H	int
-	O
2	int
;	O
MAX_MSG_BOX_W	int
=	O
SCREEN_W	int
-	O
2	int
;	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
)	O
;	O
j	int
=	O
0	int
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
strlen	function
(	O
msg	pointer
)	O
;	O
i	int
++	O
)	O
{	O
if	O
(	O
msg	pointer
[	O
i	int
]	O
==	O
'\n'	O
)	O
{	O
(	O
*	O
msgH	pointer
)	O
++	O
;	O
j	int
=	O
0	int
;	O
}	O
else	O
{	O
if	O
(	O
j	int
>	O
MAX_MSG_BOX_W	int
)	O
{	O
j	int
=	O
0	int
;	O
(	O
*	O
msgH	pointer
)	O
++	O
;	O
}	O
j	int
++	O
;	O
if	O
(	O
j	int
>	O
(	O
*	O
msgW	pointer
)	O
)	O
(	O
*	O
msgW	pointer
)	O
=	O
j	int
;	O
}	O
}	O
*	O
msgH	pointer
+=	O
4	int
;	O
*	O
msgW	pointer
+=	O
3	int
;	O
if	O
(	O
*	O
msgW	pointer
<	O
34	int
)	O
*	O
msgW	pointer
=	O
34	int
;	O
if	O
(	O
*	O
msgH	pointer
%	O
2	int
)	O
(	O
*	O
msgH	pointer
)	O
++	O
;	O
if	O
(	O
*	O
msgH	pointer
>	O
MAX_MSG_BOX_H	int
)	O
*	O
msgH	pointer
=	O
MAX_MSG_BOX_H	int
;	O
*	O
x	int
=	O
(	O
SCREEN_H	int
/	O
2	int
)	O
-	O
(	O
(	O
*	O
msgH	pointer
)	O
/	O
2	int
)	O
;	O
*	O
y	int
=	O
(	O
SCREEN_W	int
-	O
(	O
*	O
msgW	pointer
)	O
)	O
/	O
2	int
;	O
drawBox	function
(	O
*	O
x	int
,	O
*	O
y	int
,	O
(	O
SCREEN_H	int
/	O
2	int
)	O
+	O
(	O
(	O
*	O
msgH	pointer
)	O
/	O
2	int
)	O
,	O
(	O
SCREEN_W	int
/	O
2	int
)	O
+	O
(	O
(	O
*	O
msgW	pointer
)	O
/	O
2	int
)	O
,	O
title	pointer
,	O
YES	int
)	O
;	O
(	O
*	O
y	int
)	O
+=	O
2	int
;	O
j	int
=	O
(	O
*	O
x	int
)	O
+	O
1	int
;	O
(	O
*	O
x	int
)	O
++	O
;	O
int	O
l	int
=	O
(	O
*	O
y	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
j	int
,	O
l	int
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
strlen	function
(	O
msg	pointer
)	O
;	O
i	int
++	O
)	O
{	O
if	O
(	O
msg	pointer
[	O
i	int
]	O
==	O
'\n'	O
)	O
{	O
l	int
=	O
(	O
*	O
y	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
++	O
j	int
,	O
l	int
)	O
;	O
}	O
else	O
{	O
if	O
(	O
l	int
>=	O
MAX_MSG_BOX_W	int
)	O
{	O
l	int
=	O
(	O
*	O
y	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
j	int
,	O
l	int
)	O
;	O
}	O
putchar	function
(	O
msg	pointer
[	O
i	int
]	O
)	O
;	O
}	O
}	O
}	O
void	O
__draw_dialog_buttons	function
(	O
int	O
*	O
msgW	pointer
,	O
int	O
*	O
msgH	pointer
,	O
int	O
buttons	int
,	O
int	O
*	O
x	int
,	O
int	O
*	O
y	int
,	O
int	O
sel	int
)	O
{	O
int	O
bx	int
,	O
by	int
;	O
if	O
(	O
buttons	int
==	O
5	int
)	O
{	O
bx	int
=	O
*	O
x	int
+	O
(	O
(	O
*	O
msgH	pointer
)	O
-	O
2	int
)	O
;	O
by	int
=	O
*	O
y	int
+	O
(	O
(	O
(	O
*	O
msgW	pointer
)	O
-	O
16	int
)	O
/	O
2	int
)	O
-	O
2	int
;	O
if	O
(	O
sel	int
==	O
0	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   OK   "	pointer
)	O
;	O
by	int
+=	O
12	int
;	O
if	O
(	O
sel	int
==	O
1	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
" CANCEL "	pointer
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
9	int
)	O
;	O
}	O
else	O
if	O
(	O
buttons	int
==	O
10	int
)	O
{	O
bx	int
=	O
*	O
x	int
+	O
(	O
(	O
*	O
msgH	pointer
)	O
-	O
2	int
)	O
;	O
by	int
=	O
*	O
y	int
+	O
(	O
(	O
(	O
*	O
msgW	pointer
)	O
-	O
16	int
)	O
/	O
2	int
)	O
-	O
2	int
;	O
if	O
(	O
sel	int
==	O
0	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   YES  "	pointer
)	O
;	O
by	int
+=	O
12	int
;	O
if	O
(	O
sel	int
==	O
1	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   NO   "	pointer
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
9	int
)	O
;	O
}	O
else	O
if	O
(	O
buttons	int
==	O
26	int
)	O
{	O
bx	int
=	O
*	O
x	int
+	O
(	O
(	O
*	O
msgH	pointer
)	O
-	O
2	int
)	O
;	O
by	int
=	O
*	O
y	int
+	O
(	O
(	O
(	O
*	O
msgW	pointer
)	O
-	O
24	int
)	O
/	O
2	int
)	O
-	O
2	int
;	O
if	O
(	O
sel	int
==	O
0	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   YES  "	pointer
)	O
;	O
by	int
+=	O
10	int
;	O
if	O
(	O
sel	int
==	O
1	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   ALL  "	pointer
)	O
;	O
by	int
+=	O
10	int
;	O
if	O
(	O
sel	int
==	O
2	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   NO   "	pointer
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
17	int
)	O
;	O
}	O
else	O
{	O
bx	int
=	O
*	O
x	int
+	O
(	O
(	O
*	O
msgH	pointer
)	O
-	O
2	int
)	O
;	O
by	int
=	O
*	O
y	int
+	O
(	O
(	O
(	O
*	O
msgW	pointer
)	O
-	O
8	int
)	O
/	O
2	int
)	O
-	O
2	int
;	O
if	O
(	O
sel	int
==	O
0	int
)	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HBUTTONS	int
]	O
)	O
;	O
else	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_BUTTONS	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"   OK   "	pointer
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
+	O
3	int
)	O
;	O
}	O
}	O
char	O
*	O
inputBoxI	function
(	O
char	O
*	O
msg	pointer
,	O
char	O
*	O
inputValue	pointer
,	O
char	O
*	O
title	pointer
)	O
{	O
int	O
msgW	pointer
=	O
0	int
;	O
int	O
msgH	pointer
=	O
0	int
;	O
int	O
i	int
=	O
0	int
;	O
int	O
x	int
,	O
y	int
;	O
showCursor	function
(	O
)	O
;	O
__dialog_prologue	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
msg	pointer
,	O
title	pointer
,	O
&	O
x	int
,	O
&	O
y	int
)	O
;	O
memset	function
(	O
(	O
void	O
*	O
)	O
input	array
,	O
0	int
,	O
MAX_INPUT_MSG_LEN	int
)	O
;	O
if	O
(	O
inputValue	pointer
)	O
{	O
if	O
(	O
strlen	function
(	O
inputValue	pointer
)	O
>	O
MAX_INPUT_MSG_LEN	int
)	O
strncpy	function
(	O
input	array
,	O
inputValue	pointer
,	O
MAX_INPUT_MSG_LEN	int
)	O
;	O
else	O
strcpy	function
(	O
input	array
,	O
inputValue	pointer
)	O
;	O
}	O
inputLen	int
=	O
strlen	function
(	O
input	array
)	O
;	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
x	int
+	O
(	O
msgH	pointer
-	O
4	int
)	O
,	O
y	int
)	O
;	O
if	O
(	O
strlen	function
(	O
input	array
)	O
>	O
msgW	pointer
-	O
3	int
)	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
msgW	pointer
-	O
3	int
;	O
i	int
++	O
)	O
putchar	function
(	O
input	array
[	O
i	int
]	O
)	O
;	O
else	O
{	O
printf	function
(	O
"%s"	pointer
,	O
input	array
)	O
;	O
printf	function
(	O
"%*s"	pointer
,	O
(	O
int	O
)	O
(	O
msgW	pointer
-	O
3	int
-	O
strlen	function
(	O
input	array
)	O
)	O
,	O
" "	pointer
)	O
;	O
}	O
int	O
bx	int
,	O
by	int
;	O
int	O
sel	int
=	O
2	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
5	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
-	O
1	int
)	O
;	O
bx	int
=	O
x	int
+	O
(	O
msgH	pointer
-	O
2	int
)	O
;	O
by	int
=	O
y	int
+	O
(	O
(	O
msgW	pointer
-	O
16	int
)	O
/	O
2	int
)	O
+	O
10	int
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
int	O
ch	pointer
;	O
while	O
(	O
1	int
)	O
{	O
ch	pointer
=	O
getKey	function
(	O
)	O
;	O
switch	O
(	O
ch	pointer
)	O
{	O
case	O
(	O
ESC_KEY	int
)	O
:	O
firstVisChar	int
=	O
0	int
;	O
highlightChar	int
=	O
0	int
;	O
inputLen	int
=	O
0	int
;	O
strcpy	function
(	O
input	array
,	O
"\0"	pointer
)	O
;	O
return	O
NULL	O
;	O
break	O
;	O
case	O
(	O
SPACE_KEY	int
)	O
:	O
if	O
(	O
sel	int
==	O
2	int
)	O
{	O
goto	O
enterInputChar	O
;	O
break	O
;	O
}	O
case	O
(	O
ENTER_KEY	int
)	O
:	O
if	O
(	O
sel	int
==	O
0	int
||	O
sel	int
==	O
2	int
)	O
{	O
if	O
(	O
inputLen	int
<=	O
0	int
)	O
{	O
strcpy	function
(	O
input	array
,	O
"\0"	pointer
)	O
;	O
return	O
NULL	O
;	O
}	O
firstVisChar	int
=	O
0	int
;	O
highlightChar	int
=	O
0	int
;	O
inputLen	int
=	O
0	int
;	O
return	O
input	array
;	O
}	O
if	O
(	O
sel	int
==	O
1	int
)	O
{	O
firstVisChar	int
=	O
0	int
;	O
highlightChar	int
=	O
0	int
;	O
inputLen	int
=	O
0	int
;	O
strcpy	function
(	O
input	array
,	O
"\0"	pointer
)	O
;	O
return	O
NULL	O
;	O
}	O
break	O
;	O
case	O
(	O
RIGHT_KEY	int
)	O
:	O
if	O
(	O
firstVisChar	int
+	O
highlightChar	int
>=	O
inputLen	int
)	O
break	O
;	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
)	O
;	O
if	O
(	O
highlightChar	int
>=	O
msgW	pointer
-	O
4	int
)	O
{	O
if	O
(	O
inputLen	int
<=	O
firstVisChar	int
+	O
msgW	pointer
-	O
4	int
)	O
break	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
)	O
;	O
for	O
(	O
i	int
=	O
++	O
firstVisChar	int
;	O
i	int
<=	O
(	O
firstVisChar	int
+	O
msgW	pointer
-	O
4	int
)	O
;	O
i	int
++	O
)	O
{	O
if	O
(	O
input	array
[	O
i	int
]	O
==	O
'\0'	O
)	O
putchar	function
(	O
' '	O
)	O
;	O
else	O
putchar	function
(	O
input	array
[	O
i	int
]	O
)	O
;	O
}	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
}	O
else	O
{	O
highlightChar	int
++	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
}	O
fflush	function
(	O
stdout	pointer
)	O
;	O
break	O
;	O
case	O
(	O
LEFT_KEY	int
)	O
:	O
if	O
(	O
firstVisChar	int
==	O
0	int
&&	O
highlightChar	int
==	O
0	int
)	O
break	O
;	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
)	O
;	O
if	O
(	O
highlightChar	int
==	O
0	int
&&	O
firstVisChar	int
!=	O
0	int
)	O
{	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
)	O
;	O
for	O
(	O
i	int
=	O
--	O
firstVisChar	int
;	O
i	int
<=	O
(	O
firstVisChar	int
+	O
msgW	pointer
-	O
4	int
)	O
;	O
i	int
++	O
)	O
putchar	function
(	O
input	array
[	O
i	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
)	O
;	O
}	O
else	O
{	O
highlightChar	int
--	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
}	O
fflush	function
(	O
stdout	pointer
)	O
;	O
break	O
;	O
case	O
(	O
TAB_KEY	int
)	O
:	O
if	O
(	O
sel	int
==	O
0	int
)	O
{	O
sel	int
=	O
1	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
5	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
+	O
1	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
1	int
)	O
{	O
sel	int
=	O
2	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
5	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
}	O
else	O
{	O
sel	int
=	O
0	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
5	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
9	int
)	O
;	O
}	O
fflush	function
(	O
stdout	pointer
)	O
;	O
break	O
;	O
case	O
(	O
DEL_KEY	int
)	O
:	O
if	O
(	O
(	O
firstVisChar	int
+	O
highlightChar	int
)	O
==	O
(	O
inputLen	int
)	O
)	O
break	O
;	O
for	O
(	O
i	int
=	O
firstVisChar	int
+	O
highlightChar	int
;	O
i	int
<	O
inputLen	int
-	O
1	int
;	O
i	int
++	O
)	O
input	array
[	O
i	int
]	O
=	O
input	array
[	O
i	int
+	O
1	int
]	O
;	O
input	array
[	O
--	O
inputLen	int
]	O
=	O
'\0'	O
;	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
for	O
(	O
i	int
=	O
highlightChar	int
;	O
i	int
<	O
(	O
msgW	pointer
-	O
3	int
)	O
;	O
i	int
++	O
)	O
{	O
if	O
(	O
input	array
[	O
firstVisChar	int
+	O
i	int
]	O
==	O
'\0'	O
)	O
putchar	function
(	O
' '	O
)	O
;	O
else	O
putchar	function
(	O
input	array
[	O
firstVisChar	int
+	O
i	int
]	O
)	O
;	O
}	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
break	O
;	O
case	O
(	O
BACKSPACE_KEY	int
)	O
:	O
if	O
(	O
highlightChar	int
==	O
0	int
)	O
{	O
if	O
(	O
firstVisChar	int
==	O
0	int
)	O
break	O
;	O
firstVisChar	int
--	O
;	O
for	O
(	O
i	int
=	O
firstVisChar	int
;	O
i	int
<	O
inputLen	int
-	O
1	int
;	O
i	int
++	O
)	O
input	array
[	O
i	int
]	O
=	O
input	array
[	O
i	int
+	O
1	int
]	O
;	O
input	array
[	O
--	O
inputLen	int
]	O
=	O
'\0'	O
;	O
}	O
else	O
{	O
highlightChar	int
--	O
;	O
for	O
(	O
i	int
=	O
firstVisChar	int
+	O
highlightChar	int
;	O
i	int
<	O
inputLen	int
-	O
1	int
;	O
i	int
++	O
)	O
input	array
[	O
i	int
]	O
=	O
input	array
[	O
i	int
+	O
1	int
]	O
;	O
input	array
[	O
--	O
inputLen	int
]	O
=	O
'\0'	O
;	O
}	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
)	O
;	O
for	O
(	O
i	int
=	O
firstVisChar	int
;	O
i	int
<	O
(	O
firstVisChar	int
+	O
msgW	pointer
-	O
3	int
)	O
;	O
i	int
++	O
)	O
{	O
if	O
(	O
input	array
[	O
i	int
]	O
==	O
'\0'	O
)	O
putchar	function
(	O
' '	O
)	O
;	O
else	O
putchar	function
(	O
input	array
[	O
i	int
]	O
)	O
;	O
}	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
break	O
;	O
default	O
:	O
if	O
(	O
(	O
ch	pointer
>=	O
'a'	O
&&	O
ch	pointer
<=	O
'z'	O
)	O
||	O
(	O
ch	pointer
>=	O
'A'	O
&&	O
ch	pointer
<=	O
'Z'	O
)	O
||	O
(	O
ch	pointer
>=	O
32	int
&&	O
ch	pointer
<=	O
64	int
)	O
||	O
(	O
ch	pointer
>=	O
123	int
&&	O
ch	pointer
<=	O
126	int
)	O
)	O
{	O
enterInputChar	O
:	O
if	O
(	O
strlen	function
(	O
input	array
)	O
>=	O
MAX_INPUT_MSG_LEN	int
)	O
break	O
;	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_HIGHLIGHT_TEXT	int
]	O
)	O
;	O
if	O
(	O
input	array
[	O
highlightChar	int
]	O
!=	O
'\0'	O
)	O
{	O
for	O
(	O
i	int
=	O
inputLen	int
;	O
i	int
>	O
firstVisChar	int
+	O
highlightChar	int
;	O
i	int
--	O
)	O
input	array
[	O
i	int
]	O
=	O
input	array
[	O
i	int
-	O
1	int
]	O
;	O
}	O
input	array
[	O
firstVisChar	int
+	O
(	O
highlightChar	int
++	O
)	O
]	O
=	O
ch	pointer
;	O
inputLen	int
++	O
;	O
if	O
(	O
highlightChar	int
>=	O
msgW	pointer
-	O
3	int
)	O
{	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
)	O
;	O
highlightChar	int
--	O
;	O
for	O
(	O
i	int
=	O
++	O
firstVisChar	int
;	O
i	int
<=	O
(	O
firstVisChar	int
+	O
msgW	pointer
-	O
4	int
)	O
;	O
i	int
++	O
)	O
putchar	function
(	O
input	array
[	O
i	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
msgW	pointer
-	O
4	int
)	O
;	O
}	O
else	O
{	O
putchar	function
(	O
input	array
[	O
highlightChar	int
-	O
1	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
if	O
(	O
inputLen	int
>	O
firstVisChar	int
+	O
highlightChar	int
)	O
{	O
for	O
(	O
i	int
=	O
highlightChar	int
;	O
i	int
<	O
(	O
msgW	pointer
-	O
4	int
)	O
;	O
i	int
++	O
)	O
{	O
if	O
(	O
input	array
[	O
firstVisChar	int
+	O
i	int
]	O
==	O
'\0'	O
)	O
putchar	function
(	O
' '	O
)	O
;	O
else	O
putchar	function
(	O
input	array
[	O
firstVisChar	int
+	O
i	int
]	O
)	O
;	O
}	O
}	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
-	O
2	int
,	O
y	int
+	O
highlightChar	int
)	O
;	O
}	O
}	O
fflush	function
(	O
stdout	pointer
)	O
;	O
}	O
}	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
strcpy	function
(	O
input	array
,	O
"\0"	pointer
)	O
;	O
return	O
NULL	O
;	O
}	O
char	O
*	O
inputBox	function
(	O
char	O
*	O
msg	pointer
,	O
char	O
*	O
title	pointer
)	O
{	O
return	O
inputBoxI	function
(	O
msg	pointer
,	O
NULL	O
,	O
title	pointer
)	O
;	O
}	O
char	O
*	O
getUserInput	function
(	O
char	O
*	O
msg	pointer
,	O
char	O
*	O
title	pointer
)	O
{	O
inputBox	function
(	O
msg	pointer
,	O
title	pointer
)	O
;	O
int	O
len1	int
=	O
strlen	function
(	O
input	array
)	O
;	O
if	O
(	O
!	O
len1	int
)	O
return	O
NULL	O
;	O
char	O
*	O
res	pointer
=	O
(	O
char	O
*	O
)	O
malloc	function
(	O
len1	int
+	O
1	int
)	O
;	O
if	O
(	O
!	O
res	pointer
)	O
return	O
NULL	O
;	O
strcpy	function
(	O
res	pointer
,	O
input	array
)	O
;	O
return	O
res	pointer
;	O
}	O
int	O
_msg_box	function
(	O
char	O
*	O
msg	pointer
,	O
char	O
*	O
title	pointer
,	O
int	O
buttons	int
)	O
{	O
int	O
msgW	pointer
=	O
0	int
;	O
int	O
msgH	pointer
=	O
0	int
;	O
int	O
x	int
,	O
y	int
;	O
__dialog_prologue	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
msg	pointer
,	O
title	pointer
,	O
&	O
x	int
,	O
&	O
y	int
)	O
;	O
int	O
bx	int
,	O
by	int
;	O
int	O
sel	int
=	O
0	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
buttons	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
int	O
ch	pointer
;	O
while	O
(	O
1	int
)	O
{	O
ch	pointer
=	O
getKey	function
(	O
)	O
;	O
switch	O
(	O
ch	pointer
)	O
{	O
case	O
(	O
ESC_KEY	int
)	O
:	O
return	O
ABORT	int
;	O
break	O
;	O
case	O
(	O
SPACE_KEY	int
)	O
:	O
case	O
(	O
ENTER_KEY	int
)	O
:	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
5	int
)	O
return	O
OK	int
;	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
10	int
)	O
return	O
YES	int
;	O
if	O
(	O
sel	int
==	O
1	int
&&	O
buttons	int
==	O
5	int
)	O
return	O
CANCEL	int
;	O
if	O
(	O
sel	int
==	O
1	int
&&	O
buttons	int
==	O
10	int
)	O
return	O
NO	int
;	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
1	int
)	O
return	O
OK	int
;	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
26	int
)	O
return	O
YES	int
;	O
if	O
(	O
sel	int
==	O
1	int
&&	O
buttons	int
==	O
26	int
)	O
return	O
ALL	int
;	O
if	O
(	O
sel	int
==	O
2	int
&&	O
buttons	int
==	O
26	int
)	O
return	O
NO	int
;	O
break	O
;	O
case	O
(	O
RIGHT_KEY	int
)	O
:	O
case	O
(	O
LEFT_KEY	int
)	O
:	O
case	O
(	O
TAB_KEY	int
)	O
:	O
bx	int
=	O
x	int
+	O
(	O
msgH	pointer
-	O
2	int
)	O
;	O
by	int
=	O
y	int
+	O
(	O
(	O
msgW	pointer
-	O
16	int
)	O
/	O
2	int
)	O
-	O
2	int
;	O
by	int
+=	O
12	int
;	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
26	int
)	O
{	O
sel	int
=	O
1	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
26	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
7	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
1	int
&&	O
buttons	int
==	O
26	int
)	O
{	O
sel	int
=	O
2	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
26	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
+	O
3	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
2	int
&&	O
buttons	int
==	O
26	int
)	O
{	O
sel	int
=	O
0	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
26	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
17	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
5	int
)	O
{	O
sel	int
=	O
1	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
5	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
+	O
1	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
0	int
&&	O
buttons	int
==	O
10	int
)	O
{	O
sel	int
=	O
1	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
10	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
+	O
1	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
1	int
&&	O
buttons	int
==	O
5	int
)	O
{	O
sel	int
=	O
0	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
5	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
9	int
)	O
;	O
}	O
else	O
if	O
(	O
sel	int
==	O
1	int
&&	O
buttons	int
==	O
10	int
)	O
{	O
sel	int
=	O
0	int
;	O
__draw_dialog_buttons	function
(	O
&	O
msgW	pointer
,	O
&	O
msgH	pointer
,	O
10	int
,	O
&	O
x	int
,	O
&	O
y	int
,	O
sel	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
bx	int
,	O
by	int
-	O
9	int
)	O
;	O
}	O
fflush	function
(	O
stdout	pointer
)	O
;	O
break	O
;	O
}	O
}	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
return	O
(	O
0	int
)	O
;	O
}	O
int	O
msgBox	function
(	O
char	O
*	O
msg	pointer
,	O
int	O
buttons	int
,	O
msgtype	enum
tmsg	enum
)	O
{	O
char	O
*	O
title	pointer
;	O
switch	O
(	O
tmsg	enum
)	O
{	O
case	O
(	O
INFO	int
)	O
:	O
title	pointer
=	O
" INFORMATION "	pointer
;	O
break	O
;	O
case	O
(	O
ERROR	int
)	O
:	O
title	pointer
=	O
" ERROR "	pointer
;	O
break	O
;	O
case	O
(	O
CONFIRM	int
)	O
:	O
title	pointer
=	O
" CONFIRMATION "	pointer
;	O
break	O
;	O
default	O
:	O
title	pointer
=	O
" MESSAGE "	pointer
;	O
break	O
;	O
}	O
return	O
_msg_box	function
(	O
msg	pointer
,	O
title	pointer
,	O
buttons	int
)	O
;	O
}	O
int	O
msgBoxH	function
(	O
char	O
*	O
msg	pointer
,	O
int	O
buttons	int
,	O
msgtype	enum
tmsg	enum
)	O
{	O
showCursor	function
(	O
)	O
;	O
int	O
res	pointer
=	O
msgBox	function
(	O
msg	pointer
,	O
buttons	int
,	O
tmsg	enum
)	O
;	O
hideCursor	function
(	O
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
return	O
res	pointer
;	O
}	O
void	O
drawBox	function
(	O
int	O
x1	int
,	O
int	O
y1	int
,	O
int	O
x2	int
,	O
int	O
y2	int
,	O
char	O
*	O
title	pointer
,	O
int	O
clearArea	int
)	O
{	O
if	O
(	O
y2	int
<=	O
y1	int
)	O
return	O
;	O
if	O
(	O
x2	int
<=	O
x1	int
)	O
return	O
;	O
char	O
spaces	O
[	O
y2	int
-	O
y1	int
]	O
;	O
int	O
i	int
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
y2	int
-	O
y1	int
-	O
1	int
;	O
i	int
++	O
)	O
spaces	O
[	O
i	int
]	O
=	O
' '	O
;	O
spaces	O
[	O
i	int
]	O
=	O
'\0'	O
;	O
printf	function
(	O
"\x1b[0m"	pointer
)	O
;	O
if	O
(	O
clearArea	int
==	O
YES	int
)	O
{	O
for	O
(	O
i	int
=	O
1	int
;	O
i	int
<	O
(	O
x2	int
-	O
x1	int
)	O
;	O
i	int
++	O
)	O
{	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
x1	int
+	O
i	int
,	O
y1	int
+	O
1	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"%s"	pointer
,	O
spaces	O
)	O
;	O
}	O
}	O
setScreenColors	function
(	O
FG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
,	O
BG_COLOR	array
[	O
COLOR_WINDOW	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
x1	int
,	O
y1	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e)0\x0e"	pointer
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
putchar	function
(	O
ULC	int
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
(	O
y2	int
-	O
y1	int
)	O
-	O
1	int
;	O
i	int
++	O
)	O
{	O
putchar	function
(	O
HB	int
)	O
;	O
}	O
putchar	function
(	O
URC	int
)	O
;	O
putchar	function
(	O
'\n'	O
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
(	O
x2	int
-	O
x1	int
)	O
-	O
1	int
;	O
i	int
++	O
)	O
{	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
x1	int
+	O
i	int
+	O
1	int
,	O
y1	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"%c\x1b[%d;%dH%c"	pointer
,	O
VB	int
,	O
x1	int
+	O
i	int
+	O
1	int
,	O
y2	int
,	O
VB	int
)	O
;	O
}	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH"	pointer
,	O
x2	int
,	O
y1	int
)	O
;	O
putchar	function
(	O
LLC	int
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
(	O
y2	int
-	O
y1	int
)	O
-	O
1	int
;	O
i	int
++	O
)	O
{	O
putchar	function
(	O
HB	int
)	O
;	O
}	O
putchar	function
(	O
LRC	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x0f"	pointer
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
if	O
(	O
title	pointer
!=	O
NULL	O
)	O
{	O
int	O
tmp1	int
=	O
(	O
y2	int
-	O
y1	int
)	O
/	O
2	int
;	O
int	O
tmp2	int
=	O
strlen	function
(	O
title	pointer
)	O
/	O
2	int
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\x1b[%d;%dH%s"	pointer
,	O
x1	int
,	O
y1	int
+	O
tmp1	int
-	O
tmp2	int
,	O
title	pointer
)	O
;	O
}	O
fflush	function
(	O
stdout	pointer
)	O
;	O
}	O
void	O
drawBoxP	function
(	O
point	struct
p1	struct
,	O
point	struct
p2	struct
,	O
char	O
*	O
title	pointer
,	O
int	O
clearArea	int
)	O
{	O
drawBox	function
(	O
p1	struct
.	O
row	int
,	O
p1	struct
.	O
col	int
,	O
p2	struct
.	O
row	int
,	O
p2	struct
.	O
col	int
,	O
title	pointer
,	O
clearArea	int
)	O
;	O
}	O
int	O
catchAllSignals	function
(	O
)	O
{	O
int	O
res	pointer
=	O
1	int
;	O
if	O
(	O
signal	function
(	O
SIGINT	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGQUIT	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGABRT	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGTERM	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGTSTP	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGKILL	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGSTOP	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
return	O
res	pointer
;	O
}	O
int	O
catchSignals	function
(	O
)	O
{	O
int	O
res	pointer
=	O
1	int
;	O
if	O
(	O
signal	function
(	O
SIGINT	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGQUIT	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGABRT	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
if	O
(	O
signal	function
(	O
SIGTERM	int
,	O
sighandler	function
)	O
==	O
SIG_ERR	O
)	O
{	O
res	pointer
=	O
0	int
;	O
}	O
return	O
res	pointer
;	O
}	O
int	O
show_about	function
(	O
char	O
*	O
msg	pointer
)	O
{	O
char	O
*	O
title	pointer
=	O
" ABOUT "	pointer
;	O
return	O
_msg_box	function
(	O
msg	pointer
,	O
title	pointer
,	O
OK	int
)	O
;	O
}	O
int	O
show_readme	function
(	O
char	O
*	O
readme	pointer
,	O
char	O
*	O
title	pointer
,	O
int	O
GNU_DOS_LEVEL	int
)	O
{	O
char	O
*	O
readme_err	array
[	O
]	O
=	O
{	O
"Failed to open README file!."	pointer
,	O
"Error reading README file!."	pointer
,	O
"Insufficient memory!."	pointer
,	O
}	O
;	O
int	O
err	long
=	O
-	O
1	int
,	O
i	int
;	O
FILE	struct
*	O
README	pointer
;	O
char	O
*	O
buf	pointer
;	O
long	O
buf_len	long
=	O
0	int
;	O
if	O
(	O
!	O
(	O
README	pointer
=	O
fopen	function
(	O
readme	pointer
,	O
"r"	pointer
)	O
)	O
)	O
{	O
msgBoxH	function
(	O
readme_err	array
[	O
0	int
]	O
,	O
OK	int
,	O
ERROR	int
)	O
;	O
return	O
1	int
;	O
}	O
i	int
=	O
fseek	function
(	O
README	pointer
,	O
0	int
,	O
SEEK_END	int
)	O
;	O
buf_len	long
=	O
ftell	function
(	O
README	pointer
)	O
;	O
rewind	function
(	O
README	pointer
)	O
;	O
if	O
(	O
i	int
==	O
-	O
1	int
||	O
buf_len	long
==	O
-	O
1	int
)	O
{	O
err	long
=	O
1	int
;	O
goto	O
return_err	O
;	O
}	O
buf_len	long
+=	O
512	int
;	O
buf	pointer
=	O
(	O
char	O
*	O
)	O
malloc	function
(	O
buf_len	long
)	O
;	O
if	O
(	O
!	O
buf	pointer
)	O
{	O
err	long
=	O
2	int
;	O
goto	O
return_err	O
;	O
}	O
int	O
x	int
=	O
3	int
;	O
int	O
y	int
=	O
3	int
;	O
int	O
w	int
=	O
SCREEN_W	int
-	O
4	int
;	O
int	O
h	int
=	O
SCREEN_H	int
-	O
4	int
;	O
i	int
=	O
0	int
;	O
int	O
firstVisLine	int
=	O
0	int
;	O
int	O
ch	pointer
;	O
char	O
moreLines	char
=	O
1	int
;	O
int	O
index	function
=	O
0	int
;	O
int	O
inc	int
;	O
long	O
total_lines	long
=	O
0	int
;	O
long	O
first_char	long
=	O
0	int
;	O
while	O
(	O
(	O
inc	int
=	O
fgetc	function
(	O
README	pointer
)	O
)	O
!=	O
EOF	O
)	O
{	O
buf	pointer
[	O
index	function
++	O
]	O
=	O
inc	int
;	O
if	O
(	O
inc	int
==	O
'\n'	O
)	O
{	O
i	int
=	O
0	int
;	O
total_lines	long
++	O
;	O
}	O
else	O
i	int
++	O
;	O
if	O
(	O
i	int
==	O
w	int
)	O
{	O
buf	pointer
[	O
index	function
++	O
]	O
=	O
'\n'	O
;	O
buf_len	long
++	O
;	O
total_lines	long
++	O
;	O
i	int
=	O
0	int
;	O
}	O
buf_len	long
++	O
;	O
}	O
buf	pointer
[	O
index	function
]	O
=	O
'\0'	O
;	O
buf_len	long
=	O
index	function
;	O
if	O
(	O
!	O
total_lines	long
)	O
{	O
if	O
(	O
index	function
)	O
total_lines	long
=	O
1	int
;	O
else	O
{	O
err	long
=	O
1	int
;	O
goto	O
return_err	O
;	O
}	O
}	O
if	O
(	O
total_lines	long
<	O
h	int
)	O
moreLines	char
=	O
0	int
;	O
else	O
moreLines	char
=	O
1	int
;	O
firstVisLine	int
=	O
0	int
;	O
first_char	long
=	O
0	int
;	O
int	O
lines	int
=	O
0	int
;	O
read	function
:	O
if	O
(	O
title	pointer
)	O
drawBox	function
(	O
x	int
-	O
1	int
,	O
y	int
-	O
1	int
,	O
h	int
+	O
x	int
,	O
w	int
+	O
y	int
,	O
title	pointer
,	O
YES	int
)	O
;	O
else	O
drawBox	function
(	O
x	int
-	O
1	int
,	O
y	int
-	O
1	int
,	O
h	int
+	O
x	int
,	O
w	int
+	O
y	int
,	O
" README "	pointer
,	O
YES	int
)	O
;	O
lines	int
=	O
0	int
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
x	int
,	O
y	int
)	O
;	O
i	int
=	O
first_char	long
;	O
while	O
(	O
i	int
<	O
buf_len	long
)	O
{	O
if	O
(	O
buf	pointer
[	O
i	int
]	O
==	O
'\n'	O
)	O
{	O
lines	int
++	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
x	int
+	O
lines	int
,	O
y	int
)	O
;	O
if	O
(	O
lines	int
>=	O
h	int
)	O
break	O
;	O
}	O
else	O
putchar	function
(	O
buf	pointer
[	O
i	int
]	O
)	O
;	O
i	int
++	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
}	O
if	O
(	O
firstVisLine	int
+	O
lines	int
<	O
total_lines	long
)	O
moreLines	char
=	O
1	int
;	O
else	O
moreLines	char
=	O
0	int
;	O
while	O
(	O
1	int
)	O
{	O
ch	pointer
=	O
getKey	function
(	O
)	O
;	O
switch	O
(	O
ch	pointer
)	O
{	O
case	O
(	O
'g'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
3	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
goto	O
do_esc	O
;	O
case	O
(	O
ESC_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
2	int
)	O
break	O
;	O
do_esc	O
:	O
case	O
(	O
ENTER_KEY	int
)	O
:	O
case	O
(	O
SPACE_KEY	int
)	O
:	O
goto	O
end	O
;	O
break	O
;	O
case	O
(	O
'p'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
2	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
goto	O
do_up	O
;	O
case	O
(	O
UP_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
break	O
;	O
do_up	O
:	O
if	O
(	O
firstVisLine	int
==	O
0	int
)	O
break	O
;	O
i	int
=	O
first_char	long
-	O
1	int
;	O
while	O
(	O
i	int
>=	O
0	int
)	O
{	O
i	int
--	O
;	O
if	O
(	O
buf	pointer
[	O
i	int
]	O
==	O
'\n'	O
)	O
break	O
;	O
}	O
i	int
++	O
;	O
first_char	long
=	O
i	int
;	O
firstVisLine	int
--	O
;	O
goto	O
read	function
;	O
break	O
;	O
case	O
(	O
'n'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
2	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
goto	O
do_down	O
;	O
case	O
(	O
DOWN_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
break	O
;	O
do_down	O
:	O
if	O
(	O
!	O
moreLines	char
)	O
break	O
;	O
i	int
=	O
first_char	long
;	O
while	O
(	O
i	int
<	O
buf_len	long
)	O
{	O
if	O
(	O
buf	pointer
[	O
i	int
]	O
==	O
'\n'	O
||	O
buf	pointer
[	O
i	int
]	O
==	O
'\0'	O
)	O
break	O
;	O
i	int
++	O
;	O
}	O
if	O
(	O
i	int
<	O
buf_len	long
)	O
i	int
++	O
;	O
first_char	long
=	O
i	int
;	O
firstVisLine	int
++	O
;	O
goto	O
read	function
;	O
break	O
;	O
}	O
}	O
end	O
:	O
fclose	function
(	O
README	pointer
)	O
;	O
return	O
0	int
;	O
return_err	O
:	O
fclose	function
(	O
README	pointer
)	O
;	O
msgBoxH	function
(	O
readme_err	array
[	O
err	long
]	O
,	O
OK	int
,	O
ERROR	int
)	O
;	O
return	O
1	int
;	O
}	O
