extern	O
pthread_mutex_t	union
_plotters_mutex	union
;	O
int	O
_API_flushpl	O
(	O
S___	O
(	O
Plotter	struct
*	O
_plotter	pointer
)	O
)	O
{	O
int	O
retval	int
=	O
0	int
;	O
if	O
(	O
!	O
_plotter	pointer
->	O
data	pointer
->	O
open	enum
)	O
{	O
_plotter	pointer
->	O
error	pointer
(	O
R___	O
(	O
_plotter	pointer
)	O
"flushpl: invalid operation"	pointer
)	O
;	O
return	O
-	O
1	int
;	O
}	O
switch	O
(	O
(	O
int	O
)	O
_plotter	pointer
->	O
data	pointer
->	O
output_model	enum
)	O
{	O
case	O
(	O
int	O
)	O
PL_OUTPUT_NONE	int
:	O
break	O
;	O
case	O
(	O
int	O
)	O
PL_OUTPUT_ONE_PAGE	int
:	O
case	O
(	O
int	O
)	O
PL_OUTPUT_ONE_PAGE_AT_A_TIME	int
:	O
case	O
(	O
int	O
)	O
PL_OUTPUT_PAGES_ALL_AT_ONCE	int
:	O
if	O
(	O
_plotter	pointer
->	O
data	pointer
->	O
outfp	pointer
)	O
{	O
if	O
(	O
fflush	function
(	O
_plotter	pointer
->	O
data	pointer
->	O
outfp	pointer
)	O
<	O
0	int
)	O
retval	int
=	O
-	O
1	int
;	O
}	O
break	O
;	O
case	O
(	O
int	O
)	O
PL_OUTPUT_VIA_CUSTOM_ROUTINES	int
:	O
case	O
(	O
int	O
)	O
PL_OUTPUT_VIA_CUSTOM_ROUTINES_IN_REAL_TIME	int
:	O
case	O
(	O
int	O
)	O
PL_OUTPUT_VIA_CUSTOM_ROUTINES_TO_NON_STREAM	int
:	O
if	O
(	O
_plotter	pointer
->	O
flush_output	pointer
(	O
S___	O
(	O
_plotter	pointer
)	O
)	O
==	O
false	int
)	O
retval	int
=	O
-	O
1	int
;	O
break	O
;	O
default	O
:	O
break	O
;	O
}	O
if	O
(	O
retval	int
<	O
0	int
)	O
_plotter	pointer
->	O
error	pointer
(	O
R___	O
(	O
_plotter	pointer
)	O
"the output stream is jammed"	pointer
)	O
;	O
return	O
retval	int
;	O
}	O
bool	enum
_pl_g_flush_output	function
(	O
S___	O
(	O
Plotter	struct
*	O
_plotter	pointer
)	O
)	O
{	O
return	O
true	int
;	O
}	O
void	O
_pl_g_flush_plotter_outstreams	function
(	O
S___	O
(	O
Plotter	struct
*	O
_plotter	pointer
)	O
)	O
{	O
fflush	function
(	O
(	O
FILE	struct
*	O
)	O
NULL	O
)	O
;	O
}	O
