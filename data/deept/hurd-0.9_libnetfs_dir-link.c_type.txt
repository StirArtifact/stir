error_t	O
netfs_S_dir_link	function
(	O
struct	O
protid	struct
*	O
diruser	pointer
,	O
struct	O
protid	struct
*	O
fileuser	pointer
,	O
char	O
*	O
name	pointer
,	O
int	O
excl	int
)	O
{	O
error_t	O
err	O
;	O
if	O
(	O
!	O
diruser	pointer
)	O
return	O
EOPNOTSUPP	O
;	O
if	O
(	O
!	O
fileuser	pointer
)	O
return	O
EXDEV	O
;	O
err	O
=	O
netfs_attempt_link	function
(	O
diruser	pointer
->	O
user	pointer
,	O
diruser	pointer
->	O
po	pointer
->	O
np	pointer
,	O
fileuser	pointer
->	O
po	pointer
->	O
np	pointer
,	O
name	pointer
,	O
excl	int
)	O
;	O
if	O
(	O
!	O
err	O
)	O
mach_port_deallocate	function
(	O
mach_task_self	function
(	O
)	O
,	O
fileuser	pointer
->	O
pi	struct
.	O
port_right	O
)	O
;	O
return	O
err	O
;	O
}	O
