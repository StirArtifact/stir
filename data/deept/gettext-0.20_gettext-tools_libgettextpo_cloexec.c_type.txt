int	O
set_cloexec_flag	O
(	O
int	O
desc	O
,	O
bool	O
value	O
)	O
{	O
if	O
(	O
desc	O
<	O
0	int
)	O
{	O
errno	O
=	O
EBADF	O
;	O
return	O
-	O
1	int
;	O
}	O
if	O
(	O
dup2	O
(	O
desc	O
,	O
desc	O
)	O
<	O
0	int
)	O
return	O
-	O
1	int
;	O
return	O
0	int
;	O
}	O
int	O
dup_cloexec	O
(	O
int	O
fd	O
)	O
{	O
return	O
fcntl	O
(	O
fd	O
,	O
F_DUPFD_CLOEXEC	O
,	O
0	int
)	O
;	O
}	O
