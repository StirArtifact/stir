const	O
mt_off_t	long
max_off_t_31	long
=	O
MAX_OFF_T_B	O
(	O
31	int
)	O
;	O
static	O
const	O
mt_off_t	long
max_off_t_32	long
=	O
MAX_OFF_T_B	O
(	O
32	int
)	O
;	O
const	O
mt_off_t	long
max_off_t_41	long
=	O
MAX_OFF_T_B	O
(	O
41	int
)	O
;	O
const	O
mt_off_t	long
max_off_t_seek	long
=	O
MAX_OFF_T_B	O
(	O
SEEK_BITS	int
)	O
;	O
int	O
fileTooBig	function
(	O
mt_off_t	long
off	long
)	O
{	O
return	O
(	O
off	long
&	O
~	O
max_off_t_32	long
)	O
!=	O
0	int
;	O
}	O
off_t	long
truncBytes32	function
(	O
mt_off_t	long
off	long
)	O
{	O
if	O
(	O
fileTooBig	function
(	O
off	long
)	O
)	O
{	O
fprintf	function
(	O
stderr	pointer
,	O
"Internal error, offset too big\n"	pointer
)	O
;	O
exit	function
(	O
1	int
)	O
;	O
}	O
return	O
(	O
off_t	long
)	O
off	long
;	O
}	O
mt_off_t	long
sectorsToBytes	function
(	O
Stream_t	struct
*	O
Stream	pointer
,	O
off_t	long
off	long
)	O
{	O
DeclareThis	O
(	O
Fs_t	struct
)	O
;	O
return	O
(	O
mt_off_t	long
)	O
off	long
<<	O
This	pointer
->	O
sectorShift	int
;	O
}	O
int	O
mt_lseek	function
(	O
int	O
fd	int
,	O
mt_off_t	long
where	long
,	O
int	O
whence	int
)	O
{	O
if	O
(	O
lseek64	function
(	O
fd	int
,	O
where	long
,	O
whence	int
)	O
>=	O
0	int
)	O
return	O
0	int
;	O
else	O
return	O
-	O
1	int
;	O
}	O
unsigned	O
int	O
log_2	function
(	O
int	O
size	array
)	O
{	O
unsigned	O
int	O
i	int
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
24	int
;	O
i	int
++	O
)	O
{	O
if	O
(	O
1	int
<<	O
i	int
==	O
size	array
)	O
return	O
i	int
;	O
}	O
return	O
24	int
;	O
}	O
