typedef	O
int	O
outcode_t	int
;	O
static	O
outcode_t	int
CompOutCode	function
(	O
AWindow	struct
*	O
w	pointer
,	O
int	O
x	int
,	O
int	O
y	int
)	O
{	O
outcode_t	int
code	int
=	O
NONE	int
;	O
if	O
(	O
y	int
>	O
w	pointer
->	O
clip	struct
.	O
y2	short
)	O
{	O
code	int
|=	O
Top	int
;	O
}	O
else	O
if	O
(	O
y	int
<	O
w	pointer
->	O
clip	struct
.	O
y1	short
)	O
{	O
code	int
|=	O
Bottom	int
;	O
}	O
if	O
(	O
x	int
>	O
w	pointer
->	O
clip	struct
.	O
x2	short
)	O
{	O
code	int
|=	O
Right	int
;	O
}	O
else	O
if	O
(	O
x	int
<	O
w	pointer
->	O
clip	struct
.	O
x1	short
)	O
{	O
code	int
|=	O
Left	int
;	O
}	O
return	O
code	int
;	O
}	O
int	O
ClipLine	function
(	O
AWindow	struct
*	O
w	pointer
,	O
int	O
*	O
x0	pointer
,	O
int	O
*	O
y0	pointer
,	O
int	O
*	O
x1	short
,	O
int	O
*	O
y1	short
)	O
{	O
outcode_t	int
outcode0	int
,	O
outcode1	int
,	O
outcodeOut	int
;	O
int	O
accept	int
=	O
1	int
,	O
done	int
=	O
0	int
;	O
outcode0	int
=	O
CompOutCode	function
(	O
w	pointer
,	O
*	O
x0	pointer
,	O
*	O
y0	pointer
)	O
;	O
outcode1	int
=	O
CompOutCode	function
(	O
w	pointer
,	O
*	O
x1	short
,	O
*	O
y1	short
)	O
;	O
do	O
{	O
if	O
(	O
outcode0	int
==	O
0	int
&&	O
outcode1	int
==	O
0	int
)	O
{	O
accept	int
=	O
0	int
;	O
done	int
=	O
1	int
;	O
}	O
else	O
if	O
(	O
outcode0	int
&	O
outcode1	int
)	O
{	O
done	int
=	O
1	int
;	O
}	O
else	O
{	O
int	O
x	int
,	O
y	int
;	O
outcodeOut	int
=	O
outcode0	int
?	O
outcode0	int
:	O
outcode1	int
;	O
if	O
(	O
outcodeOut	int
&	O
Top	int
)	O
{	O
x	int
=	O
*	O
x0	pointer
+	O
(	O
*	O
x1	short
-	O
*	O
x0	pointer
)	O
*	O
(	O
w	pointer
->	O
clip	struct
.	O
y2	short
-	O
*	O
y0	pointer
)	O
/	O
(	O
*	O
y1	short
-	O
*	O
y0	pointer
)	O
;	O
y	int
=	O
w	pointer
->	O
clip	struct
.	O
y2	short
;	O
}	O
else	O
if	O
(	O
outcodeOut	int
&	O
Bottom	int
)	O
{	O
x	int
=	O
*	O
x0	pointer
+	O
(	O
*	O
x1	short
-	O
*	O
x0	pointer
)	O
*	O
(	O
w	pointer
->	O
clip	struct
.	O
y1	short
-	O
*	O
y0	pointer
)	O
/	O
(	O
*	O
y1	short
-	O
*	O
y0	pointer
)	O
;	O
y	int
=	O
w	pointer
->	O
clip	struct
.	O
y1	short
;	O
}	O
else	O
if	O
(	O
outcodeOut	int
&	O
Right	int
)	O
{	O
y	int
=	O
*	O
y0	pointer
+	O
(	O
*	O
y1	short
-	O
*	O
y0	pointer
)	O
*	O
(	O
w	pointer
->	O
clip	struct
.	O
x2	short
-	O
*	O
x0	pointer
)	O
/	O
(	O
*	O
x1	short
-	O
*	O
x0	pointer
)	O
;	O
x	int
=	O
w	pointer
->	O
clip	struct
.	O
x2	short
;	O
}	O
else	O
{	O
y	int
=	O
*	O
y0	pointer
+	O
(	O
*	O
y1	short
-	O
*	O
y0	pointer
)	O
*	O
(	O
w	pointer
->	O
clip	struct
.	O
x1	short
-	O
*	O
x0	pointer
)	O
/	O
(	O
*	O
x1	short
-	O
*	O
x0	pointer
)	O
;	O
x	int
=	O
w	pointer
->	O
clip	struct
.	O
x1	short
;	O
}	O
if	O
(	O
outcodeOut	int
==	O
outcode0	int
)	O
{	O
*	O
x0	pointer
=	O
x	int
;	O
*	O
y0	pointer
=	O
y	int
;	O
outcode0	int
=	O
CompOutCode	function
(	O
w	pointer
,	O
*	O
x0	pointer
,	O
*	O
y0	pointer
)	O
;	O
}	O
else	O
{	O
*	O
x1	short
=	O
x	int
;	O
*	O
y1	short
=	O
y	int
;	O
outcode1	int
=	O
CompOutCode	function
(	O
w	pointer
,	O
*	O
x1	short
,	O
*	O
y1	short
)	O
;	O
}	O
}	O
}	O
while	O
(	O
done	int
==	O
0	int
)	O
;	O
return	O
accept	int
;	O
}	O
