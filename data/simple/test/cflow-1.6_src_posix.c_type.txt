static	O
void	O
print_symbol_type	function
(	O
FILE	struct
*	O
outfile	pointer
,	O
Symbol	struct
*	O
sym	pointer
)	O
{	O
if	O
(	O
sym	pointer
->	O
decl	pointer
)	O
fprintf	function
(	O
outfile	pointer
,	O
"%s, <%s %d>"	pointer
,	O
sym	pointer
->	O
decl	pointer
,	O
sym	pointer
->	O
source	pointer
,	O
sym	pointer
->	O
def_line	int
)	O
;	O
else	O
fprintf	function
(	O
outfile	pointer
,	O
"<>"	pointer
)	O
;	O
}	O
static	O
int	O
print_symbol	function
(	O
FILE	struct
*	O
outfile	pointer
,	O
int	O
line	int
,	O
struct	O
output_symbol	struct
*	O
s	long
)	O
{	O
print_level	function
(	O
s	long
->	O
level	int
,	O
s	long
->	O
last	int
)	O
;	O
fprintf	function
(	O
outfile	pointer
,	O
"%s: "	pointer
,	O
s	long
->	O
sym	pointer
->	O
name	pointer
)	O
;	O
if	O
(	O
brief_listing	int
)	O
{	O
if	O
(	O
s	long
->	O
sym	pointer
->	O
expand_line	int
)	O
{	O
fprintf	function
(	O
outfile	pointer
,	O
"%d"	pointer
,	O
s	long
->	O
sym	pointer
->	O
expand_line	int
)	O
;	O
return	O
1	int
;	O
}	O
else	O
if	O
(	O
s	long
->	O
sym	pointer
->	O
callee	pointer
)	O
s	long
->	O
sym	pointer
->	O
expand_line	int
=	O
line	int
;	O
}	O
print_symbol_type	function
(	O
outfile	pointer
,	O
s	long
->	O
sym	pointer
)	O
;	O
return	O
0	int
;	O
}	O
int	O
posix_output_handler	function
(	O
cflow_output_command	enum
cmd	enum
,	O
FILE	struct
*	O
outfile	pointer
,	O
int	O
line	int
,	O
void	O
*	O
data	pointer
,	O
void	O
*	O
handler_data	pointer
)	O
{	O
switch	O
(	O
cmd	enum
)	O
{	O
case	O
cflow_output_init	int
:	O
if	O
(	O
emacs_option	int
)	O
error	function
(	O
EX_USAGE	int
,	O
0	int
,	O
_	O
(	O
"--format=posix is not compatible with --emacs"	pointer
)	O
)	O
;	O
brief_listing	int
=	O
print_line_numbers	int
=	O
omit_symbol_names_option	int
=	O
1	int
;	O
break	O
;	O
case	O
cflow_output_begin	int
:	O
case	O
cflow_output_end	int
:	O
case	O
cflow_output_separator	int
:	O
break	O
;	O
case	O
cflow_output_newline	int
:	O
fprintf	function
(	O
outfile	pointer
,	O
"\n"	pointer
)	O
;	O
break	O
;	O
case	O
cflow_output_text	int
:	O
fprintf	function
(	O
outfile	pointer
,	O
"%s"	pointer
,	O
(	O
char	O
*	O
)	O
data	pointer
)	O
;	O
break	O
;	O
case	O
cflow_output_symbol	int
:	O
return	O
print_symbol	function
(	O
outfile	pointer
,	O
line	int
,	O
data	pointer
)	O
;	O
}	O
return	O
0	int
;	O
}	O
