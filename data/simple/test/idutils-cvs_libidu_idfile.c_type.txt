int	O
io_size	function
(	O
FILE	struct
*	O
,	O
void	O
*	O
,	O
unsigned	O
int	O
size	long
,	O
int	O
)	O
;	O
char	O
const	O
*	O
locate_id_file_name	function
(	O
char	O
const	O
*	O
arg	pointer
)	O
{	O
static	O
char	O
file_name_buffer	array
[	O
BUFSIZ	int
]	O
;	O
char	O
*	O
buf	pointer
=	O
file_name_buffer	array
;	O
char	O
*	O
id_path	pointer
=	O
0	int
;	O
struct	O
stat	struct
rootb	struct
;	O
struct	O
stat	struct
statb	struct
;	O
if	O
(	O
arg	pointer
==	O
0	int
)	O
{	O
id_path	pointer
=	O
getenv	function
(	O
"IDPATH"	pointer
)	O
;	O
if	O
(	O
id_path	pointer
)	O
{	O
id_path	pointer
=	O
strdup	function
(	O
id_path	pointer
)	O
;	O
arg	pointer
=	O
strsep	function
(	O
&	O
id_path	pointer
,	O
":"	pointer
)	O
;	O
}	O
}	O
if	O
(	O
arg	pointer
==	O
0	int
)	O
arg	pointer
=	O
DEFAULT_ID_FILE_NAME	pointer
;	O
if	O
(	O
arg	pointer
[	O
0	int
]	O
==	O
'/'	O
)	O
return	O
arg	pointer
;	O
if	O
(	O
stat	struct
(	O
arg	pointer
,	O
&	O
statb	struct
)	O
==	O
0	int
)	O
return	O
arg	pointer
;	O
if	O
(	O
stat	struct
(	O
"/"	pointer
,	O
&	O
rootb	struct
)	O
!=	O
0	int
)	O
return	O
NULL	O
;	O
do	O
{	O
strcpy	function
(	O
buf	pointer
,	O
"../"	pointer
)	O
;	O
buf	pointer
+=	O
3	int
;	O
strcpy	function
(	O
buf	pointer
,	O
arg	pointer
)	O
;	O
if	O
(	O
stat	struct
(	O
file_name_buffer	array
,	O
&	O
statb	struct
)	O
==	O
0	int
)	O
return	O
file_name_buffer	array
;	O
*	O
buf	pointer
=	O
'\0'	O
;	O
if	O
(	O
stat	struct
(	O
file_name_buffer	array
,	O
&	O
statb	struct
)	O
!=	O
0	int
)	O
return	O
NULL	O
;	O
}	O
while	O
(	O
statb	struct
.	O
st_ino	long
!=	O
rootb	struct
.	O
st_ino	long
||	O
statb	struct
.	O
st_dev	long
!=	O
rootb	struct
.	O
st_dev	long
)	O
;	O
return	O
NULL	O
;	O
}	O
int	O
sizeof_idhead	function
(	O
)	O
{	O
return	O
io_idhead	function
(	O
0	int
,	O
io_size	function
,	O
0	int
)	O
;	O
}	O
int	O
io_size	function
(	O
FILE	struct
*	O
ignore_FILE	pointer
,	O
void	O
*	O
ignore_addr	pointer
,	O
unsigned	O
int	O
size	long
,	O
int	O
io_type	int
)	O
{	O
if	O
(	O
io_type	int
==	O
IO_TYPE_STR	int
)	O
error	function
(	O
0	int
,	O
0	int
,	O
_	O
(	O
"can't determine the io_size of a string!"	pointer
)	O
)	O
;	O
return	O
size	long
;	O
}	O
int	O
io_idhead	function
(	O
FILE	struct
*	O
fp	pointer
,	O
io_func_t	pointer
iof	pointer
,	O
struct	O
idhead	struct
*	O
idhp	pointer
)	O
{	O
unsigned	O
int	O
size	long
=	O
0	int
;	O
unsigned	O
char	O
pad	char
=	O
0	int
;	O
if	O
(	O
fp	pointer
)	O
fseek	function
(	O
fp	pointer
,	O
0L	int
,	O
0	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
idhp	pointer
->	O
idh_magic	array
,	O
2	int
,	O
IO_TYPE_FIX	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
pad	char
,	O
1	int
,	O
IO_TYPE_FIX	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_version	char
,	O
1	int
,	O
IO_TYPE_FIX	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_flags	short
,	O
2	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_file_links	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_files	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_tokens	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_buf_size	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_vec_size	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_tokens_offset	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_flinks_offset	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_end_offset	long
,	O
4	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_max_link	short
,	O
2	int
,	O
IO_TYPE_INT	int
)	O
;	O
size	long
+=	O
iof	pointer
(	O
fp	pointer
,	O
&	O
idhp	pointer
->	O
idh_max_path	short
,	O
2	int
,	O
IO_TYPE_INT	int
)	O
;	O
return	O
size	long
;	O
}	O
