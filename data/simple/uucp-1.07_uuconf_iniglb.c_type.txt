const	O
char	O
_uuconf_iniglb_rcsid	array
[	O
]	O
=	O
"$Id: iniglb.c,v 1.14 2002/03/05 19:10:42 ian Rel $"	pointer
;	O
int	O
_uuconf_iinit_global	function
(	O
pqglobal	pointer
)	O
struct	O
sglobal	struct
*	O
*	O
pqglobal	pointer
;	O
{	O
pointer	pointer
pblock	pointer
;	O
register	O
struct	O
sprocess	struct
*	O
qprocess	pointer
;	O
char	O
*	O
azargs	array
[	O
3	int
]	O
;	O
int	O
iret	int
;	O
pblock	pointer
=	O
uuconf_malloc_block	function
(	O
)	O
;	O
if	O
(	O
pblock	pointer
==	O
NULL	O
)	O
return	O
UUCONF_MALLOC_FAILED	O
;	O
*	O
pqglobal	pointer
=	O
(	O
struct	O
sglobal	struct
*	O
)	O
uuconf_malloc	function
(	O
pblock	pointer
,	O
sizeof	O
(	O
struct	O
sglobal	struct
)	O
)	O
;	O
if	O
(	O
*	O
pqglobal	pointer
==	O
NULL	O
)	O
{	O
uuconf_free_block	function
(	O
pblock	pointer
)	O
;	O
return	O
UUCONF_MALLOC_FAILED	O
;	O
}	O
(	O
*	O
pqglobal	pointer
)	O
->	O
qprocess	pointer
=	O
(	O
(	O
struct	O
sprocess	struct
*	O
)	O
uuconf_malloc	function
(	O
pblock	pointer
,	O
sizeof	O
(	O
struct	O
sprocess	struct
)	O
)	O
)	O
;	O
if	O
(	O
(	O
*	O
pqglobal	pointer
)	O
->	O
qprocess	pointer
==	O
NULL	O
)	O
{	O
uuconf_free_block	function
(	O
pblock	pointer
)	O
;	O
*	O
pqglobal	pointer
=	O
NULL	O
;	O
return	O
UUCONF_MALLOC_FAILED	O
;	O
}	O
(	O
*	O
pqglobal	pointer
)	O
->	O
pblock	pointer
=	O
pblock	pointer
;	O
(	O
*	O
pqglobal	pointer
)	O
->	O
ierrno	int
=	O
0	int
;	O
(	O
*	O
pqglobal	pointer
)	O
->	O
ilineno	int
=	O
0	int
;	O
(	O
*	O
pqglobal	pointer
)	O
->	O
zfilename	pointer
=	O
NULL	O
;	O
qprocess	pointer
=	O
(	O
*	O
pqglobal	pointer
)	O
->	O
qprocess	pointer
;	O
qprocess	pointer
->	O
zlocalname	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
zspooldir	pointer
=	O
SPOOLDIR	pointer
;	O
qprocess	pointer
->	O
zpubdir	pointer
=	O
PUBDIR	pointer
;	O
qprocess	pointer
->	O
zlockdir	pointer
=	O
SPOOLDIR	pointer
;	O
qprocess	pointer
->	O
zlogfile	pointer
=	O
LOGFILE	pointer
;	O
qprocess	pointer
->	O
zstatsfile	pointer
=	O
STATFILE	pointer
;	O
qprocess	pointer
->	O
zdebugfile	pointer
=	O
DEBUGFILE	pointer
;	O
qprocess	pointer
->	O
zdebug	pointer
=	O
""	pointer
;	O
qprocess	pointer
->	O
fstrip_login	int
=	O
TRUE	O
;	O
qprocess	pointer
->	O
fstrip_proto	int
=	O
TRUE	O
;	O
qprocess	pointer
->	O
cmaxuuxqts	int
=	O
0	int
;	O
qprocess	pointer
->	O
zrunuuxqt	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
fv2	int
=	O
TRUE	O
;	O
qprocess	pointer
->	O
fhdb	int
=	O
TRUE	O
;	O
qprocess	pointer
->	O
pzdialcodefiles	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pztimetables	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
zconfigfile	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzsysfiles	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzportfiles	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzdialfiles	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzpwdfiles	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzcallfiles	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
qunknown	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
fread_syslocs	int
=	O
FALSE	O
;	O
qprocess	pointer
->	O
qsyslocs	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
qvalidate	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
fuses_myname	int
=	O
FALSE	O
;	O
qprocess	pointer
->	O
zv2systems	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
zv2devices	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
zv2userfile	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
zv2cmds	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzhdb_systems	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzhdb_devices	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
pzhdb_dialers	pointer
=	O
NULL	O
;	O
qprocess	pointer
->	O
fhdb_read_permissions	int
=	O
FALSE	O
;	O
qprocess	pointer
->	O
qhdb_permissions	pointer
=	O
NULL	O
;	O
azargs	array
[	O
0	int
]	O
=	O
NULL	O
;	O
azargs	array
[	O
1	int
]	O
=	O
(	O
char	O
*	O
)	O
"Evening"	pointer
;	O
azargs	array
[	O
2	int
]	O
=	O
(	O
char	O
*	O
)	O
"Wk1705-0755,Sa,Su"	pointer
;	O
iret	int
=	O
_uuconf_itimetable	function
(	O
(	O
pointer	pointer
)	O
*	O
pqglobal	pointer
,	O
3	int
,	O
azargs	array
,	O
(	O
pointer	pointer
)	O
NULL	O
,	O
(	O
pointer	pointer
)	O
NULL	O
)	O
;	O
if	O
(	O
UUCONF_ERROR_VALUE	O
(	O
iret	int
)	O
==	O
UUCONF_SUCCESS	O
)	O
{	O
azargs	array
[	O
1	int
]	O
=	O
(	O
char	O
*	O
)	O
"Night"	pointer
;	O
azargs	array
[	O
2	int
]	O
=	O
(	O
char	O
*	O
)	O
"Wk2305-0755,Sa,Su2305-1655"	pointer
;	O
iret	int
=	O
_uuconf_itimetable	function
(	O
(	O
pointer	pointer
)	O
*	O
pqglobal	pointer
,	O
3	int
,	O
azargs	array
,	O
(	O
pointer	pointer
)	O
NULL	O
,	O
(	O
pointer	pointer
)	O
NULL	O
)	O
;	O
}	O
if	O
(	O
UUCONF_ERROR_VALUE	O
(	O
iret	int
)	O
==	O
UUCONF_SUCCESS	O
)	O
{	O
azargs	array
[	O
1	int
]	O
=	O
(	O
char	O
*	O
)	O
"NonPeak"	pointer
;	O
azargs	array
[	O
2	int
]	O
=	O
(	O
char	O
*	O
)	O
"Wk1805-0655,Sa,Su"	pointer
;	O
iret	int
=	O
_uuconf_itimetable	function
(	O
(	O
pointer	pointer
)	O
*	O
pqglobal	pointer
,	O
3	int
,	O
azargs	array
,	O
(	O
pointer	pointer
)	O
NULL	O
,	O
(	O
pointer	pointer
)	O
NULL	O
)	O
;	O
}	O
if	O
(	O
UUCONF_ERROR_VALUE	O
(	O
iret	int
)	O
!=	O
UUCONF_SUCCESS	O
)	O
{	O
uuconf_free_block	function
(	O
pblock	pointer
)	O
;	O
*	O
pqglobal	pointer
=	O
NULL	O
;	O
return	O
UUCONF_ERROR_VALUE	O
(	O
iret	int
)	O
;	O
}	O
return	O
UUCONF_SUCCESS	O
;	O
}	O
int	O
_uuconf_itimetable	function
(	O
pglobal	pointer
,	O
argc	int
,	O
argv	pointer
,	O
pvar	pointer
,	O
pinfo	pointer
)	O
pointer	pointer
pglobal	pointer
;	O
int	O
argc	int
ATTRIBUTE_UNUSED	O
;	O
char	O
*	O
*	O
argv	pointer
;	O
pointer	pointer
pvar	pointer
ATTRIBUTE_UNUSED	O
;	O
pointer	pointer
pinfo	pointer
ATTRIBUTE_UNUSED	O
;	O
{	O
struct	O
sglobal	struct
*	O
qglobal	pointer
=	O
(	O
struct	O
sglobal	struct
*	O
)	O
pglobal	pointer
;	O
int	O
iret	int
;	O
iret	int
=	O
_uuconf_iadd_string	function
(	O
qglobal	pointer
,	O
argv	pointer
[	O
1	int
]	O
,	O
FALSE	O
,	O
FALSE	O
,	O
&	O
qglobal	pointer
->	O
qprocess	pointer
->	O
pztimetables	pointer
,	O
qglobal	pointer
->	O
pblock	pointer
)	O
;	O
if	O
(	O
iret	int
!=	O
UUCONF_SUCCESS	O
)	O
return	O
iret	int
|	O
UUCONF_CMDTABRET_EXIT	O
;	O
iret	int
=	O
_uuconf_iadd_string	function
(	O
qglobal	pointer
,	O
argv	pointer
[	O
2	int
]	O
,	O
FALSE	O
,	O
FALSE	O
,	O
&	O
qglobal	pointer
->	O
qprocess	pointer
->	O
pztimetables	pointer
,	O
qglobal	pointer
->	O
pblock	pointer
)	O
;	O
if	O
(	O
iret	int
!=	O
UUCONF_SUCCESS	O
)	O
return	O
iret	int
|	O
UUCONF_CMDTABRET_EXIT	O
;	O
return	O
UUCONF_CMDTABRET_KEEP	O
;	O
}	O
