static	O
unsigned	O
char	O
dragon_num	array
[	O
BOARDMAX	O
]	O
;	O
static	O
int	O
next_white	int
;	O
static	O
int	O
next_black	int
;	O
static	O
const	O
int	O
colors	enum
[	O
3	int
]	O
[	O
5	int
]	O
=	O
{	O
{	O
0	int
,	O
0	int
,	O
0	int
,	O
0	int
,	O
0	int
}	O
,	O
{	O
6	int
,	O
2	int
,	O
1	int
,	O
3	int
,	O
5	int
}	O
,	O
{	O
6	int
,	O
2	int
,	O
1	int
,	O
3	int
,	O
5	int
}	O
}	O
;	O
static	O
const	O
int	O
domain_colors	array
[	O
4	int
]	O
=	O
{	O
5	int
,	O
1	int
,	O
2	int
,	O
3	int
}	O
;	O
void	O
start_draw_board	function
(	O
)	O
{	O
gg_init_color	function
(	O
)	O
;	O
draw_letter_coordinates	function
(	O
stderr	pointer
)	O
;	O
}	O
void	O
draw_color_char	function
(	O
int	O
m	int
,	O
int	O
n	int
,	O
int	O
c	char
,	O
int	O
color	int
)	O
{	O
if	O
(	O
n	int
==	O
0	int
)	O
fprintf	function
(	O
stderr	pointer
,	O
"\n%2d"	pointer
,	O
board_size	int
-	O
m	int
)	O
;	O
if	O
(	O
c	char
==	O
EMPTY	int
)	O
{	O
if	O
(	O
is_hoshi_point	function
(	O
m	int
,	O
n	int
)	O
)	O
c	char
=	O
'+'	O
;	O
else	O
c	char
=	O
'.'	O
;	O
}	O
if	O
(	O
color	int
==	O
GG_COLOR_BLACK	int
)	O
fprintf	function
(	O
stderr	pointer
,	O
" %c"	pointer
,	O
c	char
)	O
;	O
else	O
write_color_char	function
(	O
color	int
,	O
c	char
)	O
;	O
if	O
(	O
n	int
==	O
board_size	int
-	O
1	int
)	O
fprintf	function
(	O
stderr	pointer
,	O
" %-2d"	pointer
,	O
board_size	int
-	O
m	int
)	O
;	O
}	O
void	O
draw_char	function
(	O
int	O
m	int
,	O
int	O
n	int
,	O
int	O
c	char
)	O
{	O
draw_color_char	function
(	O
m	int
,	O
n	int
,	O
c	char
,	O
GG_COLOR_BLACK	int
)	O
;	O
}	O
void	O
end_draw_board	function
(	O
)	O
{	O
fprintf	function
(	O
stderr	pointer
,	O
"\n"	pointer
)	O
;	O
draw_letter_coordinates	function
(	O
stderr	pointer
)	O
;	O
fprintf	function
(	O
stderr	pointer
,	O
"\n"	pointer
)	O
;	O
}	O
static	O
void	O
showchar	function
(	O
int	O
i	int
,	O
int	O
j	int
,	O
int	O
empty	int
,	O
int	O
xo	int
)	O
{	O
struct	O
dragon_data	struct
*	O
d	int
;	O
struct	O
dragon_data2	struct
*	O
d2	int
;	O
int	O
x	int
;	O
ASSERT_ON_BOARD2	O
(	O
i	int
,	O
j	int
)	O
;	O
x	int
=	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
;	O
d	int
=	O
&	O
(	O
dragon	int
[	O
POS	O
(	O
i	int
,	O
j	int
)	O
]	O
)	O
;	O
d2	int
=	O
&	O
(	O
dragon2	pointer
[	O
d	int
->	O
id	int
]	O
)	O
;	O
if	O
(	O
x	int
==	O
EMPTY	int
)	O
{	O
if	O
(	O
xo	int
!=	O
2	int
)	O
fprintf	function
(	O
stderr	pointer
,	O
" %c"	pointer
,	O
empty	int
)	O
;	O
else	O
{	O
int	O
empty_color	int
;	O
char	O
empty_char	char
;	O
if	O
(	O
black_eye	array
[	O
POS	O
(	O
i	int
,	O
j	int
)	O
]	O
.	O
color	int
==	O
BLACK	int
)	O
{	O
if	O
(	O
white_eye	array
[	O
POS	O
(	O
i	int
,	O
j	int
)	O
]	O
.	O
color	int
==	O
WHITE	int
)	O
empty_color	int
=	O
domain_colors	array
[	O
3	int
]	O
;	O
else	O
empty_color	int
=	O
domain_colors	array
[	O
1	int
]	O
;	O
if	O
(	O
black_eye	array
[	O
POS	O
(	O
i	int
,	O
j	int
)	O
]	O
.	O
marginal	char
)	O
empty_char	char
=	O
'!'	O
;	O
else	O
empty_char	char
=	O
'x'	O
;	O
}	O
else	O
if	O
(	O
white_eye	array
[	O
POS	O
(	O
i	int
,	O
j	int
)	O
]	O
.	O
color	int
==	O
WHITE	int
)	O
{	O
empty_color	int
=	O
domain_colors	array
[	O
2	int
]	O
;	O
if	O
(	O
white_eye	array
[	O
POS	O
(	O
i	int
,	O
j	int
)	O
]	O
.	O
marginal	char
)	O
empty_char	char
=	O
'!'	O
;	O
else	O
empty_char	char
=	O
'o'	O
;	O
}	O
else	O
{	O
empty_color	int
=	O
domain_colors	array
[	O
0	int
]	O
;	O
empty_char	char
=	O
'.'	O
;	O
}	O
write_color_char	function
(	O
empty_color	int
,	O
empty_char	char
)	O
;	O
}	O
}	O
else	O
{	O
int	O
w	int
;	O
if	O
(	O
xo	int
==	O
0	int
||	O
!	O
ON_BOARD1	O
(	O
d	int
->	O
origin	int
)	O
)	O
{	O
fprintf	function
(	O
stderr	pointer
,	O
" %c"	pointer
,	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
==	O
BLACK	int
?	O
'X'	O
:	O
'O'	O
)	O
;	O
return	O
;	O
}	O
w	int
=	O
dragon_num	array
[	O
d	int
->	O
origin	int
]	O
;	O
if	O
(	O
!	O
w	int
)	O
{	O
if	O
(	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
==	O
BLACK	int
)	O
w	int
=	O
dragon_num	array
[	O
d	int
->	O
origin	int
]	O
=	O
next_black	int
++	O
;	O
else	O
w	int
=	O
dragon_num	array
[	O
d	int
->	O
origin	int
]	O
=	O
next_white	int
--	O
;	O
}	O
w	int
=	O
w	int
%	O
26	int
+	O
(	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
==	O
BLACK	int
?	O
'A'	O
:	O
'a'	O
)	O
;	O
if	O
(	O
xo	int
==	O
1	int
)	O
write_color_char	function
(	O
colors	enum
[	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
]	O
[	O
d	int
->	O
crude_status	function
]	O
,	O
w	int
)	O
;	O
else	O
if	O
(	O
xo	int
==	O
2	int
)	O
{	O
if	O
(	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
==	O
BLACK	int
)	O
write_color_char	function
(	O
domain_colors	array
[	O
1	int
]	O
,	O
'X'	O
)	O
;	O
else	O
write_color_char	function
(	O
domain_colors	array
[	O
2	int
]	O
,	O
'O'	O
)	O
;	O
}	O
else	O
if	O
(	O
xo	int
==	O
3	int
)	O
write_color_char	function
(	O
colors	enum
[	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
]	O
[	O
d2	int
->	O
owl_status	enum
]	O
,	O
w	int
)	O
;	O
else	O
if	O
(	O
xo	int
==	O
4	int
)	O
write_color_char	function
(	O
colors	enum
[	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
]	O
[	O
d	int
->	O
status	enum
]	O
,	O
w	int
)	O
;	O
}	O
}	O
void	O
showboard	function
(	O
int	O
xo	int
)	O
{	O
int	O
i	int
,	O
j	int
,	O
ii	int
;	O
gg_init_color	function
(	O
)	O
;	O
memset	function
(	O
dragon_num	array
,	O
0	int
,	O
sizeof	O
(	O
dragon_num	array
)	O
)	O
;	O
next_white	int
=	O
(	O
259	int
-	O
26	int
)	O
;	O
next_black	int
=	O
26	int
;	O
start_draw_board	function
(	O
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
board_size	int
;	O
i	int
++	O
)	O
{	O
ii	int
=	O
board_size	int
-	O
i	int
;	O
fprintf	function
(	O
stderr	pointer
,	O
"\n%2d"	pointer
,	O
ii	int
)	O
;	O
for	O
(	O
j	int
=	O
0	int
;	O
j	int
<	O
board_size	int
;	O
j	int
++	O
)	O
showchar	function
(	O
i	int
,	O
j	int
,	O
is_hoshi_point	function
(	O
i	int
,	O
j	int
)	O
?	O
'+'	O
:	O
'.'	O
,	O
xo	int
)	O
;	O
fprintf	function
(	O
stderr	pointer
,	O
" %d"	pointer
,	O
ii	int
)	O
;	O
if	O
(	O
xo	int
==	O
0	int
&&	O
(	O
(	O
board_size	int
<	O
10	int
&&	O
i	int
==	O
board_size	int
-	O
2	int
)	O
||	O
(	O
board_size	int
>=	O
10	int
&&	O
i	int
==	O
8	int
)	O
)	O
)	O
fprintf	function
(	O
stderr	pointer
,	O
"     WHITE (O) has captured %d stones"	pointer
,	O
black_captured	int
)	O
;	O
if	O
(	O
xo	int
==	O
0	int
&&	O
(	O
(	O
board_size	int
<	O
10	int
&&	O
i	int
==	O
board_size	int
-	O
1	int
)	O
||	O
(	O
board_size	int
>=	O
10	int
&&	O
i	int
==	O
9	int
)	O
)	O
)	O
fprintf	function
(	O
stderr	pointer
,	O
"     BLACK (X) has captured %d stones"	pointer
,	O
white_captured	int
)	O
;	O
if	O
(	O
xo	int
==	O
3	int
)	O
{	O
if	O
(	O
i	int
==	O
board_size	int
-	O
5	int
)	O
write_color_string	function
(	O
GG_COLOR_GREEN	int
,	O
"    green=alive"	pointer
)	O
;	O
if	O
(	O
i	int
==	O
board_size	int
-	O
4	int
)	O
write_color_string	function
(	O
GG_COLOR_CYAN	int
,	O
"    cyan=dead"	pointer
)	O
;	O
if	O
(	O
i	int
==	O
board_size	int
-	O
3	int
)	O
write_color_string	function
(	O
GG_COLOR_RED	int
,	O
"    red=critical"	pointer
)	O
;	O
if	O
(	O
i	int
==	O
board_size	int
-	O
2	int
)	O
write_color_string	function
(	O
GG_COLOR_YELLOW	int
,	O
"    yellow=unknown"	pointer
)	O
;	O
if	O
(	O
i	int
==	O
board_size	int
-	O
1	int
)	O
write_color_string	function
(	O
GG_COLOR_MAGENTA	int
,	O
"    magenta=unchecked"	pointer
)	O
;	O
}	O
}	O
end_draw_board	function
(	O
)	O
;	O
}	O
static	O
const	O
char	O
*	O
status_names	array
[	O
]	O
=	O
{	O
DRAGON_STATUS_NAMES	O
}	O
;	O
const	O
char	O
*	O
status_to_string	function
(	O
enum	O
dragon_status	function
status	enum
)	O
{	O
return	O
status_names	array
[	O
(	O
int	O
)	O
status	enum
]	O
;	O
}	O
const	O
char	O
*	O
result_to_string	function
(	O
int	O
result	int
)	O
{	O
switch	O
(	O
result	int
)	O
{	O
case	O
0	int
:	O
return	O
"0"	pointer
;	O
case	O
KO_B	int
:	O
return	O
"KO_B"	pointer
;	O
case	O
LOSS	int
:	O
return	O
"LOSS"	pointer
;	O
case	O
GAIN	int
:	O
return	O
"GAIN"	pointer
;	O
case	O
KO_A	int
:	O
return	O
"KO_A"	pointer
;	O
case	O
WIN	int
:	O
return	O
"WIN"	pointer
;	O
default	O
:	O
return	O
"ERROR"	pointer
;	O
}	O
}	O
