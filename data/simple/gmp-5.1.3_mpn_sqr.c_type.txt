void	O
mpn_sqr	O
(	O
mp_ptr	pointer
p	pointer
,	O
mp_srcptr	pointer
a	int
,	O
mp_size_t	long
n	long
)	O
{	O
ASSERT	O
(	O
n	long
>=	O
1	int
)	O
;	O
ASSERT	O
(	O
!	O
MPN_OVERLAP_P	O
(	O
p	pointer
,	O
2	int
*	O
n	long
,	O
a	int
,	O
n	long
)	O
)	O
;	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_BASECASE_THRESHOLD	int
)	O
)	O
{	O
mpn_mul_basecase	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
a	int
,	O
n	long
)	O
;	O
}	O
else	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_TOOM2_THRESHOLD	int
)	O
)	O
{	O
mpn_sqr_basecase	O
(	O
p	pointer
,	O
a	int
,	O
n	long
)	O
;	O
}	O
else	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_TOOM3_THRESHOLD	int
)	O
)	O
{	O
mp_limb_t	long
ws	array
[	O
mpn_toom2_sqr_itch	O
(	O
SQR_TOOM3_THRESHOLD_LIMIT	O
-	O
1	int
)	O
]	O
;	O
ASSERT	O
(	O
SQR_TOOM3_THRESHOLD	int
<=	O
SQR_TOOM3_THRESHOLD_LIMIT	O
)	O
;	O
mpn_toom2_sqr	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
ws	array
)	O
;	O
}	O
else	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_TOOM4_THRESHOLD	int
)	O
)	O
{	O
mp_ptr	pointer
ws	array
;	O
TMP_SDECL	O
;	O
TMP_SMARK	O
;	O
ws	array
=	O
TMP_SALLOC_LIMBS	O
(	O
mpn_toom3_sqr_itch	O
(	O
n	long
)	O
)	O
;	O
mpn_toom3_sqr	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
ws	array
)	O
;	O
TMP_SFREE	O
;	O
}	O
else	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_TOOM6_THRESHOLD	int
)	O
)	O
{	O
mp_ptr	pointer
ws	array
;	O
TMP_SDECL	O
;	O
TMP_SMARK	O
;	O
ws	array
=	O
TMP_SALLOC_LIMBS	O
(	O
mpn_toom4_sqr_itch	O
(	O
n	long
)	O
)	O
;	O
mpn_toom4_sqr	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
ws	array
)	O
;	O
TMP_SFREE	O
;	O
}	O
else	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_TOOM8_THRESHOLD	int
)	O
)	O
{	O
mp_ptr	pointer
ws	array
;	O
TMP_SDECL	O
;	O
TMP_SMARK	O
;	O
ws	array
=	O
TMP_SALLOC_LIMBS	O
(	O
mpn_toom6_sqr_itch	O
(	O
n	long
)	O
)	O
;	O
mpn_toom6_sqr	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
ws	array
)	O
;	O
TMP_SFREE	O
;	O
}	O
else	O
if	O
(	O
BELOW_THRESHOLD	O
(	O
n	long
,	O
SQR_FFT_THRESHOLD	int
)	O
)	O
{	O
mp_ptr	pointer
ws	array
;	O
TMP_DECL	O
;	O
TMP_MARK	O
;	O
ws	array
=	O
TMP_ALLOC_LIMBS	O
(	O
mpn_toom8_sqr_itch	O
(	O
n	long
)	O
)	O
;	O
mpn_toom8_sqr	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
ws	array
)	O
;	O
TMP_FREE	O
;	O
}	O
else	O
{	O
mpn_fft_mul	O
(	O
p	pointer
,	O
a	int
,	O
n	long
,	O
a	int
,	O
n	long
)	O
;	O
}	O
}	O
