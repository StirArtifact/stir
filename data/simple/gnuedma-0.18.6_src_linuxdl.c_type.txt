HMEM	long
EDMAPROC	O
LoadLib	function
(	O
EPChar	pointer
n	pointer
)	O
{	O
EPVoid	pointer
a	pointer
;	O
a	pointer
=	O
dlopen	function
(	O
n	pointer
,	O
RTLD_NOW	int
|	O
RTLD_GLOBAL	int
)	O
;	O
if	O
(	O
!	O
a	pointer
)	O
{	O
edma_printf_err	function
(	O
"[LoadLib]%s"	pointer
,	O
dlerror	function
(	O
)	O
)	O
;	O
return	O
0	int
;	O
}	O
return	O
(	O
(	O
HMEM	long
)	O
a	pointer
)	O
;	O
}	O
EPVoid	pointer
EDMAPROC	O
GetAddress	function
(	O
HMEM	long
a	pointer
,	O
EPChar	pointer
n	pointer
)	O
{	O
EPVoid	pointer
p	pointer
;	O
EPChar	pointer
error	pointer
;	O
p	pointer
=	O
(	O
EPVoid	pointer
)	O
dlsym	function
(	O
(	O
EPVoid	pointer
)	O
a	pointer
,	O
n	pointer
)	O
;	O
error	pointer
=	O
dlerror	function
(	O
)	O
;	O
if	O
(	O
error	pointer
!=	O
NULL	O
)	O
{	O
edma_printf_err	function
(	O
"[GetAddress]%s"	pointer
,	O
error	pointer
)	O
;	O
return	O
0	int
;	O
}	O
return	O
p	pointer
;	O
}	O
EUint32	long
EDMAPROC	O
UnloadLib	function
(	O
HMEM	long
i	long
)	O
{	O
return	O
dlclose	function
(	O
(	O
EPVoid	pointer
)	O
i	long
)	O
;	O
}	O
