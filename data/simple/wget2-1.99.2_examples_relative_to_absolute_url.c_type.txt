int	O
main	function
(	O
void	O
)	O
{	O
const	O
char	O
*	O
base_url	pointer
=	O
"https://example.com/subdir1/"	pointer
;	O
const	O
char	O
*	O
relative_url	pointer
;	O
const	O
char	O
*	O
absolute_url	pointer
;	O
wget_iri	struct
*	O
base	pointer
=	O
wget_iri_parse	function
(	O
base_url	pointer
,	O
NULL	O
)	O
;	O
wget_buffer	struct
*	O
buf	pointer
=	O
wget_buffer_alloc	function
(	O
128	int
)	O
;	O
relative_url	pointer
=	O
"x.png"	pointer
;	O
absolute_url	pointer
=	O
wget_iri_relative_to_abs	function
(	O
base	pointer
,	O
relative_url	pointer
,	O
-	O
1	int
,	O
buf	pointer
)	O
;	O
printf	function
(	O
"%s + %s -> %s\n"	pointer
,	O
base_url	pointer
,	O
relative_url	pointer
,	O
absolute_url	pointer
)	O
;	O
relative_url	pointer
=	O
"../x.png"	pointer
;	O
absolute_url	pointer
=	O
wget_iri_relative_to_abs	function
(	O
base	pointer
,	O
relative_url	pointer
,	O
-	O
1	int
,	O
buf	pointer
)	O
;	O
printf	function
(	O
"%s + %s -> %s\n"	pointer
,	O
base_url	pointer
,	O
relative_url	pointer
,	O
absolute_url	pointer
)	O
;	O
relative_url	pointer
=	O
"../../x.png"	pointer
;	O
absolute_url	pointer
=	O
wget_iri_relative_to_abs	function
(	O
base	pointer
,	O
relative_url	pointer
,	O
-	O
1	int
,	O
buf	pointer
)	O
;	O
printf	function
(	O
"%s + %s -> %s\n"	pointer
,	O
base_url	pointer
,	O
relative_url	pointer
,	O
absolute_url	pointer
)	O
;	O
relative_url	pointer
=	O
"subdir2/x.png"	pointer
;	O
absolute_url	pointer
=	O
wget_iri_relative_to_abs	function
(	O
base	pointer
,	O
relative_url	pointer
,	O
-	O
1	int
,	O
buf	pointer
)	O
;	O
printf	function
(	O
"%s + %s -> %s\n"	pointer
,	O
base_url	pointer
,	O
relative_url	pointer
,	O
absolute_url	pointer
)	O
;	O
relative_url	pointer
=	O
"/x.png"	pointer
;	O
absolute_url	pointer
=	O
wget_iri_relative_to_abs	function
(	O
base	pointer
,	O
relative_url	pointer
,	O
-	O
1	int
,	O
buf	pointer
)	O
;	O
printf	function
(	O
"%s + %s -> %s\n"	pointer
,	O
base_url	pointer
,	O
relative_url	pointer
,	O
absolute_url	pointer
)	O
;	O
wget_buffer_free	function
(	O
&	O
buf	pointer
)	O
;	O
wget_iri_free	function
(	O
&	O
base	pointer
)	O
;	O
return	O
0	int
;	O
}	O
