const	O
char	O
*	O
bfd_core_file_failing_command	function
(	O
bfd	struct
*	O
abfd	pointer
)	O
{	O
if	O
(	O
abfd	pointer
->	O
format	enum
!=	O
bfd_core	int
)	O
{	O
bfd_set_error	function
(	O
bfd_error_invalid_operation	int
)	O
;	O
return	O
NULL	O
;	O
}	O
return	O
BFD_SEND	O
(	O
abfd	pointer
,	O
_core_file_failing_command	pointer
,	O
(	O
abfd	pointer
)	O
)	O
;	O
}	O
int	O
bfd_core_file_failing_signal	function
(	O
bfd	struct
*	O
abfd	pointer
)	O
{	O
if	O
(	O
abfd	pointer
->	O
format	enum
!=	O
bfd_core	int
)	O
{	O
bfd_set_error	function
(	O
bfd_error_invalid_operation	int
)	O
;	O
return	O
0	int
;	O
}	O
return	O
BFD_SEND	O
(	O
abfd	pointer
,	O
_core_file_failing_signal	pointer
,	O
(	O
abfd	pointer
)	O
)	O
;	O
}	O
int	O
bfd_core_file_pid	function
(	O
bfd	struct
*	O
abfd	pointer
)	O
{	O
if	O
(	O
abfd	pointer
->	O
format	enum
!=	O
bfd_core	int
)	O
{	O
bfd_set_error	function
(	O
bfd_error_invalid_operation	int
)	O
;	O
return	O
0	int
;	O
}	O
return	O
BFD_SEND	O
(	O
abfd	pointer
,	O
_core_file_pid	pointer
,	O
(	O
abfd	pointer
)	O
)	O
;	O
}	O
bfd_boolean	int
core_file_matches_executable_p	function
(	O
bfd	struct
*	O
core_bfd	pointer
,	O
bfd	struct
*	O
exec_bfd	pointer
)	O
{	O
if	O
(	O
core_bfd	pointer
->	O
format	enum
!=	O
bfd_core	int
||	O
exec_bfd	pointer
->	O
format	enum
!=	O
bfd_object	int
)	O
{	O
bfd_set_error	function
(	O
bfd_error_wrong_format	int
)	O
;	O
return	O
FALSE	int
;	O
}	O
return	O
BFD_SEND	O
(	O
core_bfd	pointer
,	O
_core_file_matches_executable_p	pointer
,	O
(	O
core_bfd	pointer
,	O
exec_bfd	pointer
)	O
)	O
;	O
}	O
bfd_boolean	int
generic_core_file_matches_executable_p	function
(	O
bfd	struct
*	O
core_bfd	pointer
,	O
bfd	struct
*	O
exec_bfd	pointer
)	O
{	O
const	O
char	O
*	O
exec	pointer
;	O
const	O
char	O
*	O
core	pointer
;	O
const	O
char	O
*	O
last_slash	pointer
;	O
if	O
(	O
exec_bfd	pointer
==	O
NULL	O
||	O
core_bfd	pointer
==	O
NULL	O
)	O
return	O
TRUE	int
;	O
core	pointer
=	O
bfd_core_file_failing_command	function
(	O
core_bfd	pointer
)	O
;	O
if	O
(	O
core	pointer
==	O
NULL	O
)	O
return	O
TRUE	int
;	O
exec	pointer
=	O
bfd_get_filename	function
(	O
exec_bfd	pointer
)	O
;	O
if	O
(	O
exec	pointer
==	O
NULL	O
)	O
return	O
TRUE	int
;	O
last_slash	pointer
=	O
strrchr	function
(	O
core	pointer
,	O
'/'	O
)	O
;	O
if	O
(	O
last_slash	pointer
!=	O
NULL	O
)	O
core	pointer
=	O
last_slash	pointer
+	O
1	int
;	O
last_slash	pointer
=	O
strrchr	function
(	O
exec	pointer
,	O
'/'	O
)	O
;	O
if	O
(	O
last_slash	pointer
!=	O
NULL	O
)	O
exec	pointer
=	O
last_slash	pointer
+	O
1	int
;	O
return	O
filename_cmp	function
(	O
exec	pointer
,	O
core	pointer
)	O
==	O
0	int
;	O
}	O
