int	O
main	function
(	O
int	O
argc	pointer
,	O
char	O
*	O
*	O
argv	pointer
)	O
{	O
Header	pointer
h	pointer
;	O
int	O
c	int
,	O
swdump	int
=	O
0	int
,	O
optionerror	int
=	O
0	int
;	O
TOPSF	struct
*	O
topsf	pointer
;	O
while	O
(	O
(	O
c	int
=	O
getopt	function
(	O
argc	pointer
,	O
argv	pointer
,	O
"s"	pointer
)	O
)	O
!=	O
EOF	O
)	O
{	O
switch	O
(	O
c	int
)	O
{	O
case	O
's'	O
:	O
swdump	int
=	O
1	int
;	O
break	O
;	O
default	O
:	O
optionerror	int
=	O
1	int
;	O
break	O
;	O
}	O
}	O
argv	pointer
+=	O
optind	int
;	O
argc	pointer
-=	O
optind	int
;	O
if	O
(	O
optionerror	int
)	O
{	O
fprintf	function
(	O
stderr	pointer
,	O
"Usage: rpmheaderdump [-s]\n"	pointer
)	O
;	O
fprintf	function
(	O
stderr	pointer
,	O
"    -s  Second form Ascii dump.\n"	pointer
)	O
;	O
fprintf	function
(	O
stderr	pointer
,	O
"rpmheaderdump reads an rpm from stdin.\n"	pointer
)	O
;	O
exit	function
(	O
1	int
)	O
;	O
}	O
if	O
(	O
argc	pointer
<=	O
1	int
)	O
{	O
topsf	pointer
=	O
topsf_open	function
(	O
"-"	pointer
,	O
UINFILE_UXFIO_BUFTYPE_DYNAMIC_MEM	O
|	O
TOPSF_OPEN_NO_AUDIT	O
,	O
NULL	O
)	O
;	O
}	O
else	O
{	O
topsf	pointer
=	O
topsf_open	function
(	O
*	O
(	O
++	O
argv	pointer
)	O
,	O
UINFILE_UXFIO_BUFTYPE_DYNAMIC_MEM	O
|	O
TOPSF_OPEN_NO_AUDIT	O
,	O
NULL	O
)	O
;	O
}	O
if	O
(	O
!	O
topsf	pointer
)	O
{	O
exit	function
(	O
1	int
)	O
;	O
}	O
if	O
(	O
swdump	int
)	O
{	O
headerDumpSw	function
(	O
topsf	pointer
,	O
stdout	pointer
,	O
1	int
,	O
rpmTagTable	array
)	O
;	O
}	O
else	O
{	O
h	pointer
=	O
topsf_get_rpmheader	function
(	O
topsf	pointer
)	O
;	O
headerDump	function
(	O
h	pointer
,	O
stdout	pointer
,	O
1	int
,	O
rpmTagTable	array
)	O
;	O
headerFree	function
(	O
h	pointer
)	O
;	O
}	O
exit	function
(	O
0	int
)	O
;	O
}	O
void	O
bindtextdomain	function
(	O
char	O
*	O
a	pointer
,	O
char	O
*	O
b	pointer
)	O
;	O
void	O
textdomain	function
(	O
char	O
*	O
a	pointer
)	O
;	O
char	O
*	O
gettext	function
(	O
char	O
*	O
a	pointer
)	O
;	O
void	O
bindtextdomain	function
(	O
char	O
*	O
a	pointer
,	O
char	O
*	O
b	pointer
)	O
{	O
}	O
char	O
*	O
gettext	function
(	O
char	O
*	O
a	pointer
)	O
{	O
return	O
a	pointer
;	O
}	O
void	O
textdomain	function
(	O
char	O
*	O
a	pointer
)	O
{	O
}	O
