static	O
const	O
char	O
revid	array
[	O
]	O
=	O
"$Id: bt_conv.c,v 1.4 2000/06/28 16:46:59 loic Exp $"	pointer
;	O
int	O
CDB___bam_pgin	function
(	O
dbenv	pointer
,	O
pg	struct
,	O
pp	pointer
,	O
cookie	pointer
)	O
DB_ENV	struct
*	O
dbenv	pointer
;	O
db_pgno_t	int
pg	struct
;	O
void	O
*	O
pp	pointer
;	O
DBT	struct
*	O
cookie	pointer
;	O
{	O
DB_PGINFO	struct
*	O
pginfo	pointer
;	O
PAGE	struct
*	O
h	pointer
;	O
pginfo	pointer
=	O
(	O
DB_PGINFO	struct
*	O
)	O
cookie	pointer
->	O
data	pointer
;	O
if	O
(	O
!	O
pginfo	pointer
->	O
needswap	int
)	O
return	O
(	O
0	int
)	O
;	O
h	pointer
=	O
pp	pointer
;	O
return	O
(	O
TYPE	O
(	O
h	pointer
)	O
==	O
P_BTREEMETA	int
?	O
CDB___bam_mswap	function
(	O
pp	pointer
)	O
:	O
CDB___db_byteswap	function
(	O
dbenv	pointer
,	O
pg	struct
,	O
pp	pointer
,	O
pginfo	pointer
->	O
db_pagesize	long
,	O
1	int
)	O
)	O
;	O
}	O
int	O
CDB___bam_pgout	function
(	O
dbenv	pointer
,	O
pg	struct
,	O
pp	pointer
,	O
cookie	pointer
)	O
DB_ENV	struct
*	O
dbenv	pointer
;	O
db_pgno_t	int
pg	struct
;	O
void	O
*	O
pp	pointer
;	O
DBT	struct
*	O
cookie	pointer
;	O
{	O
DB_PGINFO	struct
*	O
pginfo	pointer
;	O
PAGE	struct
*	O
h	pointer
;	O
pginfo	pointer
=	O
(	O
DB_PGINFO	struct
*	O
)	O
cookie	pointer
->	O
data	pointer
;	O
if	O
(	O
!	O
pginfo	pointer
->	O
needswap	int
)	O
return	O
(	O
0	int
)	O
;	O
h	pointer
=	O
pp	pointer
;	O
return	O
(	O
TYPE	O
(	O
h	pointer
)	O
==	O
P_BTREEMETA	int
?	O
CDB___bam_mswap	function
(	O
pp	pointer
)	O
:	O
CDB___db_byteswap	function
(	O
dbenv	pointer
,	O
pg	struct
,	O
pp	pointer
,	O
pginfo	pointer
->	O
db_pagesize	long
,	O
0	int
)	O
)	O
;	O
}	O
int	O
CDB___bam_mswap	function
(	O
pg	struct
)	O
PAGE	struct
*	O
pg	struct
;	O
{	O
u_int8_t	char
*	O
p	pointer
;	O
CDB___db_metaswap	function
(	O
pg	struct
)	O
;	O
p	pointer
=	O
(	O
u_int8_t	char
*	O
)	O
pg	struct
+	O
sizeof	O
(	O
DBMETA	struct
)	O
;	O
SWAP32	O
(	O
p	pointer
)	O
;	O
SWAP32	O
(	O
p	pointer
)	O
;	O
SWAP32	O
(	O
p	pointer
)	O
;	O
SWAP32	O
(	O
p	pointer
)	O
;	O
SWAP32	O
(	O
p	pointer
)	O
;	O
return	O
(	O
0	int
)	O
;	O
}	O
