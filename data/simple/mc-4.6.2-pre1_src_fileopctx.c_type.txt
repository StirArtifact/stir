FileOpContext	struct
*	O
file_op_context_new	function
(	O
FileOperation	enum
op	enum
)	O
{	O
FileOpContext	struct
*	O
ctx	pointer
;	O
ctx	pointer
=	O
g_new0	O
(	O
FileOpContext	struct
,	O
1	int
)	O
;	O
ctx	pointer
->	O
operation	enum
=	O
op	enum
;	O
ctx	pointer
->	O
eta_secs	double
=	O
0.0	int
;	O
ctx	pointer
->	O
progress_bytes	double
=	O
0.0	int
;	O
ctx	pointer
->	O
op_preserve	int
=	O
TRUE	O
;	O
ctx	pointer
->	O
do_reget	long
=	O
TRUE	O
;	O
ctx	pointer
->	O
stat_func	pointer
=	O
mc_lstat	function
;	O
ctx	pointer
->	O
preserve	int
=	O
TRUE	O
;	O
ctx	pointer
->	O
preserve_uidgid	int
=	O
(	O
geteuid	function
(	O
)	O
==	O
0	int
)	O
?	O
TRUE	O
:	O
FALSE	O
;	O
ctx	pointer
->	O
umask_kill	int
=	O
0777777	int
;	O
ctx	pointer
->	O
erase_at_end	int
=	O
TRUE	O
;	O
return	O
ctx	pointer
;	O
}	O
void	O
file_op_context_destroy	function
(	O
FileOpContext	struct
*	O
ctx	pointer
)	O
{	O
g_return_if_fail	O
(	O
ctx	pointer
!=	O
NULL	O
)	O
;	O
if	O
(	O
ctx	pointer
->	O
ui	pointer
)	O
file_op_context_destroy_ui	function
(	O
ctx	pointer
)	O
;	O
regfree	function
(	O
&	O
ctx	pointer
->	O
rx	struct
)	O
;	O
g_free	function
(	O
ctx	pointer
)	O
;	O
}	O
