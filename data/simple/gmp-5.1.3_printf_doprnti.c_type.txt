int	O
__gmp_doprnt_integer	function
(	O
const	O
struct	O
doprnt_funs_t	struct
*	O
funs	pointer
,	O
void	O
*	O
data	pointer
,	O
const	O
struct	O
doprnt_params_t	struct
*	O
p	pointer
,	O
const	O
char	O
*	O
s	array
)	O
{	O
int	O
retval	int
=	O
0	int
;	O
int	O
slen	int
,	O
justlen	int
,	O
showbaselen	int
,	O
sign	char
,	O
signlen	int
,	O
slashlen	int
,	O
zeros	int
;	O
int	O
justify	int
,	O
den_showbaselen	int
;	O
const	O
char	O
*	O
slash	pointer
,	O
*	O
showbase	int
;	O
sign	char
=	O
p	pointer
->	O
sign	char
;	O
if	O
(	O
s	array
[	O
0	int
]	O
==	O
'-'	O
)	O
{	O
sign	char
=	O
s	array
[	O
0	int
]	O
;	O
s	array
++	O
;	O
}	O
signlen	int
=	O
(	O
sign	char
!=	O
'\0'	O
)	O
;	O
if	O
(	O
*	O
s	array
==	O
'0'	O
&&	O
p	pointer
->	O
prec	int
==	O
0	int
)	O
s	array
++	O
;	O
slen	int
=	O
strlen	function
(	O
s	array
)	O
;	O
slash	pointer
=	O
strchr	function
(	O
s	array
,	O
'/'	O
)	O
;	O
showbase	int
=	O
NULL	O
;	O
showbaselen	int
=	O
0	int
;	O
if	O
(	O
p	pointer
->	O
showbase	int
!=	O
DOPRNT_SHOWBASE_NO	int
)	O
{	O
switch	O
(	O
p	pointer
->	O
base	int
)	O
{	O
case	O
16	int
:	O
showbase	int
=	O
"0x"	pointer
;	O
showbaselen	int
=	O
2	int
;	O
break	O
;	O
case	O
-	O
16	int
:	O
showbase	int
=	O
"0X"	pointer
;	O
showbaselen	int
=	O
2	int
;	O
break	O
;	O
case	O
8	int
:	O
showbase	int
=	O
"0"	pointer
;	O
showbaselen	int
=	O
1	int
;	O
break	O
;	O
}	O
}	O
den_showbaselen	int
=	O
showbaselen	int
;	O
if	O
(	O
slash	pointer
==	O
NULL	O
||	O
(	O
p	pointer
->	O
showbase	int
==	O
DOPRNT_SHOWBASE_NONZERO	int
&&	O
slash	pointer
[	O
1	int
]	O
==	O
'0'	O
)	O
)	O
den_showbaselen	int
=	O
0	int
;	O
if	O
(	O
p	pointer
->	O
showbase	int
==	O
DOPRNT_SHOWBASE_NONZERO	int
&&	O
s	array
[	O
0	int
]	O
==	O
'0'	O
)	O
showbaselen	int
=	O
0	int
;	O
zeros	int
=	O
MAX	O
(	O
0	int
,	O
p	pointer
->	O
prec	int
-	O
slen	int
)	O
;	O
justlen	int
=	O
p	pointer
->	O
width	int
-	O
(	O
strlen	function
(	O
s	array
)	O
+	O
signlen	int
+	O
showbaselen	int
+	O
den_showbaselen	int
+	O
zeros	int
)	O
;	O
justify	int
=	O
p	pointer
->	O
justify	int
;	O
if	O
(	O
justlen	int
<=	O
0	int
)	O
justify	int
=	O
DOPRNT_JUSTIFY_NONE	int
;	O
if	O
(	O
justify	int
==	O
DOPRNT_JUSTIFY_RIGHT	int
)	O
DOPRNT_REPS	O
(	O
p	pointer
->	O
fill	char
,	O
justlen	int
)	O
;	O
DOPRNT_REPS_MAYBE	O
(	O
sign	char
,	O
signlen	int
)	O
;	O
DOPRNT_MEMORY_MAYBE	O
(	O
showbase	int
,	O
showbaselen	int
)	O
;	O
DOPRNT_REPS_MAYBE	O
(	O
'0'	O
,	O
zeros	int
)	O
;	O
if	O
(	O
justify	int
==	O
DOPRNT_JUSTIFY_INTERNAL	int
)	O
DOPRNT_REPS	O
(	O
p	pointer
->	O
fill	char
,	O
justlen	int
)	O
;	O
if	O
(	O
den_showbaselen	int
!=	O
0	int
)	O
{	O
ASSERT	O
(	O
slash	pointer
!=	O
NULL	O
)	O
;	O
slashlen	int
=	O
slash	pointer
+	O
1	int
-	O
s	array
;	O
DOPRNT_MEMORY	O
(	O
s	array
,	O
slashlen	int
)	O
;	O
slen	int
-=	O
slashlen	int
;	O
s	array
+=	O
slashlen	int
;	O
DOPRNT_MEMORY	O
(	O
showbase	int
,	O
den_showbaselen	int
)	O
;	O
}	O
DOPRNT_MEMORY	O
(	O
s	array
,	O
slen	int
)	O
;	O
if	O
(	O
justify	int
==	O
DOPRNT_JUSTIFY_LEFT	int
)	O
DOPRNT_REPS	O
(	O
p	pointer
->	O
fill	char
,	O
justlen	int
)	O
;	O
done	O
:	O
return	O
retval	int
;	O
error	O
:	O
retval	int
=	O
-	O
1	int
;	O
goto	O
done	O
;	O
}	O
