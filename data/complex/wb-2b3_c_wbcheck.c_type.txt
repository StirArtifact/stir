typedef	O
unsigned	O
char	O
*	O
STR	*(char)
;	O
typedef	O
unsigned	O
long	O
int	O
BLOCK	long
;	O
unsigned	O
char	O
free_map	array(char)
[	O
65535	int
]	O
;	O
char	O
system_function	char
=	O
'I'	O
;	O
unsigned	O
long	O
int	O
mon_disk_read	long
=	O
0	int
;	O
unsigned	O
long	O
int	O
mon_disk_write	long
=	O
0	int
;	O
unsigned	O
long	O
int	O
mon_os_file_read	long
=	O
0	int
;	O
unsigned	O
long	O
int	O
mon_interpreter	long
=	O
0	int
;	O
unsigned	O
long	O
int	O
mon_blink	long
=	O
0	int
;	O
unsigned	O
long	O
int	O
mon_symbol_table	long
=	O
0	int
;	O
unsigned	O
long	O
int	O
mon_term_io	long
=	O
0	int
;	O
int	O
error_count	int
;	O
int	O
fatal_error	int
;	O
int	O
blkgc	int
=	O
1	int
;	O
int	O
follow_dirs	int
=	O
1	int
;	O
unsigned	O
long	O
int	O
blocks_marked	long
;	O
unsigned	O
long	O
int	O
total_blocks_marked	long
;	O
int	O
set_block_used	(long)->(int)
(	O
blk_num	long
)	O
BLOCK	long
blk_num	long
;	O
{	O
if	O
(	O
(	O
free_map	array(char)
[	O
blk_num	long
/	O
8	int
]	O
>>	O
(	O
blk_num	long
%	O
8	int
)	O
)	O
&	O
1	int
)	O
return	O
(	O
0	int
)	O
;	O
free_map	array(char)
[	O
blk_num	long
/	O
8	int
]	O
|=	O
(	O
1	int
<<	O
(	O
blk_num	long
%	O
8	int
)	O
)	O
;	O
return	O
(	O
1	int
)	O
;	O
}	O
int	O
get_block_used	(long)->(int)
(	O
blk_num	long
)	O
BLOCK	long
blk_num	long
;	O
{	O
if	O
(	O
(	O
free_map	array(char)
[	O
blk_num	long
/	O
8	int
]	O
>>	O
(	O
blk_num	long
%	O
8	int
)	O
)	O
&	O
1	int
)	O
return	O
(	O
1	int
)	O
;	O
return	O
(	O
0	int
)	O
;	O
}	O
struct	O
disk_blk	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
{	O
ENTRY	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)))
*	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
;	O
BLOCK	long
blk_num	long
;	O
BLOCK	long
cont_ptr	long
;	O
BLOCK	long
tree_head	long
;	O
BLOCK	long
act_blk_num	long
;	O
BLOCK	long
act_tree_head	long
;	O
long	O
size	long
;	O
int	O
level	int
;	O
int	O
type	int
;	O
int	O
directory	int
;	O
unsigned	O
char	O
*	O
block	*(char)
;	O
unsigned	O
char	O
*	O
current_pos	*(char)
;	O
unsigned	O
char	O
*	O
block_end	*(char)
;	O
unsigned	O
char	O
current_name	array(char)
[	O
256	int
]	O
;	O
int	O
current_name_len	int
;	O
unsigned	O
char	O
last_block_name	array(char)
[	O
256	int
]	O
;	O
int	O
last_block_name_len	int
;	O
}	O
;	O
typedef	O
struct	O
disk_blk	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
DISK_BLK	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
;	O
DISK_BLK	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
MAX_LEVELS	int
]	O
;	O
DISK_BLK	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
temp_block	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
;	O
void	O
dspl_char	(int)->(void)
(	O
ch	int
)	O
int	O
ch	int
;	O
{	O
if	O
(	O
(	O
ch	int
>=	O
' '	O
)	O
&&	O
(	O
ch	int
<=	O
'~'	O
)	O
)	O
putchar	(int)->(int)
(	O
ch	int
)	O
;	O
else	O
printf	(*(char))->(int)
(	O
"'%d'"	*(char)
,	O
ch	int
)	O
;	O
}	O
void	O
dspl_string	(*(char),int)->(void)
(	O
string	*(char)
,	O
size	long
)	O
STR	*(char)
string	*(char)
;	O
int	O
size	long
;	O
{	O
while	O
(	O
size	long
--	O
>	O
0	int
)	O
dspl_char	(int)->(void)
(	O
*	O
string	*(char)
++	O
)	O
;	O
}	O
void	O
path	(int)->(void)
(	O
level	int
)	O
int	O
level	int
;	O
{	O
int	O
i	int
=	O
0	int
;	O
while	O
(	O
i	int
<=	O
level	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\n  LEVEL %d  BLOCK: %lu --> %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
level	int
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
act_blk_num	long
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
cont_ptr	long
)	O
;	O
printf	(*(char))->(int)
(	O
"\n   NAME: "	*(char)
)	O
;	O
dspl_string	(*(char),int)->(void)
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
current_name	array(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
current_name_len	int
)	O
;	O
i	int
++	O
;	O
}	O
if	O
(	O
++	O
error_count	int
>=	O
50	int
)	O
fatal_error	int
=	O
1	int
;	O
}	O
int	O
string_compare	(*(char),int,*(char),int)->(int)
(	O
name1	*(char)
,	O
len1	int
,	O
name2	*(char)
,	O
len2	int
)	O
STR	*(char)
name1	*(char)
,	O
name2	*(char)
;	O
int	O
len1	int
,	O
len2	int
;	O
{	O
int	O
max_len	int
=	O
min	O
(	O
len1	int
,	O
len2	int
)	O
;	O
int	O
len	int
=	O
0	int
;	O
while	O
(	O
(	O
len	int
<	O
max_len	int
)	O
&&	O
(	O
name1	*(char)
[	O
len	int
]	O
==	O
name2	*(char)
[	O
len	int
]	O
)	O
)	O
len	int
++	O
;	O
if	O
(	O
len	int
<	O
len2	int
)	O
{	O
if	O
(	O
len	int
==	O
len1	int
)	O
return	O
(	O
2	int
)	O
;	O
else	O
if	O
(	O
name1	*(char)
[	O
len	int
]	O
<	O
name2	*(char)
[	O
len	int
]	O
)	O
return	O
(	O
2	int
)	O
;	O
else	O
return	O
(	O
1	int
)	O
;	O
}	O
else	O
if	O
(	O
len	int
<	O
len1	int
)	O
return	O
(	O
1	int
)	O
;	O
else	O
return	O
(	O
0	int
)	O
;	O
}	O
int	O
cnv_string_to_long	(*(char),*(char),*(long))->(int)
(	O
s1b	*(char)
,	O
s1e	*(char)
,	O
i	int
)	O
STR	*(char)
s1b	*(char)
,	O
s1e	*(char)
;	O
unsigned	O
long	O
int	O
*	O
i	int
;	O
{	O
unsigned	O
long	O
int	O
rslt	long
=	O
0	int
,	O
rslt1	long
=	O
0	int
;	O
while	O
(	O
(	O
s1b	*(char)
!=	O
s1e	*(char)
)	O
&&	O
(	O
*	O
s1b	*(char)
>=	O
'0'	O
)	O
&&	O
(	O
*	O
s1b	*(char)
<=	O
'9'	O
)	O
)	O
{	O
if	O
(	O
(	O
rslt	long
=	O
(	O
rslt	long
*	O
10	int
)	O
+	O
(	O
*	O
s1b	*(char)
++	O
-	O
48	int
)	O
)	O
<	O
rslt1	long
)	O
return	O
(	O
0	int
)	O
;	O
rslt1	long
=	O
rslt	long
;	O
}	O
*	O
i	int
=	O
rslt	long
;	O
return	O
(	O
1	int
)	O
;	O
}	O
int	O
read_block	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)),long)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
blk_num	long
,	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
,	O
head_block	long
)	O
SEGD	struct(int,int,long,*(char),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)
*	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
;	O
BLOCK	long
blk_num	long
;	O
DISK_BLK	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
*	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
;	O
BLOCK	long
head_block	long
;	O
{	O
unsigned	O
char	O
*	O
ptr1	*(char)
,	O
*	O
ptr2	*(char)
;	O
if	O
(	O
blk_num	long
==	O
19551	int
)	O
{	O
int	O
i	int
;	O
i	int
=	O
0	int
;	O
}	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
=	O
ent_blk	O
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
)	O
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
act_tree_head	long
=	O
head_block	long
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
act_blk_num	long
=	O
blk_num	long
;	O
if	O
(	O
!	O
(	O
get_ent_copy	(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)->(int)
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
,	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
blk_num	long
)	O
)	O
)	O
return	O
(	O
1	int
)	O
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
blk_num	long
=	O
str2long	(*(char),int)->(long)
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
,	O
blk_id_pos	int
)	O
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
cont_ptr	long
=	O
str2long	(*(char),int)->(long)
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
,	O
blk_nxt_id_pos	int
)	O
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
tree_head	long
=	O
str2long	(*(char),int)->(long)
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
,	O
blk_top_id_pos	int
)	O
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
size	long
=	O
str2short	(*(char),int)->(short)
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
,	O
blk_end_pos	int
)	O
-	O
blk_data_start	int
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
level	int
=	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
[	O
blk_level_pos	int
]	O
-	O
'0'	O
;	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
type	int
=	O
blk_typ	O
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
)	O
;	O
if	O
(	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
type	int
==	O
'D'	O
)	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
directory	int
=	O
'Y'	O
;	O
else	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
directory	int
=	O
'N'	O
;	O
ptr1	*(char)
=	O
&	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
block	*(char)
[	O
blk_data_start	int
]	O
;	O
ptr2	*(char)
=	O
ptr1	*(char)
+	O
dblock	*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
->	O
size	long
;	O
return	O
(	O
0	int
)	O
;	O
}	O
int	O
check_saf	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(char),int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
nam	*(char)
,	O
len	int
)	O
SEGD	struct(int,int,long,*(char),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)
*	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
;	O
STR	*(char)
nam	*(char)
;	O
int	O
len	int
;	O
{	O
BLOCK	long
head_blk_num	long
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
;	O
BLOCK	long
cont_ptr	long
;	O
int	O
err	int
=	O
0	int
;	O
STR	*(char)
ptr1	*(char)
,	O
ptr2	*(char)
;	O
int	O
blk_error	int
=	O
0	int
;	O
do	O
{	O
blocks_marked	long
++	O
;	O
total_blocks_marked	long
++	O
;	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
blk_num	long
!=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu HAS WRONG BLOCK ID, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
tree_head	long
!=	O
head_blk_num	long
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu HAS WRONG HEAD BLOCK, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
if	O
(	O
!	O
set_block_used	(long)->(int)
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nSAF BLOCK %lu USED MULTIPLE TIMES, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
type	int
!=	O
seq_typ	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu NOT A SAF BLOCK, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
level	int
!=	O
'0'	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu SAF not LEVEL 0, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
ptr1	*(char)
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
block	*(char)
+	O
blk_data_start	int
;	O
ptr2	*(char)
=	O
ptr1	*(char)
+	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
size	long
;	O
while	O
(	O
ptr1	*(char)
<	O
ptr2	*(char)
)	O
ptr1	*(char)
+=	O
*	O
ptr1	*(char)
+	O
1	int
;	O
if	O
(	O
ptr1	*(char)
!=	O
ptr2	*(char)
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu SAF SIZE ERROR, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
cont_ptr	long
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
cont_ptr	long
;	O
}	O
while	O
(	O
!	O
err	int
&&	O
cont_ptr	long
&&	O
!	O
(	O
blk_error	int
=	O
read_block	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)),long)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
cont_ptr	long
,	O
&	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
,	O
head_blk_num	long
)	O
)	O
)	O
;	O
if	O
(	O
blk_error	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nERROR READING SAF BLOCK %lu HEAD BLOCK %lu"	*(char)
,	O
cont_ptr	long
,	O
head_blk_num	long
)	O
;	O
err	int
++	O
;	O
}	O
return	O
(	O
err	int
)	O
;	O
}	O
int	O
check_struct_level	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),int,long,*(char),int,*(char),int,int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
dsk_blk_ind	int
,	O
next_block	long
,	O
start_name	*(char)
,	O
start_name_len	int
,	O
end_name	*(char)
,	O
end_name_len	int
,	O
level	int
)	O
SEGD	struct(int,int,long,*(char),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)
*	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
;	O
int	O
dsk_blk_ind	int
;	O
BLOCK	long
next_block	long
;	O
STR	*(char)
start_name	*(char)
,	O
end_name	*(char)
;	O
int	O
start_name_len	int
,	O
end_name_len	int
,	O
level	int
;	O
{	O
STR	*(char)
ptr1	*(char)
,	O
ptr2	*(char)
,	O
ptr3	*(char)
,	O
ptr4	*(char)
;	O
int	O
errs	int
=	O
0	int
;	O
int	O
i	int
,	O
j	int
;	O
BLOCK	long
block_num	long
,	O
next_block_num	long
;	O
unsigned	O
char	O
*	O
namebuf	*(char)
,	O
*	O
namebuf1	*(char)
;	O
int	O
namelen	int
,	O
namelen1	int
,	O
err	int
=	O
0	int
;	O
blocks_marked	long
++	O
;	O
total_blocks_marked	long
++	O
;	O
namebuf	*(char)
=	O
&	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
last_block_name	array(char)
[	O
0	int
]	O
;	O
namelen	int
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
last_block_name_len	int
;	O
namebuf1	*(char)
=	O
&	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
current_name	array(char)
[	O
0	int
]	O
;	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
blk_num	long
!=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
act_blk_num	long
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu HAS WRONG BLOCK ID, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
act_blk_num	long
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
tree_head	long
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
err	int
++	O
;	O
}	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
tree_head	long
!=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu HAS WRONG HEAD BLOCK, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
act_blk_num	long
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
act_blk_num	long
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
err	int
++	O
;	O
}	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
level	int
!=	O
level	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\n LEVEL FOR BLOCK IS %d BUT EXPECTED %d"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
level	int
,	O
level	int
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
return	O
(	O
++	O
errs	int
)	O
;	O
}	O
if	O
(	O
!	O
set_block_used	(long)->(int)
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
act_blk_num	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu USED MULTIPLE TIMES"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
act_blk_num	long
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
return	O
(	O
++	O
errs	int
)	O
;	O
}	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
cont_ptr	long
!=	O
next_block	long
)	O
{	O
printf	(*(char))->(int)
(	O
"\n NEXT POINTER FOR BLOCK IS %lu BUT EXPECTED %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
cont_ptr	long
,	O
next_block	long
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
return	O
(	O
++	O
errs	int
)	O
;	O
}	O
ptr1	*(char)
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
block	*(char)
+	O
blk_data_start	int
+	O
1	int
;	O
i	int
=	O
*	O
ptr1	*(char)
++	O
;	O
namelen1	int
=	O
0	int
;	O
while	O
(	O
i	int
--	O
>	O
0	int
)	O
namebuf1	*(char)
[	O
namelen1	int
++	O
]	O
=	O
*	O
ptr1	*(char)
++	O
;	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
current_name_len	int
=	O
namelen1	int
;	O
if	O
(	O
namelen	int
&&	O
string_compare	(*(char),int,*(char),int)->(int)
(	O
namebuf	*(char)
,	O
namelen	int
,	O
namebuf1	*(char)
,	O
namelen1	int
)	O
!=	O
2	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nFIRST ENTRY SMALLER THAN LAST ENTRY IN PREV BLOCK"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"\n PREV NAME: "	*(char)
)	O
;	O
dspl_string	(*(char),int)->(void)
(	O
namebuf	*(char)
,	O
namelen	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\n CURR NAME: "	*(char)
)	O
;	O
dspl_string	(*(char),int)->(void)
(	O
namebuf1	*(char)
,	O
namelen1	int
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
}	O
if	O
(	O
string_compare	(*(char),int,*(char),int)->(int)
(	O
start_name	*(char)
,	O
start_name_len	int
,	O
namebuf1	*(char)
,	O
namelen1	int
)	O
==	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nFIRST ENTRY SMALLER THAN INDEX SPLITKEY"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"\n SPLIT KEY: "	*(char)
)	O
;	O
dspl_string	(*(char),int)->(void)
(	O
start_name	*(char)
,	O
start_name_len	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\n CURR NAME: "	*(char)
)	O
;	O
dspl_string	(*(char),int)->(void)
(	O
namebuf1	*(char)
,	O
namelen1	int
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
}	O
ptr1	*(char)
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
block	*(char)
+	O
blk_data_start	int
;	O
ptr2	*(char)
=	O
ptr1	*(char)
+	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
size	long
;	O
while	O
(	O
ptr1	*(char)
<	O
ptr2	*(char)
)	O
{	O
ptr1	*(char)
++	O
;	O
ptr1	*(char)
+=	O
*	O
ptr1	*(char)
+	O
1	int
;	O
if	O
(	O
ptr1	*(char)
<	O
ptr2	*(char)
)	O
{	O
ptr1	*(char)
+=	O
*	O
ptr1	*(char)
+	O
1	int
;	O
}	O
}	O
if	O
(	O
ptr1	*(char)
!=	O
ptr2	*(char)
)	O
{	O
printf	(*(char))->(int)
(	O
"\nBLOCK %lu SIZE ERROR, HEAD BLOCK %lu"	*(char)
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
act_blk_num	long
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
tree_head	long
)	O
;	O
err	int
++	O
;	O
}	O
ptr1	*(char)
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
block	*(char)
+	O
blk_data_start	int
;	O
while	O
(	O
(	O
ptr1	*(char)
<	O
ptr2	*(char)
)	O
&&	O
!	O
fatal_error	int
)	O
{	O
namelen1	int
=	O
*	O
ptr1	*(char)
++	O
;	O
i	int
=	O
*	O
ptr1	*(char)
++	O
;	O
ptr3	*(char)
=	O
ptr1	*(char)
+	O
i	int
;	O
ptr3	*(char)
+=	O
*	O
ptr3	*(char)
+	O
1	int
;	O
j	int
=	O
i	int
;	O
ptr4	*(char)
=	O
ptr1	*(char)
;	O
while	O
(	O
j	int
--	O
>	O
0	int
)	O
namebuf1	*(char)
[	O
namelen1	int
++	O
]	O
=	O
*	O
ptr4	*(char)
++	O
;	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
current_name_len	int
=	O
namelen1	int
;	O
if	O
(	O
string_compare	(*(char),int,*(char),int)->(int)
(	O
namebuf	*(char)
,	O
namelen	int
,	O
namebuf1	*(char)
,	O
namelen1	int
)	O
!=	O
2	int
&&	O
namelen	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nCOLLATION ERROR"	*(char)
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
return	O
(	O
++	O
errs	int
)	O
;	O
}	O
if	O
(	O
ptr3	*(char)
<	O
ptr2	*(char)
)	O
{	O
block_num	long
=	O
str2long	(*(char),int)->(long)
(	O
ptr1	*(char)
,	O
i	int
+	O
1	int
)	O
;	O
ptr1	*(char)
=	O
ptr3	*(char)
+	O
*	O
(	O
ptr3	*(char)
+	O
1	int
)	O
+	O
3	int
;	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
level	int
!=	O
0	int
)	O
{	O
next_block_num	long
=	O
0	int
;	O
if	O
(	O
ptr1	*(char)
<	O
ptr2	*(char)
)	O
next_block_num	long
=	O
str2long	(*(char),int)->(long)
(	O
ptr1	*(char)
,	O
0	int
)	O
;	O
else	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
cont_ptr	long
)	O
if	O
(	O
get_ent_copy	(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)->(int)
(	O
temp_block	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
.	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
,	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
cont_ptr	long
)	O
)	O
{	O
ptr1	*(char)
=	O
ent_blk	O
(	O
temp_block	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
.	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
)	O
+	O
blk_data_start	int
+	O
1	int
;	O
ptr4	*(char)
=	O
ent_blk	O
(	O
temp_block	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
.	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
)	O
+	O
str2short	(*(char),int)->(short)
(	O
ent_blk	O
(	O
temp_block	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
.	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
)	O
,	O
blk_end_pos	int
)	O
;	O
ptr1	*(char)
+=	O
*	O
ptr1	*(char)
+	O
1	int
;	O
i	int
=	O
*	O
ptr1	*(char)
++	O
;	O
if	O
(	O
ptr1	*(char)
+	O
i	int
+	O
1	int
<	O
ptr4	*(char)
)	O
next_block_num	long
=	O
str2long	(*(char),int)->(long)
(	O
ptr1	*(char)
,	O
0	int
)	O
;	O
}	O
if	O
(	O
read_block	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)),long)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
block_num	long
,	O
&	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
+	O
1	int
]	O
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
tree_head	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nERROR READING BLOCK %lu"	*(char)
,	O
block_num	long
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
}	O
else	O
errs	int
+=	O
check_struct_level	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),int,long,*(char),int,*(char),int,int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
dsk_blk_ind	int
+	O
1	int
,	O
next_block_num	long
,	O
namebuf	*(char)
,	O
namelen	int
,	O
namebuf1	*(char)
,	O
namelen1	int
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
level	int
-	O
1	int
)	O
;	O
}	O
namelen	int
=	O
0	int
;	O
while	O
(	O
namelen	int
<	O
namelen1	int
)	O
{	O
namebuf	*(char)
[	O
namelen	int
]	O
=	O
namebuf1	*(char)
[	O
namelen	int
]	O
;	O
namelen	int
++	O
;	O
}	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
dsk_blk_ind	int
]	O
.	O
last_block_name_len	int
=	O
namelen	int
;	O
}	O
else	O
if	O
(	O
string_compare	(*(char),int,*(char),int)->(int)
(	O
end_name	*(char)
,	O
end_name_len	int
,	O
namebuf1	*(char)
,	O
namelen1	int
)	O
!=	O
0	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nSPLIT KEY MISMATCH"	*(char)
)	O
;	O
path	(int)->(void)
(	O
dsk_blk_ind	int
)	O
;	O
return	O
(	O
++	O
errs	int
)	O
;	O
}	O
ptr1	*(char)
=	O
ptr3	*(char)
;	O
}	O
return	O
(	O
errs	int
)	O
;	O
}	O
void	O
check_struct	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(char),int,int)->(void)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
blk_num	long
,	O
name	int
,	O
len	int
,	O
dirdepth	int
)	O
SEGD	struct(int,int,long,*(char),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)
*	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
;	O
BLOCK	long
blk_num	long
;	O
STR	*(char)
name	int
;	O
int	O
len	int
;	O
int	O
dirdepth	int
;	O
{	O
unsigned	O
char	O
start	array(char)
[	O
1	int
]	O
,	O
end	array(char)
[	O
3	int
]	O
;	O
unsigned	O
long	O
int	O
blocks_in_directory	long
=	O
0	int
;	O
int	O
directory	int
=	O
0	int
;	O
int	O
i	int
=	O
0	int
;	O
while	O
(	O
i	int
<	O
MAX_LEVELS	int
)	O
{	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
last_block_name_len	int
=	O
0	int
;	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
current_name_len	int
=	O
0	int
;	O
i	int
++	O
;	O
}	O
if	O
(	O
read_block	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)),long)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
blk_num	long
,	O
&	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
,	O
blk_num	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nERROR READING BLOCK"	*(char)
)	O
;	O
++	O
error_count	int
;	O
return	O
;	O
}	O
if	O
(	O
!	O
root_P	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
block	*(char)
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nNOT A ROOT BLOCK\n"	*(char)
)	O
;	O
++	O
error_count	int
;	O
return	O
;	O
}	O
if	O
(	O
blk_typ_P	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
block	*(char)
,	O
dir_typ	int
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\n%*s"	*(char)
,	O
dirdepth	int
,	O
" "	*(char)
)	O
;	O
dspl_string	(*(char),int)->(void)
(	O
name	int
,	O
len	int
)	O
;	O
printf	(*(char))->(int)
(	O
" -> block number: %lu"	*(char)
,	O
blk_num	long
)	O
;	O
directory	int
=	O
1	int
;	O
}	O
blocks_marked	long
=	O
0	int
;	O
end	array(char)
[	O
0	int
]	O
=	O
255	int
;	O
end	array(char)
[	O
1	int
]	O
=	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
level	int
+	O
'0'	O
;	O
if	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
type	int
==	O
seq_typ	int
)	O
{	O
error_count	int
+=	O
check_saf	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(char),int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
name	int
,	O
len	int
)	O
;	O
blocks_in_directory	long
+=	O
blocks_marked	long
;	O
}	O
else	O
if	O
(	O
!	O
(	O
i	int
=	O
check_struct_level	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),int,long,*(char),int,*(char),int,int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
0	int
,	O
0L	int
,	O
start	array(char)
,	O
0	int
,	O
end	array(char)
,	O
2	int
,	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
level	int
)	O
)	O
&&	O
follow_dirs	int
&&	O
(	O
blk_typ_P	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
0	int
]	O
.	O
block	*(char)
,	O
dir_typ	int
)	O
)	O
)	O
{	O
unsigned	O
char	O
key	array(char)
[	O
256	int
]	O
,	O
val	array(char)
[	O
256	int
]	O
;	O
int	O
klen	int
=	O
0	int
,	O
vlen	int
;	O
HAND	struct(*(struct),long,long,int,int)
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
;	O
bt_open	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
blk_num	long
,	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
0	int
)	O
;	O
blocks_in_directory	long
+=	O
blocks_marked	long
;	O
while	O
(	O
(	O
klen	int
=	O
bt_next	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
klen	int
,	O
key	array(char)
)	O
)	O
>	O
0	int
)	O
{	O
if	O
(	O
(	O
(	O
vlen	int
=	O
bt_get	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
klen	int
,	O
val	array(char)
)	O
)	O
>=	O
5	int
)	O
&&	O
(	O
4	int
==	O
val	array(char)
[	O
0	int
]	O
)	O
)	O
{	O
blocks_marked	long
=	O
0	int
;	O
check_struct	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(char),int,int)->(void)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
str2long	(*(char),int)->(long)
(	O
val	array(char)
,	O
1	int
)	O
,	O
key	array(char)
,	O
klen	int
,	O
1	int
+	O
dirdepth	int
)	O
;	O
blocks_in_directory	long
+=	O
blocks_marked	long
;	O
}	O
}	O
}	O
else	O
{	O
error_count	int
+=	O
i	int
;	O
blocks_in_directory	long
+=	O
blocks_marked	long
;	O
}	O
blocks_marked	long
=	O
blocks_in_directory	long
;	O
if	O
(	O
directory	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\n%*s%lu BLOCKS"	*(char)
,	O
dirdepth	int
,	O
" "	*(char)
,	O
blocks_in_directory	long
)	O
;	O
}	O
}	O
BLOCK	long
nextnum	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int)->(long)
(	O
hand	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
klen	int
)	O
HAND	struct(*(struct),long,long,int,int)
*	O
hand	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
;	O
STR	*(char)
key	array(char)
;	O
int	O
klen	int
;	O
{	O
klen	int
=	O
bt_next	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
hand	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
klen	int
,	O
key	array(char)
)	O
;	O
if	O
(	O
klen	int
<=	O
0	int
)	O
return	O
0	int
;	O
else	O
if	O
(	O
klen	int
!=	O
4	int
)	O
{	O
printf	(*(char))->(int)
(	O
"BAD SIZE KEY IN FREELIST\n"	*(char)
)	O
;	O
exit	(int)->(void)
(	O
2	int
)	O
;	O
}	O
return	O
str2long	(*(char),int)->(long)
(	O
key	array(char)
,	O
0	int
)	O
;	O
}	O
int	O
wbcheck_usage	()->(int)
(	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nUsage: wbcheck FILE\nUsage: wbcheck FILE BLOCKNUMBER\n\n  Checks the structure of the database named by FILE and\n  reclaims temporary trees to the freelist.\n"	*(char)
)	O
;	O
return	O
2	int
;	O
}	O
int	O
main	(int,array(*(char)))->(int)
(	O
argc	int
,	O
argv	array(*(char))
)	O
int	O
argc	int
;	O
char	O
*	O
argv	array(*(char))
[	O
]	O
;	O
{	O
unsigned	O
int	O
i	int
=	O
0	int
;	O
BLOCK	long
blk_num	long
=	O
0	int
;	O
SEGD	struct(int,int,long,*(char),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long)
*	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
;	O
if	O
(	O
argc	int
<	O
2	int
)	O
{	O
printf	(*(char))->(int)
(	O
"NO FILE\n"	*(char)
)	O
;	O
return	O
wbcheck_usage	()->(int)
(	O
)	O
;	O
}	O
if	O
(	O
argc	int
>	O
3	int
)	O
{	O
printf	(*(char))->(int)
(	O
"TOO MANY ARGUMENTS\n"	*(char)
)	O
;	O
return	O
wbcheck_usage	()->(int)
(	O
)	O
;	O
}	O
if	O
(	O
argc	int
>	O
2	int
)	O
{	O
char	O
*	O
ptr1	*(char)
,	O
*	O
ptr	*(char)
=	O
&	O
argv	array(*(char))
[	O
2	int
]	O
[	O
0	int
]	O
;	O
ptr1	*(char)
=	O
ptr	*(char)
;	O
while	O
(	O
(	O
*	O
ptr1	*(char)
>=	O
'0'	O
)	O
&&	O
(	O
*	O
ptr1	*(char)
<=	O
'9'	O
)	O
)	O
ptr1	*(char)
++	O
;	O
if	O
(	O
*	O
ptr1	*(char)
)	O
{	O
printf	(*(char))->(int)
(	O
"NOT A NUMBER\n"	*(char)
)	O
;	O
return	O
wbcheck_usage	()->(int)
(	O
)	O
;	O
}	O
if	O
(	O
!	O
cnv_string_to_long	(*(char),*(char),*(long))->(int)
(	O
ptr	*(char)
,	O
ptr1	*(char)
,	O
&	O
blk_num	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"NUMBER TOO LARGE\n"	*(char)
)	O
;	O
return	O
wbcheck_usage	()->(int)
(	O
)	O
;	O
}	O
blkgc	int
=	O
0	int
;	O
follow_dirs	int
=	O
0	int
;	O
}	O
else	O
if	O
(	O
0	int
==	O
strcmp	(*(char),*(char))->(int)
(	O
"--help"	*(char)
,	O
argv	array(*(char))
[	O
1	int
]	O
)	O
)	O
{	O
wbcheck_usage	()->(int)
(	O
)	O
;	O
return	O
0	int
;	O
}	O
init_wb	(int,int,int)->(int)
(	O
75	int
,	O
150	int
,	O
16384	int
)	O
;	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
=	O
open_seg	(*(char),int)->(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)))
(	O
argv	array(*(char))
[	O
1	int
]	O
,	O
blkgc	int
)	O
;	O
if	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
==	O
0	int
)	O
{	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
=	O
open_segd	(*(char),int,int)->(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)))
(	O
argv	array(*(char))
[	O
1	int
]	O
,	O
blkgc	int
,	O
!	O
0	int
)	O
;	O
if	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
==	O
0	int
)	O
{	O
printf	(*(char))->(int)
(	O
"COULD NOT OPEN FILE \"%s\"\n"	*(char)
,	O
argv	array(*(char))
[	O
1	int
]	O
)	O
;	O
return	O
2	int
;	O
}	O
printf	(*(char))->(int)
(	O
"OPENING CORRUPTLY CLOSED FILE\n"	*(char)
)	O
;	O
}	O
while	O
(	O
(	O
i	int
<	O
MAX_LEVELS	int
)	O
&&	O
(	O
disk_blocks	array(struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int))
[	O
i	int
]	O
.	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
=	O
allocate_ent	()->(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))))
(	O
)	O
)	O
)	O
i	int
++	O
;	O
if	O
(	O
i	int
<	O
MAX_LEVELS	int
||	O
!	O
(	O
temp_block	struct(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))),long,long,long,long,long,long,int,int,int,*(char),*(char),*(char),array(char),int,array(char),int)
.	O
entry	struct(*(struct(*(struct(*(struct`),long,*(char),int,int,int,int,int,int,*(struct`))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)))),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long)))
=	O
allocate_ent	()->(*(struct(*(struct(*`,long,*`,int,int,int,int,int,int,*`)),long,*(char),int,int,int,int,int,int,*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)))))
(	O
)	O
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"UNABLE TO ALLOCATE ENOUGH ENTRIES\n"	*(char)
)	O
;	O
return	O
0	int
;	O
}	O
i	int
=	O
0	int
;	O
while	O
(	O
i	int
<	O
MAP_SIZE	int
)	O
free_map	array(char)
[	O
i	int
++	O
]	O
=	O
0	int
;	O
error_count	int
=	O
0	int
;	O
fatal_error	int
=	O
0	int
;	O
total_blocks_marked	long
=	O
0	int
;	O
check_struct	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(char),int,int)->(void)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
blk_num	long
,	O
""	*(char)
,	O
0	int
,	O
1	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\n%lu BLOCKS MARKED IN USE"	*(char)
,	O
total_blocks_marked	long
)	O
;	O
if	O
(	O
error_count	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\n %d ERRORS\n"	*(char)
,	O
error_count	int
)	O
;	O
return	O
1	int
;	O
}	O
printf	(*(char))->(int)
(	O
"\nNO STRUCTURE ERRORS FOUND\n"	*(char)
)	O
;	O
if	O
(	O
!	O
blkgc	int
)	O
return	O
0	int
;	O
{	O
HAND	struct(*(struct),long,long,int,int)
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
;	O
unsigned	O
char	O
key	array(char)
[	O
5	int
*	O
4	int
]	O
,	O
tmp	array(char)
[	O
4	int
]	O
;	O
BLOCK	long
used	long
=	O
0	int
,	O
num_freed	long
=	O
0	int
,	O
num_collected	long
=	O
0	int
,	O
fnum	long
;	O
int	O
flc_image_len	int
,	O
i	int
,	O
j	int
=	O
0	int
;	O
bt_open	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
0L	int
,	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
0	int
)	O
;	O
if	O
(	O
4	int
!=	O
bt_get	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
"USED"	*(char)
,	O
4	int
,	O
key	array(char)
)	O
)	O
exit	(int)->(void)
(	O
2	int
)	O
;	O
used	long
=	O
str2long	(*(char),int)->(long)
(	O
key	array(char)
,	O
0	int
)	O
;	O
flc_image_len	int
=	O
bt_get	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
"FLC"	*(char)
,	O
3	int
,	O
key	array(char)
)	O
;	O
bt_open	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),long,*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
2L	int
,	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
0	int
)	O
;	O
if	O
(	O
0	int
>	O
(	O
flc_image_len	int
)	O
)	O
flc_image_len	int
=	O
0	int
;	O
i	int
=	O
-	O
4	int
+	O
(	O
flc_image_len	int
)	O
;	O
while	O
(	O
0	int
<=	O
i	int
)	O
{	O
fnum	long
=	O
str2long	(*(char),int)->(long)
(	O
key	array(char)
,	O
i	int
)	O
;	O
if	O
(	O
!	O
(	O
get_block_used	(long)->(int)
(	O
fnum	long
)	O
||	O
(	O
0	int
<	O
bt_get	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
&	O
key	array(char)
[	O
i	int
]	O
,	O
4	int
,	O
tmp	array(char)
)	O
)	O
)	O
)	O
{	O
seg_flc	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
[	O
j	int
++	O
]	O
=	O
str2long	(*(char),int)->(long)
(	O
key	array(char)
,	O
i	int
)	O
;	O
set_block_used	(long)->(int)
(	O
fnum	long
)	O
;	O
}	O
i	int
=	O
-	O
4	int
+	O
(	O
i	int
)	O
;	O
}	O
seg_set_flc_len	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
j	int
)	O
;	O
blk_num	long
=	O
nextnum	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int)->(long)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
0	int
)	O
;	O
while	O
(	O
blk_num	long
)	O
{	O
if	O
(	O
get_block_used	(long)->(int)
(	O
blk_num	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nA block in the FREELIST is acutally being used: %lu"	*(char)
,	O
blk_num	long
)	O
;	O
num_freed	long
++	O
;	O
flush_flc	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),int)->(void)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
flc_len	int
-	O
5	int
)	O
;	O
bt_rem	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int,*(char))->(int)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
4	int
,	O
0L	int
)	O
;	O
}	O
else	O
set_block_used	(long)->(int)
(	O
blk_num	long
)	O
;	O
blk_num	long
=	O
nextnum	(*(struct(*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long,long,int,int)),*(char),int)->(long)
(	O
&	O
han	*(struct(*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long,long,int,int))
,	O
key	array(char)
,	O
4	int
)	O
;	O
}	O
blk_num	long
=	O
0	int
;	O
printf	(*(char))->(int)
(	O
"\n    reclaiming unused blocks:"	*(char)
)	O
;	O
while	O
(	O
used	long
>	O
++	O
blk_num	long
)	O
if	O
(	O
!	O
get_block_used	(long)->(int)
(	O
blk_num	long
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
" %lu"	*(char)
,	O
blk_num	long
)	O
;	O
num_collected	long
++	O
;	O
flc_fill	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)))->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
;	O
flush_flc	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),int)->(void)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
flc_len	int
-	O
2	int
)	O
;	O
lck	(*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))))->(void)
(	O
seg_lck	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
)	O
;	O
seg_flc	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
[	O
seg_flc_len	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
]	O
=	O
blk_num	long
;	O
seg_set_flc_len	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
1	int
+	O
seg_flc_len	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
)	O
;	O
unlck	(*(struct(*(struct(*`,int,union`)),int,union(struct(int,int,int,int,int,short,short,struct`),array(char),long))))->(void)
(	O
seg_lck	O
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
)	O
)	O
;	O
}	O
close_seg	(*(struct(int,int,long,*(char),*(struct(*`,long,long,int,int)),*(struct(*`,long,long,int,int)),*(struct(*`,int,union`)),*(struct(*`,int,union`)),int,*(long),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),*(struct(int,int,long,*`,*`,*`,*`,*`,int,*`,*`,*`,long)),long)),int)->(int)
(	O
seg	*(struct(int,int,long,*(char),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),long,long,int,int)),*(struct(*(struct`),int,union(struct`,array(char),long))),*(struct(*(struct`),int,union(struct`,array(char),long))),int,*(long),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),*(struct(int,int,long,*(char),*(struct`),*(struct`),*(struct`),*(struct`),int,*(long),*(struct`),*(struct`),long)),long))
,	O
1	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\nFREELIST: %lu blocks removed; %lu blocks added.\n"	*(char)
,	O
num_freed	long
,	O
num_collected	long
)	O
;	O
}	O
return	O
0	int
;	O
}	O
void	O
display_disk_statistics	(long,int,long,long)->(void)
(	O
b	long
,	O
t	char
,	O
r	long
,	O
w	long
)	O
BLOCK	long
b	long
;	O
char	O
t	char
;	O
unsigned	O
long	O
r	long
,	O
w	long
;	O
{	O
}	O
