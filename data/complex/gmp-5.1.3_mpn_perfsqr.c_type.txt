int	O
mpn_perfect_square_p	O
(	O
mp_srcptr	*(long)
up	*(long)
,	O
mp_size_t	long
usize	*(long)
)	O
{	O
ASSERT	O
(	O
usize	*(long)
>=	O
1	int
)	O
;	O
TRACE	O
(	O
gmp_printf	O
(	O
"mpn_perfect_square_p %Nd\n"	*(char)
,	O
up	*(long)
,	O
usize	*(long)
)	O
)	O
;	O
{	O
unsigned	O
idx	int
=	O
up	*(long)
[	O
0	int
]	O
%	O
0x100	int
;	O
if	O
(	O
(	O
(	O
sq_res_0x100	array(long)
[	O
idx	int
/	O
GMP_LIMB_BITS	int
]	O
>>	O
(	O
idx	int
%	O
GMP_LIMB_BITS	int
)	O
)	O
&	O
1	int
)	O
==	O
0	int
)	O
return	O
0	int
;	O
}	O
PERFSQR_MOD_TEST	O
(	O
up	*(long)
,	O
usize	*(long)
)	O
;	O
{	O
mp_ptr	*(long)
root_ptr	*(long)
;	O
int	O
res	int
;	O
TMP_DECL	O
;	O
TMP_MARK	O
;	O
root_ptr	*(long)
=	O
TMP_ALLOC_LIMBS	O
(	O
(	O
usize	*(long)
+	O
1	int
)	O
/	O
2	int
)	O
;	O
res	int
=	O
!	O
mpn_sqrtrem	O
(	O
root_ptr	*(long)
,	O
NULL	O
,	O
up	*(long)
,	O
usize	*(long)
)	O
;	O
TMP_FREE	O
;	O
return	O
res	int
;	O
}	O
}	O
