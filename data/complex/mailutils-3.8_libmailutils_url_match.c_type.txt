int	O
mu_url_matches_ticket	(*(struct),*(struct),*(int))->(int)
(	O
mu_url_t	*(struct)
ticket	*(struct)
,	O
mu_url_t	*(struct)
url	*(struct)
,	O
int	O
*	O
pwc	*(int)
)	O
{	O
int	O
wcnt	int
=	O
0	int
;	O
if	O
(	O
is_wildcard	O
(	O
ticket	*(struct)
->	O
scheme	*(char)
)	O
)	O
wcnt	int
+=	O
WEIGHT_SCHEME	int
;	O
else	O
if	O
(	O
mu_c_strcasecmp	(*(char),*(char))->(int)
(	O
ticket	*(struct)
->	O
scheme	*(char)
,	O
url	*(struct)
->	O
scheme	*(char)
)	O
)	O
return	O
0	int
;	O
if	O
(	O
ticket	*(struct)
->	O
flags	int
&	O
MU_URL_HOST	int
)	O
{	O
if	O
(	O
is_wildcard	O
(	O
ticket	*(struct)
->	O
host	*(char)
)	O
)	O
wcnt	int
+=	O
WEIGHT_HOST	int
;	O
else	O
if	O
(	O
url	*(struct)
->	O
flags	int
&	O
MU_URL_HOST	int
)	O
{	O
if	O
(	O
mu_c_strcasecmp	(*(char),*(char))->(int)
(	O
ticket	*(struct)
->	O
host	*(char)
,	O
url	*(struct)
->	O
host	*(char)
)	O
)	O
return	O
0	int
;	O
}	O
else	O
return	O
0	int
;	O
}	O
else	O
wcnt	int
+=	O
WEIGHT_HOST	int
;	O
if	O
(	O
ticket	*(struct)
->	O
flags	int
&	O
MU_URL_PORT	int
)	O
{	O
if	O
(	O
is_wildcard	O
(	O
ticket	*(struct)
->	O
portstr	*(char)
)	O
)	O
wcnt	int
+=	O
WEIGHT_PORT	int
;	O
else	O
if	O
(	O
url	*(struct)
->	O
port	int
&	O
MU_URL_PORT	int
)	O
{	O
if	O
(	O
ticket	*(struct)
->	O
port	int
!=	O
url	*(struct)
->	O
port	int
)	O
return	O
0	int
;	O
else	O
wcnt	int
+=	O
WEIGHT_PORT	int
;	O
}	O
}	O
else	O
wcnt	int
+=	O
WEIGHT_PORT	int
;	O
if	O
(	O
ticket	*(struct)
->	O
flags	int
&	O
MU_URL_USER	int
)	O
{	O
if	O
(	O
is_wildcard	O
(	O
ticket	*(struct)
->	O
user	*(char)
)	O
)	O
wcnt	int
+=	O
WEIGHT_USER	int
;	O
else	O
if	O
(	O
url	*(struct)
->	O
flags	int
&	O
MU_URL_USER	int
)	O
{	O
if	O
(	O
strcmp	(*(char),*(char))->(int)
(	O
ticket	*(struct)
->	O
user	*(char)
,	O
url	*(struct)
->	O
user	*(char)
)	O
)	O
return	O
0	int
;	O
}	O
}	O
else	O
wcnt	int
+=	O
WEIGHT_USER	int
;	O
if	O
(	O
pwc	*(int)
)	O
*	O
pwc	*(int)
=	O
wcnt	int
;	O
return	O
1	int
;	O
}	O
