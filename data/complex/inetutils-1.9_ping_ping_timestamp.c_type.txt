static	O
int	O
recv_timestamp	(int,*(void),*(struct(short,short,struct(int),array(char))),*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(int)
(	O
int	O
code	int
,	O
void	O
*	O
closure	*(void)
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
dest	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
*	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
,	O
icmphdr_t	struct
*	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
,	O
int	O
datalen	int
)	O
;	O
static	O
void	O
print_timestamp	(int,*(void),*(struct(short,short,struct(int),array(char))),*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(void)
(	O
int	O
dupflag	int
,	O
void	O
*	O
closure	*(void)
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
dest	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
*	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
,	O
icmphdr_t	struct
*	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
,	O
int	O
datalen	int
)	O
;	O
static	O
int	O
timestamp_finish	()->(int)
(	O
void	O
)	O
;	O
int	O
ping_timestamp	(*(char))->(int)
(	O
char	O
*	O
hostname	*(char)
)	O
{	O
ping_set_type	(*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),long,long,long)),int)->(void)
(	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
,	O
ICMP_TIMESTAMP	int
)	O
;	O
ping_set_event_handler	(*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),long,long,long)),*((int,*(void),*(struct(short,short,struct`,array(char))),*(struct(short,short,struct`,array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct`,struct`)),*(struct(char,char,short,union`,union`)),int)->(int)),*(void))->(void)
(	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
,	O
recv_timestamp	(int,*(void),*(struct(short,short,struct(int),array(char))),*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(int)
,	O
NULL	O
)	O
;	O
ping_set_packetsize	(*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),long,long,long)),long)->(void)
(	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
,	O
20	int
)	O
;	O
if	O
(	O
ping_set_dest	(*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),long,long,long)),*(char))->(int)
(	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
,	O
hostname	*(char)
)	O
)	O
error	(int,int,*(char))->(void)
(	O
EXIT_FAILURE	int
,	O
0	int
,	O
"unknown host"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"PING %s (%s): sending timestamp requests\n"	*(char)
,	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
->	O
ping_hostname	*(char)
,	O
inet_ntoa	(struct(int))->(*(char))
(	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
->	O
ping_dest	union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
.	O
ping_sockaddr	struct(short,short,struct(int),array(char))
.	O
sin_addr	struct(int)
)	O
)	O
;	O
return	O
ping_run	(*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct`,array(char)),struct(short,short,int,struct`,int)),long,long,long)),*(()->(int)))->(int)
(	O
ping	*(struct(int,int,long,struct(long,long),long,union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),*(char),long,int,union(*((int,*`,*`,*`,*`,int)->(int)),*((int,*`,*`,*`,*`,*`,int)->(int))),*(void),int,*(char),*(char),union(struct(short,short,struct(int),array(char)),struct(short,short,int,struct(union`),int)),long,long,long))
,	O
timestamp_finish	()->(int)
)	O
;	O
}	O
int	O
recv_timestamp	(int,*(void),*(struct(short,short,struct(int),array(char))),*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(int)
(	O
int	O
code	int
,	O
void	O
*	O
closure	*(void)
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
dest	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
*	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
,	O
icmphdr_t	struct
*	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
,	O
int	O
datalen	int
)	O
{	O
switch	O
(	O
code	int
)	O
{	O
case	O
PEV_RESPONSE	int
:	O
case	O
PEV_DUPLICATE	int
:	O
print_timestamp	(int,*(void),*(struct(short,short,struct(int),array(char))),*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(void)
(	O
code	int
==	O
PEV_DUPLICATE	int
,	O
closure	*(void)
,	O
dest	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
,	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
,	O
datalen	int
)	O
;	O
break	O
;	O
case	O
PEV_NOECHO	int
:	O
;	O
print_icmp_header	(*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(void)
(	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
,	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
,	O
datalen	int
)	O
;	O
}	O
return	O
0	int
;	O
}	O
void	O
print_timestamp	(int,*(void),*(struct(short,short,struct(int),array(char))),*(struct(short,short,struct(int),array(char))),*(struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))),*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))),int)->(void)
(	O
int	O
dupflag	int
,	O
void	O
*	O
closure	*(void)
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
dest	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
sockaddr_in	struct(short,short,struct(int),array(char))
*	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
,	O
struct	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
*	O
ip	struct(int,int,char,short,short,short,char,char,short,struct(int),struct(int))
,	O
icmphdr_t	struct
*	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
,	O
int	O
datalen	int
)	O
{	O
printf	(*(char))->(int)
(	O
"%d bytes from %s: icmp_seq=%u"	*(char)
,	O
datalen	int
,	O
inet_ntoa	(struct(int))->(*(char))
(	O
*	O
(	O
struct	O
in_addr	struct(int)
*	O
)	O
&	O
from	*(struct(short,short,int,struct(union(array(char),array(short),array(int))),int))
->	O
sin_addr	struct(int)
.	O
s_addr	int
)	O
,	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
->	O
icmp_seq	O
)	O
;	O
if	O
(	O
dupflag	int
)	O
printf	(*(char))->(int)
(	O
" (DUP!)"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"icmp_otime = %u\n"	*(char)
,	O
ntohl	(int)->(int)
(	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
->	O
icmp_otime	O
)	O
)	O
;	O
printf	(*(char))->(int)
(	O
"icmp_rtime = %u\n"	*(char)
,	O
ntohl	(int)->(int)
(	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
->	O
icmp_rtime	O
)	O
)	O
;	O
printf	(*(char))->(int)
(	O
"icmp_ttime = %u\n"	*(char)
,	O
ntohl	(int)->(int)
(	O
icmp	*(*(struct(char,char,short,union(char,struct(int),struct(short,short),int,struct(short,short),struct(char,char,short)),union(struct(int,int,int),struct(struct`),long,array(char)))))
->	O
icmp_ttime	O
)	O
)	O
;	O
return	O
;	O
}	O
int	O
timestamp_finish	()->(int)
(	O
void	O
)	O
{	O
return	O
ping_finish	()->(int)
(	O
)	O
;	O
}	O
