struct	O
timespec	struct(long,long)
timespec_add	(struct(long,long),struct(long,long))->(struct(long,long))
(	O
struct	O
timespec	struct(long,long)
a	struct(long,long)
,	O
struct	O
timespec	struct(long,long)
b	struct(long,long)
)	O
{	O
time_t	long
rs	long
=	O
a	struct(long,long)
.	O
tv_sec	long
;	O
time_t	long
bs	long
=	O
b	struct(long,long)
.	O
tv_sec	long
;	O
int	O
ns	long
=	O
a	struct(long,long)
.	O
tv_nsec	long
+	O
b	struct(long,long)
.	O
tv_nsec	long
;	O
int	O
nsd	int
=	O
ns	long
-	O
TIMESPEC_HZ	int
;	O
int	O
rns	int
=	O
ns	long
;	O
time_t	long
tmin	long
=	O
TYPE_MINIMUM	O
(	O
time_t	long
)	O
;	O
time_t	long
tmax	long
=	O
TYPE_MAXIMUM	O
(	O
time_t	long
)	O
;	O
if	O
(	O
0	int
<=	O
nsd	int
)	O
{	O
rns	int
=	O
nsd	int
;	O
if	O
(	O
bs	long
<	O
tmax	long
)	O
bs	long
++	O
;	O
else	O
if	O
(	O
rs	long
<	O
0	int
)	O
rs	long
++	O
;	O
else	O
goto	O
high_overflow	O
;	O
}	O
if	O
(	O
!	O
INT_ADD_OVERFLOW	O
(	O
rs	long
,	O
bs	long
)	O
&&	O
tmin	long
<=	O
rs	long
+	O
bs	long
&&	O
rs	long
+	O
bs	long
<=	O
tmax	long
)	O
rs	long
+=	O
bs	long
;	O
else	O
{	O
if	O
(	O
rs	long
<	O
0	int
)	O
{	O
rs	long
=	O
tmin	long
;	O
rns	int
=	O
0	int
;	O
}	O
else	O
{	O
high_overflow	O
:	O
rs	long
=	O
tmax	long
;	O
rns	int
=	O
TIMESPEC_HZ	int
-	O
1	int
;	O
}	O
}	O
return	O
make_timespec	(long,long)->(struct(long,long))
(	O
rs	long
,	O
rns	int
)	O
;	O
}	O
