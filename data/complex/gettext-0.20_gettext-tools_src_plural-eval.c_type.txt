sigjmp_buf	O
sigfpe_exit	O
;	O
int	O
volatile	O
sigfpe_code	O
;	O
static	O
_GL_ASYNC_SAFE	O
void	O
sigfpe_handler	O
(	O
int	O
sig	O
,	O
siginfo_t	O
*	O
sip	O
,	O
void	O
*	O
scp	O
)	O
{	O
sigfpe_code	O
=	O
sip	O
->	O
si_code	O
;	O
siglongjmp	O
(	O
sigfpe_exit	O
,	O
1	int
)	O
;	O
}	O
void	O
install_sigfpe_handler	O
(	O
void	O
)	O
{	O
struct	O
sigaction	O
action	O
;	O
action	O
.	O
sa_sigaction	O
=	O
sigfpe_handler	O
;	O
action	O
.	O
sa_flags	O
=	O
SA_SIGINFO	O
;	O
sigemptyset	O
(	O
&	O
action	O
.	O
sa_mask	O
)	O
;	O
sigaction	O
(	O
SIGFPE	O
,	O
&	O
action	O
,	O
(	O
struct	O
sigaction	O
*	O
)	O
NULL	O
)	O
;	O
}	O
void	O
uninstall_sigfpe_handler	O
(	O
void	O
)	O
{	O
struct	O
sigaction	O
action	O
;	O
action	O
.	O
sa_handler	O
=	O
SIG_DFL	O
;	O
action	O
.	O
sa_flags	O
=	O
0	int
;	O
sigemptyset	O
(	O
&	O
action	O
.	O
sa_mask	O
)	O
;	O
sigaction	O
(	O
SIGFPE	O
,	O
&	O
action	O
,	O
(	O
struct	O
sigaction	O
*	O
)	O
NULL	O
)	O
;	O
}	O
