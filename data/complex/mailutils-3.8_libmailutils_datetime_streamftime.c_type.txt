int	O
ISO_8601_weekdays	(int,int)->(int)
(	O
int	O
yday	int
,	O
int	O
wday	int
)	O
{	O
return	O
(	O
yday	int
-	O
(	O
yday	int
-	O
wday	int
+	O
ISO_8601_MAX_WDAY	int
+	O
ISO_8601_OFF	O
)	O
%	O
7	int
+	O
ISO_8601_MAX_WDAY	int
-	O
ISO_8601_START_WDAY	int
)	O
;	O
}	O
int	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
mu_stream_t	*(struct)
str	*(char)
,	O
const	O
char	O
*	O
fmt	*(char)
,	O
struct	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
*	O
input_tm	*(struct(int,int,int,int,int,int,int,int,int,long,*(char)))
,	O
struct	O
mu_timezone	struct(int,*(char))
*	O
tz	*(struct(int,*(char)))
)	O
{	O
int	O
rc	int
=	O
0	int
;	O
struct	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
;	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
=	O
*	O
input_tm	*(struct(int,int,int,int,int,int,int,int,int,long,*(char)))
;	O
while	O
(	O
*	O
fmt	*(char)
&&	O
rc	int
==	O
0	int
)	O
{	O
size_t	long
len	int
=	O
strcspn	(*(char),*(char))->(long)
(	O
fmt	*(char)
,	O
"%"	*(char)
)	O
;	O
if	O
(	O
len	int
)	O
{	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
fmt	*(char)
,	O
len	int
,	O
NULL	O
)	O
;	O
if	O
(	O
rc	int
)	O
break	O
;	O
}	O
fmt	*(char)
+=	O
len	int
;	O
restart	O
:	O
if	O
(	O
!	O
*	O
fmt	*(char)
||	O
!	O
*	O
++	O
fmt	*(char)
)	O
break	O
;	O
switch	O
(	O
*	O
fmt	*(char)
)	O
{	O
case	O
'a'	O
:	O
if	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
<	O
0	int
||	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
>	O
6	int
)	O
rc	int
=	O
ERANGE	int
;	O
else	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
_mu_datetime_short_wday	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
]	O
,	O
strlen	(*(char))->(long)
(	O
_mu_datetime_short_wday	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
]	O
)	O
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'A'	O
:	O
if	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
<	O
0	int
||	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
>	O
6	int
)	O
rc	int
=	O
ERANGE	int
;	O
else	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
_mu_datetime_full_wday	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
]	O
,	O
strlen	(*(char))->(long)
(	O
_mu_datetime_full_wday	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
]	O
)	O
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'b'	O
:	O
case	O
'h'	O
:	O
if	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
<	O
0	int
||	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
>	O
11	int
)	O
rc	int
=	O
ERANGE	int
;	O
else	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
_mu_datetime_short_month	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
]	O
,	O
strlen	(*(char))->(long)
(	O
_mu_datetime_short_month	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
]	O
)	O
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'B'	O
:	O
if	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
<	O
0	int
||	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
>	O
11	int
)	O
rc	int
=	O
ERANGE	int
;	O
else	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
_mu_datetime_full_month	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
]	O
,	O
strlen	(*(char))->(long)
(	O
_mu_datetime_full_month	array(*(char))
[	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
]	O
)	O
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'c'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%a %b %e %H:%M:%S %Y"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'C'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_year	int
+	O
1900	int
)	O
/	O
100	int
)	O
;	O
break	O
;	O
case	O
'd'	O
:	O
if	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mday	int
<	O
1	int
||	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mday	int
>	O
31	int
)	O
rc	int
=	O
ERANGE	int
;	O
else	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mday	int
)	O
;	O
break	O
;	O
case	O
'D'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%m/%d/%y"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'e'	O
:	O
if	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mday	int
<	O
1	int
||	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mday	int
>	O
31	int
)	O
rc	int
=	O
ERANGE	int
;	O
else	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%2d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mday	int
)	O
;	O
break	O
;	O
case	O
'E'	O
:	O
goto	O
restart	O
;	O
case	O
'F'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%Y-%m-%d"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'V'	O
:	O
case	O
'G'	O
:	O
case	O
'g'	O
:	O
{	O
int	O
year	int
=	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_year	int
+	O
1900	int
;	O
int	O
days	int
=	O
ISO_8601_weekdays	(int,int)->(int)
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_yday	int
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
)	O
;	O
if	O
(	O
days	int
<	O
0	int
)	O
{	O
days	int
=	O
ISO_8601_weekdays	(int,int)->(int)
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_yday	int
+	O
mu_datetime_year_days	(int)->(int)
(	O
year	int
-	O
1	int
)	O
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
)	O
;	O
year	int
--	O
;	O
}	O
else	O
{	O
int	O
d	int
=	O
ISO_8601_weekdays	(int,int)->(int)
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_yday	int
-	O
mu_datetime_year_days	(int)->(int)
(	O
year	int
)	O
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
)	O
;	O
if	O
(	O
d	int
>=	O
0	int
)	O
{	O
year	int
++	O
;	O
days	int
=	O
d	int
;	O
}	O
}	O
switch	O
(	O
*	O
fmt	*(char)
)	O
{	O
case	O
'V'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
days	int
/	O
7	int
+	O
1	int
)	O
;	O
break	O
;	O
case	O
'G'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%4d"	*(char)
,	O
year	int
)	O
;	O
break	O
;	O
case	O
'g'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
year	int
%	O
100	int
)	O
;	O
}	O
}	O
break	O
;	O
case	O
'H'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_hour	int
)	O
;	O
break	O
;	O
case	O
'I'	O
:	O
{	O
unsigned	O
n	int
=	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_hour	int
%	O
12	int
;	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
n	int
==	O
0	int
?	O
12	int
:	O
n	int
)	O
;	O
}	O
break	O
;	O
case	O
'j'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%03d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_yday	int
+	O
1	int
)	O
;	O
break	O
;	O
case	O
'k'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%2d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_hour	int
)	O
;	O
break	O
;	O
case	O
'l'	O
:	O
{	O
unsigned	O
n	int
=	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_hour	int
%	O
12	int
;	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%2d"	*(char)
,	O
n	int
==	O
0	int
?	O
12	int
:	O
n	int
)	O
;	O
}	O
break	O
;	O
case	O
'm'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_mon	int
+	O
1	int
)	O
;	O
break	O
;	O
case	O
'M'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_min	int
)	O
;	O
break	O
;	O
case	O
'n'	O
:	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
"\n"	*(char)
,	O
1	int
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'O'	O
:	O
goto	O
restart	O
;	O
case	O
'p'	O
:	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_hour	int
<	O
12	int
?	O
"AM"	*(char)
:	O
"PM"	*(char)
,	O
2	int
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'P'	O
:	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_hour	int
<	O
12	int
?	O
"am"	*(char)
:	O
"pm"	*(char)
,	O
2	int
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'r'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%I:%M:%S %p"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'R'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%H:%M"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
's'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%lu"	*(char)
,	O
(	O
unsigned	O
long	O
)	O
mu_datetime_to_utc	(*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(long)
(	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
)	O
;	O
break	O
;	O
case	O
'S'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_sec	int
)	O
;	O
break	O
;	O
case	O
't'	O
:	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
"\t"	*(char)
,	O
1	int
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'T'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%H:%M:%S"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'u'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%1d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
==	O
0	int
?	O
7	int
:	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
)	O
;	O
break	O
;	O
case	O
'U'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_yday	int
-	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
+	O
7	int
)	O
/	O
7	int
)	O
;	O
break	O
;	O
case	O
'w'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%01d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
)	O
;	O
break	O
;	O
case	O
'W'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_yday	int
-	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_wday	int
-	O
1	int
+	O
7	int
)	O
%	O
7	int
+	O
7	int
)	O
/	O
7	int
)	O
;	O
break	O
;	O
case	O
'x'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%m/%d/%y"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'X'	O
:	O
rc	int
=	O
mu_c_streamftime	(*(struct),*(char),*(struct(int,int,int,int,int,int,int,int,int,long,*(char))),*(struct(int,*(char))))->(int)
(	O
str	*(char)
,	O
"%H:%M:%S"	*(char)
,	O
&	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
,	O
tz	*(struct(int,*(char)))
)	O
;	O
break	O
;	O
case	O
'y'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%02d"	*(char)
,	O
(	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_year	int
+	O
1900	int
)	O
%	O
100	int
)	O
;	O
break	O
;	O
case	O
'Y'	O
:	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%d"	*(char)
,	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
.	O
tm_year	int
+	O
1900	int
)	O
;	O
break	O
;	O
case	O
'Z'	O
:	O
if	O
(	O
tz	*(struct(int,*(char)))
&&	O
tz	*(struct(int,*(char)))
->	O
tz_name	*(char)
)	O
{	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%s"	*(char)
,	O
tz	*(struct(int,*(char)))
->	O
tz_name	*(char)
)	O
;	O
break	O
;	O
}	O
case	O
'z'	O
:	O
{	O
int	O
utc_off	int
=	O
tz	*(struct(int,*(char)))
?	O
tz	*(struct(int,*(char)))
->	O
utc_offset	int
:	O
mu_utc_offset	()->(int)
(	O
)	O
;	O
int	O
sign	int
;	O
if	O
(	O
utc_off	int
<	O
0	int
)	O
{	O
sign	int
=	O
'-'	O
;	O
utc_off	int
=	O
-	O
utc_off	int
;	O
}	O
else	O
sign	int
=	O
'+'	O
;	O
utc_off	int
/=	O
60	int
;	O
rc	int
=	O
mu_stream_printf	(*(struct),*(char))->(int)
(	O
str	*(char)
,	O
"%c%02u%02u"	*(char)
,	O
sign	int
,	O
utc_off	int
/	O
60	int
,	O
utc_off	int
%	O
60	int
)	O
;	O
}	O
break	O
;	O
case	O
'%'	O
:	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
"%"	*(char)
,	O
1	int
,	O
NULL	O
)	O
;	O
break	O
;	O
case	O
'$'	O
:	O
break	O
;	O
case	O
'+'	O
:	O
default	O
:	O
rc	int
=	O
mu_stream_write	(*(struct),*(void),long,*(long))->(int)
(	O
str	*(char)
,	O
fmt	*(char)
-	O
1	int
,	O
2	int
,	O
NULL	O
)	O
;	O
break	O
;	O
}	O
fmt	*(char)
++	O
;	O
}	O
*	O
input_tm	*(struct(int,int,int,int,int,int,int,int,int,long,*(char)))
=	O
tm	struct(int,int,int,int,int,int,int,int,int,long,*(char))
;	O
return	O
rc	int
;	O
}	O
