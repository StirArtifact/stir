static	O
int	O
opt_showboard	int
=	O
1	int
;	O
static	O
int	O
showdead	int
=	O
0	int
;	O
static	O
SGFTree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
;	O
static	O
int	O
resignation_allowed	int
;	O
static	O
int	O
clock_on	int
=	O
0	int
;	O
static	O
int	O
current_score_estimate	int
=	O
NO_SCORE	int
;	O
static	O
void	O
do_play_ascii	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
static	O
int	O
ascii_endgame	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),int)->(int)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
int	O
reason	int
)	O
;	O
static	O
void	O
ascii_count	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
static	O
void	O
showcapture	(*(char))->(void)
(	O
char	O
*	O
line	int
)	O
;	O
static	O
void	O
showdefense	(*(char))->(void)
(	O
char	O
*	O
line	int
)	O
;	O
static	O
void	O
ascii_goto	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
char	O
*	O
line	int
)	O
;	O
static	O
void	O
ascii_free_handicap	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
char	O
*	O
handicap_string	*(char)
)	O
;	O
static	O
int	O
sgf_initialized	int
;	O
static	O
void	O
make_letterbar	(int,*(char))->(void)
(	O
int	O
boardsize	int
,	O
char	O
*	O
letterbar	*(char)
)	O
{	O
int	O
i	int
,	O
letteroffset	int
;	O
char	O
spaces	array(char)
[	O
64	int
]	O
;	O
char	O
letter	array(char)
[	O
64	int
]	O
;	O
if	O
(	O
boardsize	int
<=	O
25	int
)	O
strcpy	(*(char),*(char))->(*(char))
(	O
spaces	array(char)
,	O
" "	*(char)
)	O
;	O
strcpy	(*(char),*(char))->(*(char))
(	O
letterbar	*(char)
,	O
"   "	*(char)
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
boardsize	int
;	O
i	int
++	O
)	O
{	O
letteroffset	int
=	O
'A'	O
;	O
if	O
(	O
i	int
+	O
letteroffset	int
>=	O
'I'	O
)	O
letteroffset	int
++	O
;	O
strcat	(*(char),*(char))->(*(char))
(	O
letterbar	*(char)
,	O
spaces	array(char)
)	O
;	O
sprintf	(*(char),*(char))->(int)
(	O
letter	array(char)
,	O
"%c"	*(char)
,	O
i	int
+	O
letteroffset	int
)	O
;	O
strcat	(*(char),*(char))->(*(char))
(	O
letterbar	*(char)
,	O
letter	array(char)
)	O
;	O
}	O
}	O
static	O
int	O
hspot_size	int
;	O
static	O
char	O
hspots	array(array(char))
[	O
MAX_BOARD	int
]	O
[	O
MAX_BOARD	int
]	O
;	O
static	O
void	O
set_handicap_spots	(int)->(void)
(	O
int	O
boardsize	int
)	O
{	O
if	O
(	O
hspot_size	int
==	O
boardsize	int
)	O
return	O
;	O
hspot_size	int
=	O
boardsize	int
;	O
memset	(*(void),int,long)->(*(void))
(	O
hspots	array(array(char))
,	O
'.'	O
,	O
sizeof	O
(	O
hspots	array(array(char))
)	O
)	O
;	O
if	O
(	O
boardsize	int
==	O
5	int
)	O
{	O
hspots	array(array(char))
[	O
1	int
]	O
[	O
1	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
2	int
]	O
[	O
1	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
1	int
]	O
[	O
boardsize	int
-	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
2	int
]	O
[	O
boardsize	int
-	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
/	O
2	int
]	O
[	O
boardsize	int
/	O
2	int
]	O
=	O
'+'	O
;	O
return	O
;	O
}	O
if	O
(	O
!	O
(	O
boardsize	int
%	O
2	int
)	O
)	O
{	O
if	O
(	O
boardsize	int
>	O
2	int
&&	O
boardsize	int
<	O
12	int
)	O
{	O
hspots	array(array(char))
[	O
2	int
]	O
[	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
3	int
]	O
[	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
2	int
]	O
[	O
boardsize	int
-	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
3	int
]	O
[	O
boardsize	int
-	O
3	int
]	O
=	O
'+'	O
;	O
}	O
else	O
{	O
hspots	array(array(char))
[	O
3	int
]	O
[	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
4	int
]	O
[	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
3	int
]	O
[	O
boardsize	int
-	O
4	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
4	int
]	O
[	O
boardsize	int
-	O
4	int
]	O
=	O
'+'	O
;	O
}	O
}	O
else	O
{	O
if	O
(	O
boardsize	int
>	O
2	int
&&	O
boardsize	int
<	O
12	int
)	O
{	O
hspots	array(array(char))
[	O
2	int
]	O
[	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
3	int
]	O
[	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
2	int
]	O
[	O
boardsize	int
-	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
3	int
]	O
[	O
boardsize	int
-	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
/	O
2	int
]	O
[	O
boardsize	int
/	O
2	int
]	O
=	O
'+'	O
;	O
}	O
else	O
if	O
(	O
boardsize	int
>	O
12	int
)	O
{	O
hspots	array(array(char))
[	O
3	int
]	O
[	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
4	int
]	O
[	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
3	int
]	O
[	O
boardsize	int
-	O
4	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
4	int
]	O
[	O
boardsize	int
-	O
4	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
3	int
]	O
[	O
boardsize	int
/	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
/	O
2	int
]	O
[	O
3	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
/	O
2	int
]	O
[	O
boardsize	int
-	O
4	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
-	O
4	int
]	O
[	O
boardsize	int
/	O
2	int
]	O
=	O
'+'	O
;	O
hspots	array(array(char))
[	O
boardsize	int
/	O
2	int
]	O
[	O
boardsize	int
/	O
2	int
]	O
=	O
'+'	O
;	O
}	O
}	O
return	O
;	O
}	O
static	O
void	O
ascii_showboard	()->(void)
(	O
void	O
)	O
{	O
int	O
i	int
,	O
j	int
;	O
char	O
letterbar	*(char)
[	O
64	int
]	O
;	O
int	O
last_pos_was_move	int
;	O
int	O
pos_is_move	int
;	O
int	O
dead	int
;	O
int	O
last_move	int
=	O
get_last_move	()->(int)
(	O
)	O
;	O
make_letterbar	(int,*(char))->(void)
(	O
board_size	int
,	O
letterbar	*(char)
)	O
;	O
set_handicap_spots	(int)->(void)
(	O
board_size	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"    White (O) has captured %d pieces\n"	*(char)
,	O
black_captured	int
)	O
;	O
printf	(*(char))->(int)
(	O
"    Black (X) has captured %d pieces\n"	*(char)
,	O
white_captured	int
)	O
;	O
if	O
(	O
showscore	int
)	O
{	O
if	O
(	O
current_score_estimate	int
==	O
NO_SCORE	int
)	O
printf	(*(char))->(int)
(	O
"    No score estimate is available yet.\n"	*(char)
)	O
;	O
else	O
if	O
(	O
current_score_estimate	int
<	O
0	int
)	O
printf	(*(char))->(int)
(	O
"    Estimated score: Black is ahead by %d\n"	*(char)
,	O
-	O
current_score_estimate	int
)	O
;	O
else	O
if	O
(	O
current_score_estimate	int
>	O
0	int
)	O
printf	(*(char))->(int)
(	O
"    Estimated score: White is ahead by %d\n"	*(char)
,	O
current_score_estimate	int
)	O
;	O
else	O
printf	(*(char))->(int)
(	O
"    Estimated score: Even!\n"	*(char)
)	O
;	O
}	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
fflush	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
printf	(*(char))->(int)
(	O
"%s"	*(char)
,	O
letterbar	*(char)
)	O
;	O
if	O
(	O
get_last_player	()->(int)
(	O
)	O
!=	O
EMPTY	int
)	O
{	O
gfprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(void)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
"        Last move: %s %1m"	*(char)
,	O
get_last_player	()->(int)
(	O
)	O
==	O
WHITE	int
?	O
"White"	*(char)
:	O
"Black"	*(char)
,	O
last_move	int
)	O
;	O
}	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
fflush	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
board_size	int
;	O
i	int
++	O
)	O
{	O
printf	(*(char))->(int)
(	O
" %2d"	*(char)
,	O
board_size	int
-	O
i	int
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
for	O
(	O
j	int
=	O
0	int
;	O
j	int
<	O
board_size	int
;	O
j	int
++	O
)	O
{	O
if	O
(	O
POS	O
(	O
i	int
,	O
j	int
)	O
==	O
last_move	int
)	O
pos_is_move	int
=	O
128	int
;	O
else	O
pos_is_move	int
=	O
0	int
;	O
dead	int
=	O
(	O
dragon_status	(int)->(enum)
(	O
POS	O
(	O
i	int
,	O
j	int
)	O
)	O
==	O
DEAD	int
)	O
&&	O
showdead	int
;	O
switch	O
(	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
+	O
pos_is_move	int
+	O
last_pos_was_move	int
)	O
{	O
case	O
EMPTY	int
+	O
128	int
:	O
case	O
EMPTY	int
:	O
printf	(*(char))->(int)
(	O
" %c"	*(char)
,	O
hspots	array(array(char))
[	O
i	int
]	O
[	O
j	int
]	O
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
break	O
;	O
case	O
BLACK	int
:	O
printf	(*(char))->(int)
(	O
" %c"	*(char)
,	O
dead	int
?	O
'x'	O
:	O
'X'	O
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
break	O
;	O
case	O
WHITE	int
:	O
printf	(*(char))->(int)
(	O
" %c"	*(char)
,	O
dead	int
?	O
'o'	O
:	O
'O'	O
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
break	O
;	O
case	O
BLACK	int
+	O
128	int
:	O
printf	(*(char))->(int)
(	O
"(%c)"	*(char)
,	O
'X'	O
)	O
;	O
last_pos_was_move	int
=	O
256	int
;	O
break	O
;	O
case	O
WHITE	int
+	O
128	int
:	O
printf	(*(char))->(int)
(	O
"(%c)"	*(char)
,	O
'O'	O
)	O
;	O
last_pos_was_move	int
=	O
256	int
;	O
break	O
;	O
case	O
EMPTY	int
+	O
256	int
:	O
printf	(*(char))->(int)
(	O
"%c"	*(char)
,	O
hspots	array(array(char))
[	O
i	int
]	O
[	O
j	int
]	O
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
break	O
;	O
case	O
BLACK	int
+	O
256	int
:	O
printf	(*(char))->(int)
(	O
"%c"	*(char)
,	O
dead	int
?	O
'x'	O
:	O
'X'	O
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
break	O
;	O
case	O
WHITE	int
+	O
256	int
:	O
printf	(*(char))->(int)
(	O
"%c"	*(char)
,	O
dead	int
?	O
'o'	O
:	O
'O'	O
)	O
;	O
last_pos_was_move	int
=	O
0	int
;	O
break	O
;	O
default	O
:	O
fprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(int)
(	O
stderr	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
"Illegal board value %d\n"	*(char)
,	O
(	O
int	O
)	O
BOARD	O
(	O
i	int
,	O
j	int
)	O
)	O
;	O
exit	(int)->(void)
(	O
EXIT_FAILURE	int
)	O
;	O
break	O
;	O
}	O
}	O
if	O
(	O
last_pos_was_move	int
==	O
0	int
)	O
{	O
if	O
(	O
board_size	int
>	O
10	int
)	O
printf	(*(char))->(int)
(	O
" %2d"	*(char)
,	O
board_size	int
-	O
i	int
)	O
;	O
else	O
printf	(*(char))->(int)
(	O
" %1d"	*(char)
,	O
board_size	int
-	O
i	int
)	O
;	O
}	O
else	O
{	O
if	O
(	O
board_size	int
>	O
10	int
)	O
printf	(*(char))->(int)
(	O
"%2d"	*(char)
,	O
board_size	int
-	O
i	int
)	O
;	O
else	O
printf	(*(char))->(int)
(	O
"%1d"	*(char)
,	O
board_size	int
-	O
i	int
)	O
;	O
}	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
}	O
fflush	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
printf	(*(char))->(int)
(	O
"%s\n\n"	*(char)
,	O
letterbar	*(char)
)	O
;	O
fflush	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
if	O
(	O
clock_on	int
)	O
{	O
clock_print	(int)->(void)
(	O
WHITE	int
)	O
;	O
clock_print	(int)->(void)
(	O
BLACK	int
)	O
;	O
}	O
}	O
static	O
void	O
show_commands	()->(void)
(	O
void	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nCommands:\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" back                Take back your last move\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" boardsize           Set boardsize (on move 1 only)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" comment             Write a comment to outputfile\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" depth <num>         Set depth for reading\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" display             Display game board\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" exit                Exit GNU Go\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" force <move>        Force a move for current color\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" forward             Go to next node in game tree\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" goto <movenum>      Go to movenum in game tree\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" level <amount>      Playing level (default = 10)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" handicap <num>      Set fixed handicap (on move 1 only)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" freehandicap <num>  Place free handicap (on move 1 only)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"                     Omit <num> to place handicap yourself\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" help                Display this help menu\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" helpdebug           Display debug help menu\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" info                Display program settings\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" komi                Set komi (on move 1 only)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" last                Goto last node in game tree\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" pass                Pass on your move\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" play <num>          Play <num> moves\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" playblack           Play as Black (switch if White)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" playwhite           Play as White (switch if Black)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" quit                Exit GNU Go\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" resign              Resign the current game\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" save <file>         Save the current game\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" load <file>         Load a game from file\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" score               Toggle display of score On/Off\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" showboard           Toggle display of board On/Off\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" switch              Switch the color you are playing\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" undo                Take the last move back (same as back)\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" <move>              A move of the format <letter><number>"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
}	O
enum	O
commands	enum(int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int)
{	O
INVALID	int
=	O
-	O
1	int
,	O
END	int
,	O
EXIT	int
,	O
QUIT	int
,	O
RESIGN	int
,	O
PASS	int
,	O
MOVE	int
,	O
FORCE	int
,	O
SWITCH	int
,	O
PLAY	int
,	O
PLAYBLACK	int
,	O
PLAYWHITE	int
,	O
SETHANDICAP	int
,	O
FREEHANDICAP	int
,	O
SETBOARDSIZE	int
,	O
SETKOMI	int
,	O
SETDEPTH	int
,	O
INFO	int
,	O
DISPLAY	int
,	O
SHOWBOARD	int
,	O
HELP	int
,	O
UNDO	int
,	O
COMMENT	int
,	O
SCORE	int
,	O
CMD_DEAD	int
,	O
CMD_BACK	int
,	O
CMD_FORWARD	int
,	O
CMD_LAST	int
,	O
CMD_CAPTURE	int
,	O
CMD_DEFEND	int
,	O
CMD_HELPDEBUG	int
,	O
CMD_SHOWAREA	int
,	O
CMD_SHOWMOYO	int
,	O
CMD_SHOWTERRI	int
,	O
CMD_GOTO	int
,	O
CMD_SAVE	int
,	O
CMD_LOAD	int
,	O
CMD_SHOWDRAGONS	int
,	O
CMD_LISTDRAGONS	int
,	O
SETLEVEL	int
,	O
NEW	int
,	O
COUNT	int
,	O
CONTINUE	int
}	O
;	O
static	O
int	O
get_command	(*(char))->(int)
(	O
char	O
*	O
command	*(char)
)	O
{	O
char	O
c	char
;	O
int	O
d	int
;	O
if	O
(	O
!	O
(	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%c%d"	*(char)
,	O
&	O
c	char
,	O
&	O
d	int
)	O
!=	O
2	int
)	O
||	O
(	O
(	O
c	char
=	O
toupper	(int)->(int)
(	O
(	O
int	O
)	O
c	char
)	O
)	O
<	O
'A'	O
)	O
||	O
(	O
(	O
c	char
=	O
toupper	(int)->(int)
(	O
(	O
int	O
)	O
c	char
)	O
)	O
>	O
'Z'	O
)	O
||	O
(	O
c	char
==	O
'I'	O
)	O
)	O
)	O
return	O
MOVE	int
;	O
if	O
(	O
command	*(char)
[	O
0	int
]	O
==	O
'?'	O
)	O
return	O
HELP	int
;	O
while	O
(	O
command	*(char)
[	O
0	int
]	O
==	O
' '	O
)	O
command	*(char)
++	O
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"playblack"	*(char)
,	O
9	int
)	O
)	O
return	O
PLAYBLACK	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"playwhite"	*(char)
,	O
9	int
)	O
)	O
return	O
PLAYWHITE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"showboard"	*(char)
,	O
9	int
)	O
)	O
return	O
SHOWBOARD	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"showdragons"	*(char)
,	O
9	int
)	O
)	O
return	O
CMD_SHOWDRAGONS	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"listdragons"	*(char)
,	O
9	int
)	O
)	O
return	O
CMD_LISTDRAGONS	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"boardsize"	*(char)
,	O
9	int
)	O
)	O
return	O
SETBOARDSIZE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"freehandicap"	*(char)
,	O
9	int
)	O
)	O
return	O
FREEHANDICAP	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"handicap"	*(char)
,	O
5	int
)	O
)	O
return	O
SETHANDICAP	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"display"	*(char)
,	O
7	int
)	O
)	O
return	O
DISPLAY	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"helpdebug"	*(char)
,	O
7	int
)	O
)	O
return	O
CMD_HELPDEBUG	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"resign"	*(char)
,	O
6	int
)	O
)	O
return	O
RESIGN	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"showmoyo"	*(char)
,	O
6	int
)	O
)	O
return	O
CMD_SHOWMOYO	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"showterri"	*(char)
,	O
6	int
)	O
)	O
return	O
CMD_SHOWTERRI	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"showarea"	*(char)
,	O
6	int
)	O
)	O
return	O
CMD_SHOWAREA	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"depth"	*(char)
,	O
5	int
)	O
)	O
return	O
SETDEPTH	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"switch"	*(char)
,	O
5	int
)	O
)	O
return	O
SWITCH	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"komi"	*(char)
,	O
4	int
)	O
)	O
return	O
SETKOMI	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"play"	*(char)
,	O
4	int
)	O
)	O
return	O
PLAY	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"info"	*(char)
,	O
4	int
)	O
)	O
return	O
INFO	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"force"	*(char)
,	O
4	int
)	O
)	O
return	O
FORCE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"level"	*(char)
,	O
5	int
)	O
)	O
return	O
SETLEVEL	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"pass"	*(char)
,	O
4	int
)	O
)	O
return	O
PASS	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"save"	*(char)
,	O
3	int
)	O
)	O
return	O
CMD_SAVE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"load"	*(char)
,	O
3	int
)	O
)	O
return	O
CMD_LOAD	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"end"	*(char)
,	O
3	int
)	O
)	O
return	O
END	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"move"	*(char)
,	O
3	int
)	O
)	O
return	O
MOVE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"undo"	*(char)
,	O
3	int
)	O
)	O
return	O
UNDO	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"comment"	*(char)
,	O
3	int
)	O
)	O
return	O
COMMENT	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"score"	*(char)
,	O
3	int
)	O
)	O
return	O
SCORE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"dead"	*(char)
,	O
3	int
)	O
)	O
return	O
CMD_DEAD	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"capture"	*(char)
,	O
3	int
)	O
)	O
return	O
CMD_CAPTURE	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"defend"	*(char)
,	O
3	int
)	O
)	O
return	O
CMD_DEFEND	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"exit"	*(char)
,	O
4	int
)	O
)	O
return	O
EXIT	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"quit"	*(char)
,	O
4	int
)	O
)	O
return	O
QUIT	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"help"	*(char)
,	O
1	int
)	O
)	O
return	O
HELP	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"back"	*(char)
,	O
2	int
)	O
)	O
return	O
CMD_BACK	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"forward"	*(char)
,	O
2	int
)	O
)	O
return	O
CMD_FORWARD	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"last"	*(char)
,	O
2	int
)	O
)	O
return	O
CMD_LAST	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"goto"	*(char)
,	O
2	int
)	O
)	O
return	O
CMD_GOTO	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"game"	*(char)
,	O
2	int
)	O
)	O
return	O
NEW	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"count"	*(char)
,	O
3	int
)	O
)	O
return	O
COUNT	int
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
command	*(char)
,	O
"continue"	*(char)
,	O
4	int
)	O
)	O
return	O
CONTINUE	int
;	O
return	O
INVALID	int
;	O
}	O
static	O
void	O
init_sgf	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
ginfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
{	O
if	O
(	O
sgf_initialized	int
)	O
return	O
;	O
sgf_initialized	int
=	O
1	int
;	O
sgf_write_header	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int,int,float,int,int,int)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
1	int
,	O
get_random_seed	()->(int)
(	O
)	O
,	O
komi	float
,	O
ginfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
,	O
get_level	()->(int)
(	O
)	O
,	O
chinese_rules	int
)	O
;	O
if	O
(	O
ginfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
>	O
0	int
)	O
sgffile_recordboard	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
)	O
;	O
}	O
static	O
int	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
int	O
*	O
passes	*(int)
)	O
{	O
int	O
move	*(int)
;	O
float	O
move_value	*(float)
;	O
int	O
resign	*(int)
;	O
int	O
resignation_declined	int
=	O
0	int
;	O
float	O
upper_bound	float
,	O
lower_bound	float
;	O
init_sgf	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
if	O
(	O
autolevel_on	int
)	O
adjust_level_offset	(int)->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
move	*(int)
=	O
genmove	(int,*(float),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
,	O
&	O
move_value	*(float)
,	O
&	O
resign	*(int)
)	O
;	O
if	O
(	O
resignation_allowed	int
&&	O
resign	*(int)
)	O
{	O
int	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
ascii_endgame	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
2	int
)	O
;	O
if	O
(	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
!=	O
-	O
1	int
)	O
return	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
;	O
resignation_allowed	int
=	O
0	int
;	O
resignation_declined	int
=	O
1	int
;	O
}	O
if	O
(	O
showscore	int
)	O
{	O
gnugo_estimate_score	(*(float),*(float))->(float)
(	O
&	O
upper_bound	float
,	O
&	O
lower_bound	float
)	O
;	O
current_score_estimate	int
=	O
(	O
int	O
)	O
(	O
(	O
lower_bound	float
+	O
upper_bound	float
)	O
/	O
2.0	int
)	O
;	O
}	O
mprintf	(*(char))->(void)
(	O
"%s(%d): %1m\n"	*(char)
,	O
color_to_string	(int)->(*(char))
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
,	O
movenum	int
+	O
1	int
,	O
move	*(int)
)	O
;	O
if	O
(	O
is_pass	(int)->(int)
(	O
move	*(int)
)	O
)	O
(	O
*	O
passes	*(int)
)	O
++	O
;	O
else	O
*	O
passes	*(int)
=	O
0	int
;	O
gnugo_play_move	(int,int)->(void)
(	O
move	*(int)
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
sgffile_add_debuginfo	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),float)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
lastnode	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
move_value	*(float)
)	O
;	O
sgftreeAddPlay	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int,int,int)->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
,	O
I	O
(	O
move	*(int)
)	O
,	O
J	O
(	O
move	*(int)
)	O
)	O
;	O
if	O
(	O
resignation_declined	int
)	O
sgftreeAddComment	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
"GNU Go resignation was declined"	*(char)
)	O
;	O
sgffile_output	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
return	O
0	int
;	O
}	O
static	O
int	O
do_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char),*(int),int)->(int)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
char	O
*	O
command	*(char)
,	O
int	O
*	O
passes	*(int)
,	O
int	O
force	int
)	O
{	O
int	O
move	*(int)
=	O
string_to_location	(int,*(char))->(int)
(	O
board_size	int
,	O
command	*(char)
)	O
;	O
if	O
(	O
move	*(int)
==	O
NO_MOVE	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid move: %s\n"	*(char)
,	O
command	*(char)
)	O
;	O
return	O
0	int
;	O
}	O
if	O
(	O
!	O
is_allowed_move	(int,int)->(int)
(	O
move	*(int)
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nIllegal move: %s"	*(char)
,	O
command	*(char)
)	O
;	O
return	O
0	int
;	O
}	O
*	O
passes	*(int)
=	O
0	int
;	O
TRACE	O
(	O
"\nyour move: %1m\n\n"	*(char)
,	O
move	*(int)
)	O
;	O
init_sgf	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
gnugo_play_move	(int,int)->(void)
(	O
move	*(int)
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
sgffile_add_debuginfo	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),float)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
lastnode	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
0.0	int
)	O
;	O
sgftreeAddPlay	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int,int,int)->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
,	O
I	O
(	O
move	*(int)
)	O
,	O
J	O
(	O
move	*(int)
)	O
)	O
;	O
sgffile_output	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
;	O
if	O
(	O
opt_showboard	int
)	O
{	O
ascii_showboard	()->(void)
(	O
)	O
;	O
printf	(*(char))->(int)
(	O
"GNU Go is thinking...\n"	*(char)
)	O
;	O
}	O
if	O
(	O
force	int
)	O
{	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
sgftreeAddComment	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
"forced"	*(char)
)	O
;	O
return	O
0	int
;	O
}	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
return	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
passes	*(int)
)	O
;	O
}	O
static	O
int	O
do_pass	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int),int)->(int)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
int	O
*	O
passes	*(int)
,	O
int	O
force	int
)	O
{	O
(	O
*	O
passes	*(int)
)	O
++	O
;	O
init_sgf	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
gnugo_play_move	(int,int)->(void)
(	O
PASS_MOVE	int
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
sgffile_add_debuginfo	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),float)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
lastnode	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
0.0	int
)	O
;	O
sgftreeAddPlay	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int,int,int)->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
,	O
-	O
1	int
,	O
-	O
1	int
)	O
;	O
sgffile_output	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
if	O
(	O
force	int
)	O
{	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
)	O
;	O
sgftreeAddComment	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
"forced"	*(char)
)	O
;	O
return	O
0	int
;	O
}	O
return	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
passes	*(int)
)	O
;	O
}	O
void	O
play_ascii	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char),*(char))->(void)
(	O
SGFTree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
*	O
tree	*(struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
char	O
*	O
filename	*(char)
,	O
char	O
*	O
until	*(char)
)	O
{	O
int	O
sz	int
;	O
setvbuf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char),int,long)->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
(	O
char	O
*	O
)	O
NULL	O
,	O
_IONBF	int
,	O
0	int
)	O
;	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
=	O
*	O
tree	*(struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
;	O
if	O
(	O
filename	*(char)
)	O
{	O
gameinfo_play_sgftree	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
until	*(char)
)	O
;	O
sgf_initialized	int
=	O
1	int
;	O
}	O
else	O
{	O
if	O
(	O
sgfGetIntProperty	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char),*(int))->(int)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
"SZ"	*(char)
,	O
&	O
sz	int
)	O
)	O
gnugo_clear_board	(int)->(void)
(	O
sz	int
)	O
;	O
if	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
==	O
0	int
)	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
BLACK	int
;	O
else	O
{	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
=	O
place_fixed_handicap	(int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
WHITE	int
;	O
}	O
sgf_initialized	int
=	O
0	int
;	O
}	O
do_play_ascii	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
printf	(*(char))->(int)
(	O
"\nThanks! for playing GNU Go.\n\n"	*(char)
)	O
;	O
*	O
tree	*(struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
=	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
;	O
}	O
void	O
do_play_ascii	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
{	O
int	O
m	int
,	O
num	int
;	O
float	O
fnum	float
;	O
int	O
passes	*(int)
=	O
0	int
;	O
int	O
tmp	int
;	O
char	O
line	int
[	O
80	int
]	O
;	O
char	O
*	O
line_ptr	*(char)
=	O
line	int
;	O
char	O
*	O
command	*(char)
;	O
char	O
*	O
tmpstring	*(char)
;	O
int	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
1	int
;	O
if	O
(	O
have_time_settings	()->(int)
(	O
)	O
)	O
clock_on	int
=	O
1	int
;	O
while	O
(	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
==	O
1	int
)	O
{	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
0	int
;	O
current_score_estimate	int
=	O
NO_SCORE	int
;	O
resignation_allowed	int
=	O
1	int
;	O
printf	(*(char))->(int)
(	O
"\nBeginning ASCII mode game.\n\n"	*(char)
)	O
;	O
gameinfo_print	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
if	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
==	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
)	O
;	O
while	O
(	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
==	O
0	int
)	O
{	O
if	O
(	O
opt_showboard	int
)	O
ascii_showboard	()->(void)
(	O
)	O
;	O
mprintf	(*(char))->(void)
(	O
"%s(%d): "	*(char)
,	O
color_to_string	(int)->(*(char))
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
,	O
movenum	int
+	O
1	int
)	O
;	O
line_ptr	*(char)
=	O
line	int
;	O
if	O
(	O
!	O
fgets	(*(char),int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(*(char))
(	O
line	int
,	O
80	int
,	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
)	O
return	O
;	O
while	O
(	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
==	O
0	int
&&	O
(	O
command	*(char)
=	O
strtok	(*(char),*(char))->(*(char))
(	O
line_ptr	*(char)
,	O
";"	*(char)
)	O
,	O
line_ptr	*(char)
=	O
0	int
,	O
command	*(char)
)	O
)	O
{	O
switch	O
(	O
get_command	(*(char))->(int)
(	O
command	*(char)
)	O
)	O
{	O
case	O
RESIGN	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
ascii_endgame	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
1	int
)	O
;	O
break	O
;	O
case	O
END	int
:	O
case	O
EXIT	int
:	O
case	O
QUIT	int
:	O
return	O
;	O
case	O
HELP	int
:	O
show_commands	()->(void)
(	O
)	O
;	O
break	O
;	O
case	O
CMD_HELPDEBUG	int
:	O
printf	(*(char))->(int)
(	O
DEBUG_COMMANDS	*(char)
)	O
;	O
break	O
;	O
case	O
SHOWBOARD	int
:	O
opt_showboard	int
=	O
!	O
opt_showboard	int
;	O
break	O
;	O
case	O
INFO	int
:	O
printf	(*(char))->(int)
(	O
"\n"	*(char)
)	O
;	O
gameinfo_print	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
break	O
;	O
case	O
SETBOARDSIZE	int
:	O
if	O
(	O
sgf_initialized	int
)	O
{	O
printf	(*(char))->(int)
(	O
"Boardsize cannot be changed after record is started!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
command	*(char)
+=	O
10	int
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%d"	*(char)
,	O
&	O
num	int
)	O
!=	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
if	O
(	O
!	O
check_boardsize	(int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
num	int
,	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
)	O
break	O
;	O
board_size	int
=	O
num	int
;	O
clear_board	()->(void)
(	O
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
=	O
place_fixed_handicap	(int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
)	O
;	O
sgfOverwritePropertyInt	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char),int)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
"SZ"	*(char)
,	O
board_size	int
)	O
;	O
sgfOverwritePropertyInt	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char),int)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
"HA"	*(char)
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
)	O
;	O
break	O
;	O
case	O
SETHANDICAP	int
:	O
if	O
(	O
sgf_initialized	int
)	O
{	O
printf	(*(char))->(int)
(	O
"Handicap cannot be changed after game is started!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
command	*(char)
+=	O
9	int
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%d"	*(char)
,	O
&	O
num	int
)	O
!=	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
if	O
(	O
num	int
<	O
0	int
||	O
num	int
>	O
MAX_HANDICAP	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid handicap: %d\n"	*(char)
,	O
num	int
)	O
;	O
break	O
;	O
}	O
clear_board	()->(void)
(	O
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
=	O
place_fixed_handicap	(int)->(int)
(	O
num	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\nSet handicap to %d\n"	*(char)
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
?	O
WHITE	int
:	O
BLACK	int
)	O
;	O
break	O
;	O
case	O
FREEHANDICAP	int
:	O
if	O
(	O
sgf_initialized	int
)	O
{	O
printf	(*(char))->(int)
(	O
"Handicap cannot be changed after game is started!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
while	O
(	O
*	O
command	*(char)
&&	O
*	O
command	*(char)
!=	O
' '	O
)	O
command	*(char)
++	O
;	O
ascii_free_handicap	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
command	*(char)
)	O
;	O
break	O
;	O
case	O
SETKOMI	int
:	O
if	O
(	O
sgf_initialized	int
)	O
{	O
printf	(*(char))->(int)
(	O
"Komi cannot be modified after game record is started!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
command	*(char)
+=	O
5	int
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%f"	*(char)
,	O
&	O
fnum	float
)	O
!=	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
komi	float
=	O
fnum	float
;	O
printf	(*(char))->(int)
(	O
"\nSet Komi to %.1f\n"	*(char)
,	O
komi	float
)	O
;	O
break	O
;	O
case	O
SETDEPTH	int
:	O
command	*(char)
+=	O
6	int
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%d"	*(char)
,	O
&	O
num	int
)	O
!=	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
mandated_depth	int
=	O
num	int
;	O
printf	(*(char))->(int)
(	O
"\nSet depth to %d\n"	*(char)
,	O
mandated_depth	int
)	O
;	O
break	O
;	O
case	O
SETLEVEL	int
:	O
command	*(char)
+=	O
6	int
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%d"	*(char)
,	O
&	O
num	int
)	O
!=	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
set_level	(int)->(void)
(	O
num	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\nSet level to %d\n"	*(char)
,	O
num	int
)	O
;	O
break	O
;	O
case	O
DISPLAY	int
:	O
if	O
(	O
!	O
opt_showboard	int
)	O
ascii_showboard	()->(void)
(	O
)	O
;	O
break	O
;	O
case	O
FORCE	int
:	O
command	*(char)
+=	O
6	int
;	O
switch	O
(	O
get_command	(*(char))->(int)
(	O
command	*(char)
)	O
)	O
{	O
case	O
MOVE	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
do_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char),*(int),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
command	*(char)
,	O
&	O
passes	*(int)
,	O
1	int
)	O
;	O
break	O
;	O
case	O
PASS	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
do_pass	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
,	O
1	int
)	O
;	O
break	O
;	O
default	O
:	O
printf	(*(char))->(int)
(	O
"Illegal forced move: %s %d\n"	*(char)
,	O
command	*(char)
,	O
get_command	(*(char))->(int)
(	O
command	*(char)
)	O
)	O
;	O
break	O
;	O
}	O
break	O
;	O
case	O
MOVE	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
do_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char),*(int),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
command	*(char)
,	O
&	O
passes	*(int)
,	O
0	int
)	O
;	O
break	O
;	O
case	O
PASS	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
do_pass	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
,	O
0	int
)	O
;	O
break	O
;	O
case	O
PLAY	int
:	O
command	*(char)
+=	O
5	int
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
command	*(char)
,	O
"%d"	*(char)
,	O
&	O
num	int
)	O
!=	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
break	O
;	O
}	O
if	O
(	O
num	int
>=	O
0	int
)	O
for	O
(	O
m	int
=	O
0	int
;	O
m	int
<	O
num	int
;	O
m	int
++	O
)	O
{	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
)	O
;	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
)	O
;	O
if	O
(	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
)	O
break	O
;	O
if	O
(	O
passes	*(int)
>=	O
2	int
)	O
break	O
;	O
}	O
else	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid number of moves specified: %d\n"	*(char)
,	O
num	int
)	O
;	O
break	O
;	O
}	O
break	O
;	O
case	O
PLAYBLACK	int
:	O
if	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
==	O
WHITE	int
)	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
=	O
BLACK	int
;	O
if	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
==	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
)	O
;	O
break	O
;	O
case	O
PLAYWHITE	int
:	O
if	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
==	O
BLACK	int
)	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
=	O
WHITE	int
;	O
if	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
==	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
)	O
;	O
break	O
;	O
case	O
SWITCH	int
:	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
)	O
;	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
computer_move	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(int))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
passes	*(int)
)	O
;	O
break	O
;	O
case	O
UNDO	int
:	O
case	O
CMD_BACK	int
:	O
if	O
(	O
undo_move	(int)->(int)
(	O
1	int
)	O
)	O
{	O
sgftreeAddComment	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
"undone"	*(char)
)	O
;	O
sgftreeBack	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(int)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
}	O
else	O
printf	(*(char))->(int)
(	O
"\nCan't undo.\n"	*(char)
)	O
;	O
break	O
;	O
case	O
CMD_FORWARD	int
:	O
if	O
(	O
sgftreeForward	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(int)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
)	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
gnugo_play_sgfnode	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int)->(int)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
lastnode	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
else	O
printf	(*(char))->(int)
(	O
"\nEnd of game tree.\n"	*(char)
)	O
;	O
break	O
;	O
case	O
CMD_LAST	int
:	O
while	O
(	O
sgftreeForward	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(int)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
)	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
gnugo_play_sgfnode	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int)->(int)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
lastnode	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
break	O
;	O
case	O
COMMENT	int
:	O
printf	(*(char))->(int)
(	O
"\nEnter comment. Press ENTER when ready.\n"	*(char)
)	O
;	O
fgets	(*(char),int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(*(char))
(	O
line	int
,	O
80	int
,	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
sgftreeAddComment	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
line	int
)	O
;	O
break	O
;	O
case	O
SCORE	int
:	O
showscore	int
=	O
!	O
showscore	int
;	O
if	O
(	O
!	O
showscore	int
)	O
current_score_estimate	int
=	O
NO_SCORE	int
;	O
break	O
;	O
case	O
CMD_DEAD	int
:	O
silent_examine_position	(int)->(void)
(	O
FULL_EXAMINE_DRAGONS	int
)	O
;	O
showdead	int
=	O
!	O
showdead	int
;	O
break	O
;	O
case	O
CMD_CAPTURE	int
:	O
strtok	(*(char),*(char))->(*(char))
(	O
command	*(char)
,	O
" "	*(char)
)	O
;	O
showcapture	(*(char))->(void)
(	O
strtok	(*(char),*(char))->(*(char))
(	O
NULL	O
,	O
" "	*(char)
)	O
)	O
;	O
break	O
;	O
case	O
CMD_DEFEND	int
:	O
strtok	(*(char),*(char))->(*(char))
(	O
command	*(char)
,	O
" "	*(char)
)	O
;	O
showdefense	(*(char))->(void)
(	O
strtok	(*(char),*(char))->(*(char))
(	O
NULL	O
,	O
" "	*(char)
)	O
)	O
;	O
break	O
;	O
case	O
CMD_SHOWMOYO	int
:	O
tmp	int
=	O
printmoyo	int
;	O
printmoyo	int
=	O
PRINTMOYO_MOYO	int
;	O
silent_examine_position	(int)->(void)
(	O
EXAMINE_DRAGONS	int
)	O
;	O
printmoyo	int
=	O
tmp	int
;	O
break	O
;	O
case	O
CMD_SHOWTERRI	int
:	O
tmp	int
=	O
printmoyo	int
;	O
printmoyo	int
=	O
PRINTMOYO_TERRITORY	int
;	O
silent_examine_position	(int)->(void)
(	O
EXAMINE_DRAGONS	int
)	O
;	O
printmoyo	int
=	O
tmp	int
;	O
break	O
;	O
case	O
CMD_SHOWAREA	int
:	O
tmp	int
=	O
printmoyo	int
;	O
printmoyo	int
=	O
PRINTMOYO_AREA	int
;	O
silent_examine_position	(int)->(void)
(	O
EXAMINE_DRAGONS	int
)	O
;	O
printmoyo	int
=	O
tmp	int
;	O
break	O
;	O
case	O
CMD_SHOWDRAGONS	int
:	O
silent_examine_position	(int)->(void)
(	O
EXAMINE_DRAGONS	int
)	O
;	O
showboard	(int)->(void)
(	O
1	int
)	O
;	O
break	O
;	O
case	O
CMD_GOTO	int
:	O
strtok	(*(char),*(char))->(*(char))
(	O
command	*(char)
,	O
" "	*(char)
)	O
;	O
ascii_goto	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
strtok	(*(char),*(char))->(*(char))
(	O
NULL	O
,	O
" "	*(char)
)	O
)	O
;	O
break	O
;	O
case	O
CMD_SAVE	int
:	O
strtok	(*(char),*(char))->(*(char))
(	O
command	*(char)
,	O
" "	*(char)
)	O
;	O
tmpstring	*(char)
=	O
strtok	(*(char),*(char))->(*(char))
(	O
NULL	O
,	O
" "	*(char)
)	O
;	O
if	O
(	O
tmpstring	*(char)
)	O
{	O
tmpstring	*(char)
[	O
strlen	(*(char))->(long)
(	O
tmpstring	*(char)
)	O
-	O
1	int
]	O
=	O
0	int
;	O
init_sgf	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
writesgf	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(int)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
tmpstring	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"You may resume the game"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" with -l %s --mode ascii\n"	*(char)
,	O
tmpstring	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"or load %s\n"	*(char)
,	O
tmpstring	*(char)
)	O
;	O
}	O
else	O
printf	(*(char))->(int)
(	O
"Please specify filename\n"	*(char)
)	O
;	O
break	O
;	O
case	O
CMD_LOAD	int
:	O
strtok	(*(char),*(char))->(*(char))
(	O
command	*(char)
,	O
" "	*(char)
)	O
;	O
tmpstring	*(char)
=	O
strtok	(*(char),*(char))->(*(char))
(	O
NULL	O
,	O
" "	*(char)
)	O
;	O
if	O
(	O
tmpstring	*(char)
)	O
{	O
tmpstring	*(char)
[	O
strlen	(*(char))->(long)
(	O
tmpstring	*(char)
)	O
-	O
1	int
]	O
=	O
0	int
;	O
if	O
(	O
!	O
sgftree_readfile	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(int)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
tmpstring	*(char)
)	O
)	O
{	O
fprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(int)
(	O
stderr	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
"Cannot open or parse '%s'\n"	*(char)
,	O
tmpstring	*(char)
)	O
;	O
break	O
;	O
}	O
if	O
(	O
gameinfo_play_sgftree	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
NULL	O
)	O
==	O
EMPTY	int
)	O
fprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(int)
(	O
stderr	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
"Cannot load '%s'\n"	*(char)
,	O
tmpstring	*(char)
)	O
;	O
else	O
{	O
sgf_initialized	int
=	O
1	int
;	O
sgfOverwritePropertyInt	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char),int)->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
"HA"	*(char)
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
)	O
;	O
}	O
}	O
else	O
printf	(*(char))->(int)
(	O
"Please specify a filename\n"	*(char)
)	O
;	O
break	O
;	O
case	O
CMD_LISTDRAGONS	int
:	O
silent_examine_position	(int)->(void)
(	O
EXAMINE_DRAGONS	int
)	O
;	O
show_dragons	()->(void)
(	O
)	O
;	O
break	O
;	O
default	O
:	O
printf	(*(char))->(int)
(	O
"\nInvalid command: %s"	*(char)
,	O
command	*(char)
)	O
;	O
break	O
;	O
}	O
if	O
(	O
passes	*(int)
>=	O
2	int
)	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
ascii_endgame	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),int)->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
0	int
)	O
;	O
}	O
}	O
sgffile_output	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
;	O
passes	*(int)
=	O
0	int
;	O
update_random_seed	()->(void)
(	O
)	O
;	O
sgfFreeNode	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
)	O
;	O
sgftree_clear	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
)	O
;	O
sgftreeCreateHeaderNode	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),int,float,int)->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
board_size	int
,	O
komi	float
,	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
)	O
;	O
sgf_initialized	int
=	O
0	int
;	O
gameinfo_clear	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
}	O
}	O
static	O
int	O
ascii_endgame	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),int)->(int)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
int	O
reason	int
)	O
{	O
char	O
line	int
[	O
80	int
]	O
;	O
char	O
*	O
line_ptr	*(char)
;	O
char	O
*	O
command	*(char)
;	O
char	O
*	O
tmpstring	*(char)
;	O
int	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
0	int
;	O
if	O
(	O
reason	int
==	O
0	int
)	O
{	O
who_wins	(int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
,	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
printf	(*(char))->(int)
(	O
"\nIf you disagree, we may count the game together.\n"	*(char)
)	O
;	O
sgftreeWriteResult	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),float,int)->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
(	O
white_score	float
+	O
black_score	float
)	O
/	O
2.0	int
,	O
1	int
)	O
;	O
}	O
else	O
{	O
int	O
color	int
=	O
OTHER_COLOR	O
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
)	O
;	O
if	O
(	O
reason	int
==	O
1	int
)	O
printf	(*(char))->(int)
(	O
"GNU Go wins by resignation.\n"	*(char)
)	O
;	O
else	O
printf	(*(char))->(int)
(	O
"You win by resignation.\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"Result: %c+Resign\n\n"	*(char)
,	O
color	int
==	O
WHITE	int
?	O
'W'	O
:	O
'B'	O
)	O
;	O
sgftreeWriteResult	(*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),float,int)->(void)
(	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
color	int
==	O
WHITE	int
?	O
1000.0	int
:	O
-	O
1000.0	int
,	O
1	int
)	O
;	O
}	O
while	O
(	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
==	O
0	int
)	O
{	O
printf	(*(char))->(int)
(	O
"You may optionally save the game as an SGF file.\n\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"Type \"save <filename>\" to save,\n"	*(char)
)	O
;	O
if	O
(	O
reason	int
==	O
0	int
)	O
printf	(*(char))->(int)
(	O
"     \"count\" to recount,\n"	*(char)
)	O
;	O
else	O
if	O
(	O
reason	int
==	O
2	int
)	O
printf	(*(char))->(int)
(	O
"     \"continue\" to decline resignation and continue the game,\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"     \"quit\" to quit\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
" or  \"game\" to play again\n"	*(char)
)	O
;	O
line_ptr	*(char)
=	O
line	int
;	O
if	O
(	O
!	O
fgets	(*(char),int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(*(char))
(	O
line	int
,	O
80	int
,	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
)	O
break	O
;	O
command	*(char)
=	O
strtok	(*(char),*(char))->(*(char))
(	O
line_ptr	*(char)
,	O
""	*(char)
)	O
;	O
switch	O
(	O
get_command	(*(char))->(int)
(	O
command	*(char)
)	O
)	O
{	O
case	O
CMD_SAVE	int
:	O
strtok	(*(char),*(char))->(*(char))
(	O
command	*(char)
,	O
" "	*(char)
)	O
;	O
tmpstring	*(char)
=	O
strtok	(*(char),*(char))->(*(char))
(	O
NULL	O
,	O
" "	*(char)
)	O
;	O
if	O
(	O
tmpstring	*(char)
)	O
{	O
tmpstring	*(char)
[	O
strlen	(*(char))->(long)
(	O
tmpstring	*(char)
)	O
-	O
1	int
]	O
=	O
0	int
;	O
init_sgf	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
writesgf	(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(int)
(	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
.	O
root	*(struct(*(struct(*(struct`),short,*(char))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))))
,	O
tmpstring	*(char)
)	O
;	O
}	O
else	O
printf	(*(char))->(int)
(	O
"Please specify filename\n"	*(char)
)	O
;	O
break	O
;	O
case	O
COUNT	int
:	O
if	O
(	O
reason	int
==	O
0	int
)	O
ascii_count	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
;	O
break	O
;	O
case	O
CONTINUE	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
-	O
1	int
;	O
break	O
;	O
case	O
NEW	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
1	int
;	O
break	O
;	O
case	O
QUIT	int
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
2	int
;	O
break	O
;	O
default	O
:	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
=	O
0	int
;	O
}	O
}	O
return	O
state	*(struct(int,array(char),int,int,int,array(char),int,int,int,array(int),array(int),array(struct(array(long))),int,float,int,int))
;	O
}	O
static	O
void	O
ascii_count	(*(struct(int,int,struct(*(struct`),*(struct`)),int)))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
)	O
{	O
char	O
line	int
[	O
12	int
]	O
;	O
int	O
done	int
=	O
0	int
;	O
int	O
i	int
;	O
int	O
xyzzy	int
=	O
1	int
;	O
printf	(*(char))->(int)
(	O
"\nGame over. Let's count!.\n"	*(char)
)	O
;	O
showdead	int
=	O
1	int
;	O
ascii_showboard	()->(void)
(	O
)	O
;	O
while	O
(	O
!	O
done	int
)	O
{	O
printf	(*(char))->(int)
(	O
"Dead stones are marked with small letters (x,o).\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"\nIf you don't agree, enter the location of a group\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"to toggle its state or \"done\".\n"	*(char)
)	O
;	O
if	O
(	O
!	O
fgets	(*(char),int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(*(char))
(	O
line	int
,	O
12	int
,	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
)	O
return	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
12	int
;	O
i	int
++	O
)	O
line	int
[	O
i	int
]	O
=	O
tolower	(int)->(int)
(	O
(	O
int	O
)	O
line	int
[	O
i	int
]	O
)	O
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"done"	*(char)
,	O
4	int
)	O
)	O
done	int
=	O
1	int
;	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"quit"	*(char)
,	O
4	int
)	O
)	O
return	O
;	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"xyzzy"	*(char)
,	O
5	int
)	O
)	O
{	O
if	O
(	O
xyzzy	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nYou are in a debris room filled with stuff washed in from the\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"surface.  A low wide passage with cobbles becomes plugged\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"with mud and debris here, but an awkward canyon leads\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"upward and west.  A note on the wall says:\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"   Magic Word \"XYZZY\"\n\n"	*(char)
)	O
;	O
xyzzy	int
=	O
0	int
;	O
}	O
else	O
{	O
printf	(*(char))->(int)
(	O
"You are inside a building, a well house for a large spring.\n\n"	*(char)
)	O
;	O
xyzzy	int
=	O
1	int
;	O
}	O
}	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"help"	*(char)
,	O
4	int
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"\nIf there are dead stones on the board I will remove them.\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"You must tell me where they are. Type the coordinates of a\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"dead group, or type \"done\"\n"	*(char)
)	O
;	O
}	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"undo"	*(char)
,	O
4	int
)	O
)	O
{	O
printf	(*(char))->(int)
(	O
"UNDO not allowed anymore. The status of the stones now\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"toggles after entering the location of it.\n"	*(char)
)	O
;	O
ascii_showboard	()->(void)
(	O
)	O
;	O
}	O
else	O
{	O
int	O
pos	int
=	O
string_to_location	(int,*(char))->(int)
(	O
board_size	int
,	O
line	int
)	O
;	O
if	O
(	O
pos	int
==	O
NO_MOVE	O
||	O
board	*(char)
[	O
pos	int
]	O
==	O
EMPTY	int
)	O
printf	(*(char))->(int)
(	O
"\ninvalid!\n"	*(char)
)	O
;	O
else	O
{	O
enum	O
dragon_status	(int)->(enum)
status	enum(int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int)
=	O
dragon_status	(int)->(enum)
(	O
pos	int
)	O
;	O
status	enum(int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int)
=	O
(	O
status	enum(int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int)
==	O
DEAD	int
)	O
?	O
ALIVE	int
:	O
DEAD	int
;	O
change_dragon_status	(int,enum(int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int))->(void)
(	O
pos	int
,	O
status	enum(int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int)
)	O
;	O
ascii_showboard	()->(void)
(	O
)	O
;	O
}	O
}	O
}	O
who_wins	(int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(void)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
computer_player	int
,	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
}	O
static	O
void	O
showcapture	(*(char))->(void)
(	O
char	O
*	O
line	int
)	O
{	O
int	O
str	int
;	O
int	O
move	*(int)
;	O
gg_assert	O
(	O
line	int
)	O
;	O
str	int
=	O
string_to_location	(int,*(char))->(int)
(	O
board_size	int
,	O
line	int
)	O
;	O
if	O
(	O
str	int
==	O
NO_MOVE	O
||	O
board	*(char)
[	O
str	int
]	O
==	O
EMPTY	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\ninvalid point!\n"	*(char)
)	O
;	O
return	O
;	O
}	O
if	O
(	O
attack	(int,*(int))->(int)
(	O
str	int
,	O
&	O
move	*(int)
)	O
)	O
mprintf	(*(char))->(void)
(	O
"\nSuccessful attack of %1m at %1m\n"	*(char)
,	O
str	int
,	O
move	*(int)
)	O
;	O
else	O
mprintf	(*(char))->(void)
(	O
"\n%1m cannot be attacked\n"	*(char)
,	O
str	int
)	O
;	O
}	O
static	O
void	O
showdefense	(*(char))->(void)
(	O
char	O
*	O
line	int
)	O
{	O
int	O
str	int
;	O
int	O
move	*(int)
;	O
gg_assert	O
(	O
line	int
)	O
;	O
str	int
=	O
string_to_location	(int,*(char))->(int)
(	O
board_size	int
,	O
line	int
)	O
;	O
if	O
(	O
str	int
==	O
NO_MOVE	O
||	O
board	*(char)
[	O
str	int
]	O
==	O
EMPTY	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\ninvalid point!\n"	*(char)
)	O
;	O
return	O
;	O
}	O
if	O
(	O
attack	(int,*(int))->(int)
(	O
str	int
,	O
NULL	O
)	O
)	O
{	O
if	O
(	O
find_defense	(int,*(int))->(int)
(	O
str	int
,	O
&	O
move	*(int)
)	O
)	O
mprintf	(*(char))->(void)
(	O
"\nSuccessful defense of %1m at %1m\n"	*(char)
,	O
str	int
,	O
move	*(int)
)	O
;	O
else	O
mprintf	(*(char))->(void)
(	O
"\n%1m cannot be defended\n"	*(char)
,	O
str	int
)	O
;	O
}	O
else	O
mprintf	(*(char))->(void)
(	O
"\nThere is no need to defend %1m\n"	*(char)
,	O
str	int
)	O
;	O
}	O
static	O
void	O
ascii_goto	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
char	O
*	O
line	int
)	O
{	O
const	O
char	O
*	O
movenumber	*(char)
=	O
line	int
;	O
if	O
(	O
!	O
line	int
)	O
return	O
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"last"	*(char)
,	O
4	int
)	O
)	O
movenumber	*(char)
=	O
"9999"	*(char)
;	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"first"	*(char)
,	O
4	int
)	O
)	O
movenumber	*(char)
=	O
"1"	*(char)
;	O
printf	(*(char))->(int)
(	O
"goto %s\n"	*(char)
,	O
movenumber	*(char)
)	O
;	O
gameinfo_play_sgftree	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(char))->(int)
(	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
&	O
sgftree	struct(*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))),*(struct(*(struct(*`,short,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`)))))
,	O
movenumber	*(char)
)	O
;	O
}	O
static	O
void	O
ascii_free_handicap	(*(struct(int,int,struct(*(struct`),*(struct`)),int)),*(char))->(void)
(	O
Gameinfo	struct(int,int,struct(*(struct(*(struct`),*(struct`),*(struct`),*(struct`))),*(struct(*(struct`),*(struct`),*(struct`),*(struct`)))),int)
*	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
,	O
char	O
*	O
handicap_string	*(char)
)	O
{	O
int	O
handi	int
;	O
int	O
i	int
;	O
char	O
line	int
[	O
80	int
]	O
;	O
int	O
stones	*(int)
[	O
MAX_BOARD	int
*	O
MAX_BOARD	int
]	O
;	O
if	O
(	O
sscanf	(*(char),*(char))->(int)
(	O
handicap_string	*(char)
,	O
"%d"	*(char)
,	O
&	O
handi	int
)	O
==	O
1	int
)	O
{	O
if	O
(	O
handi	int
<	O
0	int
||	O
handi	int
==	O
1	int
)	O
{	O
printf	(*(char))->(int)
(	O
"\nInvalid command syntax!\n"	*(char)
)	O
;	O
return	O
;	O
}	O
clear_board	()->(void)
(	O
)	O
;	O
handi	int
=	O
place_free_handicap	(int)->(int)
(	O
handi	int
)	O
;	O
printf	(*(char))->(int)
(	O
"\nPlaced %d stones of free handicap.\n"	*(char)
,	O
handi	int
)	O
;	O
}	O
else	O
{	O
clear_board	()->(void)
(	O
)	O
;	O
handi	int
=	O
0	int
;	O
while	O
(	O
1	int
)	O
{	O
ascii_showboard	()->(void)
(	O
)	O
;	O
printf	(*(char))->(int)
(	O
"\nType in coordinates of next handicap stone, or one of the following commands:\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"  undo        take back the last stone placed\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"  clear       remove all the stones placed so far\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"  done        finish placing handicap\n\n"	*(char)
)	O
;	O
printf	(*(char))->(int)
(	O
"You have placed %d handicap stone(s) so far.\n\n"	*(char)
,	O
handi	int
)	O
;	O
if	O
(	O
!	O
fgets	(*(char),int,*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(*(char))
(	O
line	int
,	O
80	int
,	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
)	O
return	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
80	int
;	O
i	int
++	O
)	O
line	int
[	O
i	int
]	O
=	O
tolower	(int)->(int)
(	O
(	O
int	O
)	O
line	int
[	O
i	int
]	O
)	O
;	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"undo"	*(char)
,	O
4	int
)	O
)	O
{	O
if	O
(	O
!	O
handi	int
)	O
printf	(*(char))->(int)
(	O
"\nNothing to undo.\n"	*(char)
)	O
;	O
else	O
{	O
remove_stone	(int)->(void)
(	O
stones	*(int)
[	O
--	O
handi	int
]	O
)	O
;	O
gprintf	(*(char))->(int)
(	O
"\nRemoved the stone at %m.\n"	*(char)
,	O
I	O
(	O
stones	*(int)
[	O
handi	int
]	O
)	O
,	O
J	O
(	O
stones	*(int)
[	O
handi	int
]	O
)	O
)	O
;	O
}	O
}	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"clear"	*(char)
,	O
5	int
)	O
)	O
{	O
clear_board	()->(void)
(	O
)	O
;	O
handi	int
=	O
0	int
;	O
}	O
else	O
if	O
(	O
!	O
strncmp	(*(char),*(char),long)->(int)
(	O
line	int
,	O
"done"	*(char)
,	O
4	int
)	O
)	O
{	O
if	O
(	O
handi	int
==	O
1	int
)	O
printf	(*(char))->(int)
(	O
"\nHandicap cannot be one stone. Either add "	*(char)
"some more, or delete the only stone.\n"	*(char)
)	O
;	O
else	O
break	O
;	O
}	O
else	O
{	O
int	O
pos	int
=	O
string_to_location	(int,*(char))->(int)
(	O
board_size	int
,	O
line	int
)	O
;	O
if	O
(	O
pos	int
!=	O
NO_MOVE	O
)	O
{	O
if	O
(	O
board	*(char)
[	O
pos	int
]	O
!=	O
EMPTY	int
)	O
printf	(*(char))->(int)
(	O
"\nThere's already a stone there.\n"	*(char)
)	O
;	O
else	O
{	O
add_stone	(int,int)->(void)
(	O
pos	int
,	O
BLACK	int
)	O
;	O
stones	*(int)
[	O
handi	int
++	O
]	O
=	O
pos	int
;	O
}	O
}	O
else	O
printf	(*(char))->(int)
(	O
"\nInvalid command: %s"	*(char)
,	O
line	int
)	O
;	O
}	O
}	O
}	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
handicap	int
=	O
handi	int
;	O
gameinfo	*(struct(int,int,struct(*(struct(*`,*`,*`,*`)),*(struct(*`,*`,*`,*`))),int))
->	O
to_move	int
=	O
(	O
handi	int
?	O
WHITE	int
:	O
BLACK	int
)	O
;	O
}	O
