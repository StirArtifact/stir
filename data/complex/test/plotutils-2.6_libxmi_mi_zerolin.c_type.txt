static	O
void	O
cfbBresD	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),*(int),*(int),*(int),int,*(int),enum(int,int),int,int,int,int,int,int,int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
*	O
pdashNum	*(int)
,	O
int	O
*	O
pdashIndex	*(int)
,	O
const	O
unsigned	O
int	O
*	O
pDash	*(int)
,	O
int	O
numInDashList	int
,	O
int	O
*	O
pdashOffset	*(int)
,	O
bool	enum(int,int)
isDoubleDash	enum(int,int)
,	O
int	O
signdx	int
,	O
int	O
signdy	int
,	O
int	O
axis	int
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
e	int
,	O
int	O
e1	int
,	O
int	O
e2	int
,	O
int	O
len	int
)	O
;	O
static	O
void	O
cfbBresS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int,int,int,int,int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
signdx	int
,	O
int	O
signdy	int
,	O
int	O
axis	int
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
e	int
,	O
int	O
e1	int
,	O
int	O
e2	int
,	O
int	O
len	int
)	O
;	O
static	O
void	O
cfbHorzS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
len	int
)	O
;	O
static	O
void	O
cfbVertS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
len	int
)	O
;	O
void	O
miZeroLine	O
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
miCoordMode	enum(int,int)
mode	enum(int,int)
,	O
int	O
npt	int
,	O
const	O
miPoint	struct(int,int)
*	O
pPts	*(struct(int,int))
)	O
{	O
const	O
miPoint	struct(int,int)
*	O
ppt	*(struct(int,int))
;	O
int	O
xstart	int
,	O
ystart	int
;	O
int	O
x1	int
,	O
x2	int
;	O
int	O
y1	(double)->(double)
,	O
y2	int
;	O
if	O
(	O
npt	int
<=	O
0	int
)	O
return	O
;	O
ppt	*(struct(int,int))
=	O
pPts	*(struct(int,int))
;	O
xstart	int
=	O
ppt	*(struct(int,int))
->	O
x	int
;	O
ystart	int
=	O
ppt	*(struct(int,int))
->	O
y	int
;	O
x2	int
=	O
xstart	int
;	O
y2	int
=	O
ystart	int
;	O
while	O
(	O
--	O
npt	int
)	O
{	O
x1	int
=	O
x2	int
;	O
y1	(double)->(double)
=	O
y2	int
;	O
++	O
ppt	*(struct(int,int))
;	O
x2	int
=	O
ppt	*(struct(int,int))
->	O
x	int
;	O
y2	int
=	O
ppt	*(struct(int,int))
->	O
y	int
;	O
if	O
(	O
mode	enum(int,int)
==	O
MI_COORD_MODE_PREVIOUS	int
)	O
{	O
x2	int
+=	O
x1	int
;	O
y2	int
+=	O
y1	(double)->(double)
;	O
}	O
if	O
(	O
x1	int
==	O
x2	int
)	O
{	O
if	O
(	O
y1	(double)->(double)
>	O
y2	int
)	O
{	O
int	O
tmp	int
;	O
tmp	int
=	O
y2	int
;	O
y2	int
=	O
y1	(double)->(double)
+	O
1	int
;	O
y1	(double)->(double)
=	O
tmp	int
+	O
1	int
;	O
}	O
if	O
(	O
y1	(double)->(double)
!=	O
y2	int
)	O
cfbVertS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int)->(void)
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
,	O
x1	int
,	O
y1	(double)->(double)
,	O
y2	int
-	O
y1	(double)->(double)
)	O
;	O
y2	int
=	O
ppt	*(struct(int,int))
->	O
y	int
;	O
}	O
else	O
if	O
(	O
y1	(double)->(double)
==	O
y2	int
)	O
{	O
if	O
(	O
x1	int
>	O
x2	int
)	O
{	O
int	O
tmp	int
;	O
tmp	int
=	O
x2	int
;	O
x2	int
=	O
x1	int
+	O
1	int
;	O
x1	int
=	O
tmp	int
+	O
1	int
;	O
}	O
if	O
(	O
x1	int
!=	O
x2	int
)	O
cfbHorzS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int)->(void)
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
,	O
x1	int
,	O
y1	(double)->(double)
,	O
x2	int
-	O
x1	int
)	O
;	O
x2	int
=	O
ppt	*(struct(int,int))
->	O
x	int
;	O
}	O
else	O
{	O
int	O
adx	int
;	O
int	O
ady	int
;	O
int	O
signdx	int
;	O
int	O
signdy	int
;	O
int	O
e	int
,	O
e1	int
,	O
e2	int
;	O
int	O
axis	int
;	O
int	O
len	int
;	O
AbsDeltaAndSign	O
(	O
x2	int
,	O
x1	int
,	O
adx	int
,	O
signdx	int
)	O
;	O
AbsDeltaAndSign	O
(	O
y2	int
,	O
y1	(double)->(double)
,	O
ady	int
,	O
signdy	int
)	O
;	O
if	O
(	O
adx	int
>	O
ady	int
)	O
{	O
axis	int
=	O
X_AXIS	int
;	O
e1	int
=	O
ady	int
<<	O
1	int
;	O
e2	int
=	O
e1	int
-	O
(	O
adx	int
<<	O
1	int
)	O
;	O
e	int
=	O
e1	int
-	O
adx	int
;	O
FIXUP_X_MAJOR_ERROR	O
(	O
e	int
,	O
signdx	int
,	O
signdy	int
)	O
;	O
}	O
else	O
{	O
axis	int
=	O
Y_AXIS	int
;	O
e1	int
=	O
adx	int
<<	O
1	int
;	O
e2	int
=	O
e1	int
-	O
(	O
ady	int
<<	O
1	int
)	O
;	O
e	int
=	O
e1	int
-	O
ady	int
;	O
FIXUP_Y_MAJOR_ERROR	O
(	O
e	int
,	O
signdx	int
,	O
signdy	int
)	O
;	O
}	O
if	O
(	O
axis	int
==	O
X_AXIS	int
)	O
len	int
=	O
adx	int
;	O
else	O
len	int
=	O
ady	int
;	O
cfbBresS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int,int,int,int,int,int,int)->(void)
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
,	O
signdx	int
,	O
signdy	int
,	O
axis	int
,	O
x1	int
,	O
y1	(double)->(double)
,	O
e	int
,	O
e1	int
,	O
e2	int
,	O
len	int
)	O
;	O
}	O
}	O
if	O
(	O
pGC	*(struct)
->	O
capStyle	int
!=	O
(	O
int	O
)	O
MI_CAP_NOT_LAST	int
&&	O
(	O
xstart	int
!=	O
x2	int
||	O
ystart	int
!=	O
y2	int
||	O
ppt	*(struct(int,int))
==	O
pPts	*(struct(int,int))
+	O
1	int
)	O
)	O
MI_PAINT_POINT	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
1	int
]	O
,	O
x2	int
,	O
y2	int
)	O
}	O
void	O
miZeroDash	O
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
miCoordMode	enum(int,int)
mode	enum(int,int)
,	O
int	O
npt	int
,	O
const	O
miPoint	struct(int,int)
*	O
pPts	*(struct(int,int))
)	O
{	O
const	O
miPoint	struct(int,int)
*	O
ppt	*(struct(int,int))
;	O
int	O
xstart	int
,	O
ystart	int
;	O
int	O
x1	int
,	O
x2	int
,	O
y1	(double)->(double)
,	O
y2	int
;	O
const	O
unsigned	O
int	O
*	O
pDash	*(int)
;	O
int	O
dashNum	int
,	O
dashIndex	int
;	O
int	O
dashOffset	int
;	O
int	O
numInDashList	int
;	O
bool	enum(int,int)
isDoubleDash	enum(int,int)
;	O
if	O
(	O
npt	int
<=	O
0	int
)	O
return	O
;	O
pDash	*(int)
=	O
pGC	*(struct)
->	O
dash	*(int)
;	O
numInDashList	int
=	O
pGC	*(struct)
->	O
numInDashList	int
;	O
isDoubleDash	enum(int,int)
=	O
(	O
pGC	*(struct)
->	O
lineStyle	int
==	O
(	O
int	O
)	O
MI_LINE_DOUBLE_DASH	int
?	O
true	int
:	O
false	int
)	O
;	O
dashNum	int
=	O
0	int
;	O
dashIndex	int
=	O
0	int
;	O
dashOffset	int
=	O
0	int
;	O
miStepDash	O
(	O
pGC	*(struct)
->	O
dashOffset	int
,	O
&	O
dashNum	int
,	O
&	O
dashIndex	int
,	O
pDash	*(int)
,	O
numInDashList	int
,	O
&	O
dashOffset	int
)	O
;	O
ppt	*(struct(int,int))
=	O
pPts	*(struct(int,int))
;	O
xstart	int
=	O
ppt	*(struct(int,int))
->	O
x	int
;	O
ystart	int
=	O
ppt	*(struct(int,int))
->	O
y	int
;	O
x2	int
=	O
xstart	int
;	O
y2	int
=	O
ystart	int
;	O
while	O
(	O
--	O
npt	int
)	O
{	O
x1	int
=	O
x2	int
;	O
y1	(double)->(double)
=	O
y2	int
;	O
++	O
ppt	*(struct(int,int))
;	O
x2	int
=	O
ppt	*(struct(int,int))
->	O
x	int
;	O
y2	int
=	O
ppt	*(struct(int,int))
->	O
y	int
;	O
if	O
(	O
mode	enum(int,int)
==	O
MI_COORD_MODE_PREVIOUS	int
)	O
{	O
x2	int
+=	O
x1	int
;	O
y2	int
+=	O
y1	(double)->(double)
;	O
}	O
{	O
int	O
adx	int
;	O
int	O
ady	int
;	O
int	O
signdx	int
;	O
int	O
signdy	int
;	O
int	O
e	int
,	O
e1	int
,	O
e2	int
;	O
int	O
axis	int
;	O
int	O
len	int
;	O
AbsDeltaAndSign	O
(	O
x2	int
,	O
x1	int
,	O
adx	int
,	O
signdx	int
)	O
;	O
AbsDeltaAndSign	O
(	O
y2	int
,	O
y1	(double)->(double)
,	O
ady	int
,	O
signdy	int
)	O
;	O
if	O
(	O
adx	int
>	O
ady	int
)	O
{	O
axis	int
=	O
X_AXIS	int
;	O
e1	int
=	O
ady	int
<<	O
1	int
;	O
e2	int
=	O
e1	int
-	O
(	O
adx	int
<<	O
1	int
)	O
;	O
e	int
=	O
e1	int
-	O
adx	int
;	O
len	int
=	O
adx	int
;	O
FIXUP_X_MAJOR_ERROR	O
(	O
e	int
,	O
signdx	int
,	O
signdy	int
)	O
;	O
}	O
else	O
{	O
axis	int
=	O
Y_AXIS	int
;	O
e1	int
=	O
adx	int
<<	O
1	int
;	O
e2	int
=	O
e1	int
-	O
(	O
ady	int
<<	O
1	int
)	O
;	O
e	int
=	O
e1	int
-	O
ady	int
;	O
len	int
=	O
ady	int
;	O
FIXUP_Y_MAJOR_ERROR	O
(	O
e	int
,	O
signdx	int
,	O
signdy	int
)	O
;	O
}	O
cfbBresD	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),*(int),*(int),*(int),int,*(int),enum(int,int),int,int,int,int,int,int,int,int,int)->(void)
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
,	O
&	O
dashNum	int
,	O
&	O
dashIndex	int
,	O
pDash	*(int)
,	O
numInDashList	int
,	O
&	O
dashOffset	int
,	O
isDoubleDash	enum(int,int)
,	O
signdx	int
,	O
signdy	int
,	O
axis	int
,	O
x1	int
,	O
y1	(double)->(double)
,	O
e	int
,	O
e1	int
,	O
e2	int
,	O
len	int
)	O
;	O
}	O
}	O
if	O
(	O
pGC	*(struct)
->	O
capStyle	int
!=	O
(	O
int	O
)	O
MI_CAP_NOT_LAST	int
&&	O
(	O
xstart	int
!=	O
x2	int
||	O
ystart	int
!=	O
y2	int
||	O
ppt	*(struct(int,int))
==	O
pPts	*(struct(int,int))
+	O
1	int
)	O
)	O
{	O
if	O
(	O
dashNum	int
&	O
1	int
)	O
{	O
if	O
(	O
isDoubleDash	enum(int,int)
)	O
MI_PAINT_POINT	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
0	int
]	O
,	O
x2	int
,	O
y2	int
)	O
;	O
}	O
else	O
{	O
int	O
numPixels	int
=	O
pGC	*(struct)
->	O
numPixels	int
;	O
int	O
paintType	int
=	O
1	int
+	O
(	O
(	O
dashNum	int
/	O
2	int
)	O
%	O
(	O
numPixels	int
-	O
1	int
)	O
)	O
;	O
MI_PAINT_POINT	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
paintType	int
]	O
,	O
x2	int
,	O
y2	int
)	O
;	O
}	O
}	O
}	O
static	O
void	O
cfbBresS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int,int,int,int,int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
signdx	int
,	O
int	O
signdy	int
,	O
int	O
axis	int
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
e	int
,	O
int	O
e1	int
,	O
int	O
e2	int
,	O
int	O
len	int
)	O
{	O
miPoint	struct(int,int)
*	O
pptInit	*(struct(int,int))
,	O
*	O
pptLast	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidthInit	*(int)
,	O
*	O
pwidthLast	*(int)
;	O
int	O
x	int
,	O
y	int
;	O
int	O
e3	int
;	O
int	O
numSpans	int
;	O
int	O
ycurr	int
;	O
miPoint	struct(int,int)
*	O
ppt	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidth	*(int)
;	O
bool	enum(int,int)
firstspan	enum(int,int)
;	O
if	O
(	O
len	int
==	O
0	int
)	O
return	O
;	O
pptInit	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
miPoint	struct(int,int)
)	O
)	O
;	O
pwidthInit	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
unsigned	O
int	O
)	O
)	O
;	O
pptLast	*(struct(int,int))
=	O
pptInit	*(struct(int,int))
+	O
(	O
len	int
-	O
1	int
)	O
;	O
pwidthLast	*(int)
=	O
pwidthInit	*(int)
+	O
(	O
len	int
-	O
1	int
)	O
;	O
numSpans	int
=	O
0	int
;	O
ycurr	int
=	O
0	int
;	O
firstspan	enum(int,int)
=	O
true	int
;	O
if	O
(	O
signdy	int
>=	O
0	int
)	O
{	O
ppt	*(struct(int,int))
=	O
pptInit	*(struct(int,int))
;	O
pwidth	*(int)
=	O
pwidthInit	*(int)
;	O
}	O
else	O
{	O
ppt	*(struct(int,int))
=	O
pptLast	*(struct(int,int))
;	O
pwidth	*(int)
=	O
pwidthLast	*(int)
;	O
}	O
e3	int
=	O
e2	int
-	O
e1	int
;	O
e	int
=	O
e	int
-	O
e1	int
;	O
x	int
=	O
x1	int
;	O
y	int
=	O
y1	(double)->(double)
;	O
switch	O
(	O
axis	int
)	O
{	O
case	O
X_AXIS	int
:	O
default	O
:	O
Loop_x	O
(	O
len	int
,	O
MI_ADD_POINT	O
(	O
x	int
,	O
y	int
,	O
ppt	*(struct(int,int))
,	O
pwidth	*(int)
,	O
numSpans	int
,	O
ycurr	int
,	O
firstspan	enum(int,int)
,	O
signdy	int
)	O
)	O
break	O
;	O
case	O
Y_AXIS	int
:	O
Loop_y	O
(	O
len	int
,	O
MI_ADD_POINT	O
(	O
x	int
,	O
y	int
,	O
ppt	*(struct(int,int))
,	O
pwidth	*(int)
,	O
numSpans	int
,	O
ycurr	int
,	O
firstspan	enum(int,int)
,	O
signdy	int
)	O
)	O
break	O
;	O
}	O
if	O
(	O
numSpans	int
>	O
0	int
)	O
{	O
if	O
(	O
signdy	int
<	O
0	int
)	O
{	O
miPoint	struct(int,int)
*	O
ppt_src	*(struct(int,int))
=	O
pptLast	*(struct(int,int))
-	O
(	O
numSpans	int
-	O
1	int
)	O
;	O
miPoint	struct(int,int)
*	O
ppt_dst	*(struct(int,int))
=	O
pptInit	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidth_src	*(int)
=	O
pwidthLast	*(int)
-	O
(	O
numSpans	int
-	O
1	int
)	O
;	O
unsigned	O
int	O
*	O
pwidth_dst	*(int)
=	O
pwidthInit	*(int)
;	O
int	O
count	int
=	O
numSpans	int
;	O
while	O
(	O
count	int
--	O
)	O
{	O
*	O
ppt_dst	*(struct(int,int))
++	O
=	O
*	O
ppt_src	*(struct(int,int))
++	O
;	O
*	O
pwidth_dst	*(int)
++	O
=	O
*	O
pwidth_src	*(int)
++	O
;	O
}	O
}	O
MI_PAINT_SPANS	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
1	int
]	O
,	O
numSpans	int
,	O
pptInit	*(struct(int,int))
,	O
pwidthInit	*(int)
)	O
}	O
}	O
static	O
void	O
cfbBresD	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),*(int),*(int),*(int),int,*(int),enum(int,int),int,int,int,int,int,int,int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
*	O
pdashNum	*(int)
,	O
int	O
*	O
pdashIndex	*(int)
,	O
const	O
unsigned	O
int	O
*	O
pDash	*(int)
,	O
int	O
numInDashList	int
,	O
int	O
*	O
pdashOffset	*(int)
,	O
bool	enum(int,int)
isDoubleDash	enum(int,int)
,	O
int	O
signdx	int
,	O
int	O
signdy	int
,	O
int	O
axis	int
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
e	int
,	O
int	O
e1	int
,	O
int	O
e2	int
,	O
int	O
len	int
)	O
{	O
miPoint	struct(int,int)
*	O
pptInit_fg	*(struct(int,int))
,	O
*	O
pptInit_bg	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
NULL	O
;	O
miPoint	struct(int,int)
*	O
pptLast_fg	*(struct(int,int))
,	O
*	O
pptLast_bg	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
NULL	O
;	O
unsigned	O
int	O
*	O
pwidthInit_fg	*(int)
,	O
*	O
pwidthInit_bg	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
NULL	O
;	O
unsigned	O
int	O
*	O
pwidthLast_fg	*(int)
,	O
*	O
pwidthLast_bg	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
NULL	O
;	O
int	O
x	int
,	O
y	int
;	O
int	O
e3	int
;	O
int	O
dashNum	int
,	O
dashIndex	int
;	O
int	O
dashOffset	int
;	O
int	O
dashRemaining	int
;	O
int	O
thisDash	int
;	O
int	O
numSpans_fg	int
,	O
numSpans_bg	int
=	O
0	int
;	O
int	O
ycurr_fg	int
,	O
ycurr_bg	int
=	O
0	int
;	O
miPoint	struct(int,int)
*	O
ppt_fg	*(struct(int,int))
,	O
*	O
ppt_bg	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
NULL	O
;	O
unsigned	O
int	O
*	O
pwidth_fg	*(int)
,	O
*	O
pwidth_bg	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
NULL	O
;	O
bool	enum(int,int)
firstspan_fg	enum(int,int)
,	O
firstspan_bg	enum(int,int)
=	O
false	int
;	O
pptInit_fg	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
miPoint	struct(int,int)
)	O
)	O
;	O
pwidthInit_fg	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
unsigned	O
int	O
)	O
)	O
;	O
pptLast_fg	*(struct(int,int))
=	O
pptInit_fg	*(struct(int,int))
+	O
(	O
len	int
-	O
1	int
)	O
;	O
pwidthLast_fg	*(int)
=	O
pwidthInit_fg	*(int)
+	O
(	O
len	int
-	O
1	int
)	O
;	O
if	O
(	O
isDoubleDash	enum(int,int)
)	O
{	O
pptInit_bg	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
miPoint	struct(int,int)
)	O
)	O
;	O
pwidthInit_bg	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
unsigned	O
int	O
)	O
)	O
;	O
pptLast_bg	*(struct(int,int))
=	O
pptInit_bg	*(struct(int,int))
+	O
(	O
len	int
-	O
1	int
)	O
;	O
pwidthLast_bg	*(int)
=	O
pwidthInit_bg	*(int)
+	O
(	O
len	int
-	O
1	int
)	O
;	O
}	O
dashNum	int
=	O
*	O
pdashNum	*(int)
;	O
dashIndex	int
=	O
*	O
pdashIndex	*(int)
;	O
dashOffset	int
=	O
*	O
pdashOffset	*(int)
;	O
dashRemaining	int
=	O
(	O
int	O
)	O
(	O
pDash	*(int)
[	O
dashIndex	int
]	O
)	O
-	O
dashOffset	int
;	O
if	O
(	O
len	int
<=	O
(	O
thisDash	int
=	O
dashRemaining	int
)	O
)	O
{	O
thisDash	int
=	O
len	int
;	O
dashRemaining	int
-=	O
len	int
;	O
}	O
e3	int
=	O
e2	int
-	O
e1	int
;	O
e	int
=	O
e	int
-	O
e1	int
;	O
x	int
=	O
x1	int
;	O
y	int
=	O
y1	(double)->(double)
;	O
for	O
(	O
;	O
;	O
)	O
{	O
len	int
-=	O
thisDash	int
;	O
numSpans_fg	int
=	O
0	int
;	O
ycurr_fg	int
=	O
0	int
;	O
firstspan_fg	enum(int,int)
=	O
true	int
;	O
if	O
(	O
signdy	int
>=	O
0	int
)	O
{	O
ppt_fg	*(struct(int,int))
=	O
pptInit_fg	*(struct(int,int))
;	O
pwidth_fg	*(int)
=	O
pwidthInit_fg	*(int)
;	O
}	O
else	O
{	O
ppt_fg	*(struct(int,int))
=	O
pptLast_fg	*(struct(int,int))
;	O
pwidth_fg	*(int)
=	O
pwidthLast_fg	*(int)
;	O
}	O
if	O
(	O
isDoubleDash	enum(int,int)
)	O
{	O
numSpans_bg	int
=	O
0	int
;	O
ycurr_bg	int
=	O
0	int
;	O
firstspan_bg	enum(int,int)
=	O
true	int
;	O
ppt_bg	*(struct(int,int))
=	O
pptInit_bg	*(struct(int,int))
;	O
pwidth_bg	*(int)
=	O
pwidthInit_bg	*(int)
;	O
if	O
(	O
signdy	int
>=	O
0	int
)	O
{	O
ppt_bg	*(struct(int,int))
=	O
pptInit_bg	*(struct(int,int))
;	O
pwidth_bg	*(int)
=	O
pwidthInit_bg	*(int)
;	O
}	O
else	O
{	O
ppt_bg	*(struct(int,int))
=	O
pptLast_bg	*(struct(int,int))
;	O
pwidth_bg	*(int)
=	O
pwidthLast_bg	*(int)
;	O
}	O
}	O
switch	O
(	O
axis	int
)	O
{	O
case	O
X_AXIS	int
:	O
default	O
:	O
if	O
(	O
dashIndex	int
&	O
1	int
)	O
{	O
if	O
(	O
isDoubleDash	enum(int,int)
)	O
{	O
Loop_x	O
(	O
thisDash	int
,	O
MI_ADD_POINT	O
(	O
x	int
,	O
y	int
,	O
ppt_bg	*(struct(int,int))
,	O
pwidth_bg	*(int)
,	O
numSpans_bg	int
,	O
ycurr_bg	int
,	O
firstspan_bg	enum(int,int)
,	O
signdy	int
)	O
)	O
}	O
else	O
Loop_x	O
(	O
thisDash	int
,	O
;	O
)	O
;	O
}	O
else	O
Loop_x	O
(	O
thisDash	int
,	O
MI_ADD_POINT	O
(	O
x	int
,	O
y	int
,	O
ppt_fg	*(struct(int,int))
,	O
pwidth_fg	*(int)
,	O
numSpans_fg	int
,	O
ycurr_fg	int
,	O
firstspan_fg	enum(int,int)
,	O
signdy	int
)	O
)	O
break	O
;	O
case	O
Y_AXIS	int
:	O
if	O
(	O
dashIndex	int
&	O
1	int
)	O
{	O
if	O
(	O
isDoubleDash	enum(int,int)
)	O
{	O
Loop_y	O
(	O
thisDash	int
,	O
MI_ADD_POINT	O
(	O
x	int
,	O
y	int
,	O
ppt_bg	*(struct(int,int))
,	O
pwidth_bg	*(int)
,	O
numSpans_bg	int
,	O
ycurr_bg	int
,	O
firstspan_bg	enum(int,int)
,	O
signdy	int
)	O
)	O
}	O
else	O
Loop_y	O
(	O
thisDash	int
,	O
;	O
)	O
;	O
}	O
else	O
Loop_y	O
(	O
thisDash	int
,	O
MI_ADD_POINT	O
(	O
x	int
,	O
y	int
,	O
ppt_fg	*(struct(int,int))
,	O
pwidth_fg	*(int)
,	O
numSpans_fg	int
,	O
ycurr_fg	int
,	O
firstspan_fg	enum(int,int)
,	O
signdy	int
)	O
)	O
break	O
;	O
}	O
if	O
(	O
numSpans_fg	int
>	O
0	int
)	O
{	O
miPoint	struct(int,int)
*	O
pptStart_fg	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidthStart_fg	*(int)
;	O
if	O
(	O
signdy	int
>=	O
0	int
)	O
{	O
pptStart_fg	*(struct(int,int))
=	O
pptInit_fg	*(struct(int,int))
;	O
pwidthStart_fg	*(int)
=	O
pwidthInit_fg	*(int)
;	O
}	O
else	O
{	O
pptStart_fg	*(struct(int,int))
=	O
pptLast_fg	*(struct(int,int))
-	O
(	O
numSpans_fg	int
-	O
1	int
)	O
;	O
pwidthStart_fg	*(int)
=	O
pwidthLast_fg	*(int)
-	O
(	O
numSpans_fg	int
-	O
1	int
)	O
;	O
}	O
{	O
int	O
numPixels	int
=	O
pGC	*(struct)
->	O
numPixels	int
;	O
int	O
paintType	int
=	O
1	int
+	O
(	O
(	O
dashNum	int
/	O
2	int
)	O
%	O
(	O
numPixels	int
-	O
1	int
)	O
)	O
;	O
MI_COPY_AND_PAINT_SPANS	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
paintType	int
]	O
,	O
numSpans_fg	int
,	O
pptStart_fg	*(struct(int,int))
,	O
pwidthStart_fg	*(int)
)	O
}	O
}	O
if	O
(	O
isDoubleDash	enum(int,int)
&&	O
numSpans_bg	int
>	O
0	int
)	O
{	O
miPoint	struct(int,int)
*	O
pptStart_bg	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidthStart_bg	*(int)
;	O
if	O
(	O
signdy	int
>=	O
0	int
)	O
{	O
pptStart_bg	*(struct(int,int))
=	O
pptInit_bg	*(struct(int,int))
;	O
pwidthStart_bg	*(int)
=	O
pwidthInit_bg	*(int)
;	O
}	O
else	O
{	O
pptStart_bg	*(struct(int,int))
=	O
pptLast_bg	*(struct(int,int))
-	O
(	O
numSpans_bg	int
-	O
1	int
)	O
;	O
pwidthStart_bg	*(int)
=	O
pwidthLast_bg	*(int)
-	O
(	O
numSpans_bg	int
-	O
1	int
)	O
;	O
}	O
MI_COPY_AND_PAINT_SPANS	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
0	int
]	O
,	O
numSpans_bg	int
,	O
pptStart_bg	*(struct(int,int))
,	O
pwidthStart_bg	*(int)
)	O
}	O
if	O
(	O
len	int
==	O
0	int
)	O
break	O
;	O
NextDash	O
}	O
*	O
pdashNum	*(int)
=	O
dashNum	int
;	O
*	O
pdashIndex	*(int)
=	O
dashIndex	int
;	O
*	O
pdashOffset	*(int)
=	O
(	O
int	O
)	O
(	O
pDash	*(int)
[	O
dashIndex	int
]	O
)	O
-	O
dashRemaining	int
;	O
free	(*(void))->(void)
(	O
pwidthInit_fg	*(int)
)	O
;	O
free	(*(void))->(void)
(	O
pptInit_fg	*(struct(int,int))
)	O
;	O
if	O
(	O
isDoubleDash	enum(int,int)
)	O
{	O
free	(*(void))->(void)
(	O
pwidthInit_bg	*(int)
)	O
;	O
free	(*(void))->(void)
(	O
pptInit_bg	*(struct(int,int))
)	O
;	O
}	O
}	O
static	O
void	O
cfbHorzS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
len	int
)	O
{	O
miPoint	struct(int,int)
*	O
ppt	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidth	*(int)
;	O
ppt	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
mi_xmalloc	O
(	O
sizeof	O
(	O
miPoint	struct(int,int)
)	O
)	O
;	O
pwidth	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
mi_xmalloc	O
(	O
sizeof	O
(	O
unsigned	O
int	O
)	O
)	O
;	O
ppt	*(struct(int,int))
->	O
x	int
=	O
x1	int
;	O
ppt	*(struct(int,int))
->	O
y	int
=	O
y1	(double)->(double)
;	O
*	O
pwidth	*(int)
=	O
(	O
unsigned	O
int	O
)	O
len	int
;	O
MI_PAINT_SPANS	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
1	int
]	O
,	O
1	int
,	O
ppt	*(struct(int,int))
,	O
pwidth	*(int)
)	O
}	O
static	O
void	O
cfbVertS	(*(struct(*(*(struct`)),int,int)),*(struct(int,*(int),int,array(int),array(int),array(int),*(int),int,int,int,int,int,int,double,int,int)),int,int,int)->(void)
(	O
miPaintedSet	struct
*	O
paintedSet	*(struct)
,	O
const	O
miGC	struct
*	O
pGC	*(struct)
,	O
int	O
x1	int
,	O
int	O
y1	(double)->(double)
,	O
int	O
len	int
)	O
{	O
miPoint	struct(int,int)
*	O
ppt	*(struct(int,int))
,	O
*	O
pptInit	*(struct(int,int))
;	O
unsigned	O
int	O
*	O
pwidth	*(int)
,	O
*	O
pwidthInit	*(int)
;	O
int	O
i	int
;	O
ppt	*(struct(int,int))
=	O
pptInit	*(struct(int,int))
=	O
(	O
miPoint	struct(int,int)
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
miPoint	struct(int,int)
)	O
)	O
;	O
pwidth	*(int)
=	O
pwidthInit	*(int)
=	O
(	O
unsigned	O
int	O
*	O
)	O
mi_xmalloc	O
(	O
len	int
*	O
sizeof	O
(	O
unsigned	O
int	O
)	O
)	O
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
len	int
;	O
i	int
++	O
)	O
{	O
ppt	*(struct(int,int))
->	O
x	int
=	O
x1	int
;	O
ppt	*(struct(int,int))
->	O
y	int
=	O
y1	(double)->(double)
+	O
i	int
;	O
ppt	*(struct(int,int))
++	O
;	O
*	O
pwidth	*(int)
++	O
=	O
(	O
unsigned	O
int	O
)	O
1	int
;	O
}	O
MI_PAINT_SPANS	O
(	O
paintedSet	*(struct)
,	O
pGC	*(struct)
->	O
pixels	*(int)
[	O
1	int
]	O
,	O
len	int
,	O
pptInit	*(struct(int,int))
,	O
pwidthInit	*(int)
)	O
}	O
