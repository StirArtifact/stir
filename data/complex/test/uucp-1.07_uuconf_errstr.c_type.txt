const	O
char	O
_uuconf_errstr_rcsid	array(char)
[	O
]	O
=	O
"$Id: errstr.c,v 1.6 2002/03/05 19:10:42 ian Rel $"	*(char)
;	O
static	O
char	O
*	O
zeprint_num	(*(char),long,int)->(*(char))
P	O
(	O
(	O
char	O
*	O
zbuf	*(char)
,	O
size_t	long
cbuf	long
,	O
int	O
ival	long
)	O
)	O
;	O
int	O
uuconf_error_string	(*(void),int,*(char),long)->(int)
(	O
pglobal	*(void)
,	O
ierr	int
,	O
zbuf	*(char)
,	O
cbuf	long
)	O
pointer	*(void)
pglobal	*(void)
;	O
int	O
ierr	int
;	O
char	O
*	O
zbuf	*(char)
;	O
size_t	long
cbuf	long
;	O
{	O
struct	O
sglobal	struct(*(struct),*(void),int,*(char),int)
*	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
=	O
(	O
struct	O
sglobal	struct(*(struct),*(void),int,*(char),int)
*	O
)	O
pglobal	*(void)
;	O
const	O
char	O
*	O
zfile	*(char)
;	O
size_t	long
cfile	long
;	O
const	O
char	O
*	O
zlineno	*(char)
;	O
char	O
ablineno	array(char)
[	O
100	int
]	O
;	O
size_t	long
clineno	long
;	O
const	O
char	O
*	O
zmsg	*(char)
;	O
char	O
abmsg	array(char)
[	O
100	int
]	O
;	O
size_t	long
cmsg	long
;	O
const	O
char	O
*	O
zerrno	*(char)
;	O
size_t	long
cerrno	long
;	O
size_t	long
cret	long
;	O
size_t	long
ccopy	long
;	O
if	O
(	O
(	O
ierr	int
&	O
UUCONF_ERROR_FILENAME	O
)	O
==	O
0	int
||	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
==	O
NULL	O
||	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
->	O
zfilename	*(char)
==	O
NULL	O
)	O
{	O
zfile	*(char)
=	O
""	*(char)
;	O
cfile	long
=	O
0	int
;	O
}	O
else	O
{	O
zfile	*(char)
=	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
->	O
zfilename	*(char)
;	O
cfile	long
=	O
strlen	(*(char))->(long)
(	O
zfile	*(char)
)	O
+	O
1	int
;	O
}	O
if	O
(	O
cfile	long
==	O
0	int
||	O
(	O
ierr	int
&	O
UUCONF_ERROR_LINENO	O
)	O
==	O
0	int
||	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
==	O
NULL	O
||	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
->	O
ilineno	int
<=	O
0	int
)	O
{	O
zlineno	*(char)
=	O
""	*(char)
;	O
clineno	long
=	O
0	int
;	O
}	O
else	O
{	O
zlineno	*(char)
=	O
zeprint_num	(*(char),long,int)->(*(char))
(	O
ablineno	array(char)
,	O
sizeof	O
ablineno	array(char)
,	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
->	O
ilineno	int
)	O
;	O
clineno	long
=	O
strlen	(*(char))->(long)
(	O
zlineno	*(char)
)	O
+	O
1	int
;	O
}	O
switch	O
(	O
UUCONF_ERROR_VALUE	O
(	O
ierr	int
)	O
)	O
{	O
case	O
UUCONF_SUCCESS	O
:	O
zmsg	*(char)
=	O
"no error"	*(char)
;	O
break	O
;	O
case	O
UUCONF_NOT_FOUND	O
:	O
zmsg	*(char)
=	O
"not found"	*(char)
;	O
break	O
;	O
case	O
UUCONF_FOPEN_FAILED	O
:	O
zmsg	*(char)
=	O
"fopen"	*(char)
;	O
break	O
;	O
case	O
UUCONF_FSEEK_FAILED	O
:	O
zmsg	*(char)
=	O
"fseek"	*(char)
;	O
break	O
;	O
case	O
UUCONF_MALLOC_FAILED	O
:	O
zmsg	*(char)
=	O
"malloc"	*(char)
;	O
break	O
;	O
case	O
UUCONF_SYNTAX_ERROR	O
:	O
zmsg	*(char)
=	O
"syntax error"	*(char)
;	O
break	O
;	O
default	O
:	O
zmsg	*(char)
=	O
zeprint_num	(*(char),long,int)->(*(char))
(	O
abmsg	array(char)
,	O
sizeof	O
abmsg	array(char)
,	O
UUCONF_ERROR_VALUE	O
(	O
ierr	int
)	O
)	O
;	O
zmsg	*(char)
-=	O
sizeof	O
"error "	*(char)
-	O
1	int
;	O
memcpy	(*(void),*(void),long)->(*(void))
(	O
(	O
pointer	*(void)
)	O
zmsg	*(char)
,	O
(	O
pointer	*(void)
)	O
"error "	*(char)
,	O
sizeof	O
"error "	*(char)
-	O
1	int
)	O
;	O
break	O
;	O
}	O
cmsg	long
=	O
strlen	(*(char))->(long)
(	O
zmsg	*(char)
)	O
;	O
if	O
(	O
cfile	long
>	O
0	int
)	O
++	O
cmsg	long
;	O
if	O
(	O
(	O
ierr	int
&	O
UUCONF_ERROR_ERRNO	O
)	O
==	O
0	int
||	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
==	O
NULL	O
)	O
{	O
zerrno	*(char)
=	O
""	*(char)
;	O
cerrno	long
=	O
0	int
;	O
}	O
else	O
{	O
zerrno	*(char)
=	O
strerror	(int)->(*(char))
(	O
qglobal	*(struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),int,int,int,*(char),int,int,*(*`),*(*`),*(char),*(*`),*(*`),*(*`),*(*`),*(*`),*(struct`),int,*(struct`),*(struct`),int,*(char),*(char),*(char),*(char),*(*`),*(*`),*(*`),int,*(struct`))),*(void),int,*(char),int))
->	O
ierrno	int
)	O
;	O
cerrno	long
=	O
strlen	(*(char))->(long)
(	O
zerrno	*(char)
)	O
+	O
2	int
;	O
}	O
cret	long
=	O
cfile	long
+	O
clineno	long
+	O
cmsg	long
+	O
cerrno	long
+	O
1	int
;	O
if	O
(	O
cbuf	long
==	O
0	int
)	O
return	O
cret	long
;	O
--	O
cbuf	long
;	O
if	O
(	O
cfile	long
>	O
0	int
)	O
{	O
ccopy	long
=	O
cfile	long
-	O
1	int
;	O
if	O
(	O
ccopy	long
>	O
cbuf	long
)	O
ccopy	long
=	O
cbuf	long
;	O
memcpy	(*(void),*(void),long)->(*(void))
(	O
(	O
pointer	*(void)
)	O
zbuf	*(char)
,	O
(	O
pointer	*(void)
)	O
zfile	*(char)
,	O
ccopy	long
)	O
;	O
zbuf	*(char)
+=	O
ccopy	long
;	O
cbuf	long
-=	O
ccopy	long
;	O
if	O
(	O
cbuf	long
>	O
0	int
)	O
{	O
*	O
zbuf	*(char)
++	O
=	O
':'	O
;	O
--	O
cbuf	long
;	O
}	O
}	O
if	O
(	O
clineno	long
>	O
0	int
)	O
{	O
ccopy	long
=	O
clineno	long
-	O
1	int
;	O
if	O
(	O
ccopy	long
>	O
cbuf	long
)	O
ccopy	long
=	O
cbuf	long
;	O
memcpy	(*(void),*(void),long)->(*(void))
(	O
(	O
pointer	*(void)
)	O
zbuf	*(char)
,	O
(	O
pointer	*(void)
)	O
zlineno	*(char)
,	O
ccopy	long
)	O
;	O
zbuf	*(char)
+=	O
ccopy	long
;	O
cbuf	long
-=	O
ccopy	long
;	O
if	O
(	O
cbuf	long
>	O
0	int
)	O
{	O
*	O
zbuf	*(char)
++	O
=	O
':'	O
;	O
--	O
cbuf	long
;	O
}	O
}	O
if	O
(	O
cbuf	long
>	O
0	int
&&	O
cfile	long
>	O
0	int
)	O
{	O
*	O
zbuf	*(char)
++	O
=	O
' '	O
;	O
--	O
cbuf	long
;	O
--	O
cmsg	long
;	O
}	O
ccopy	long
=	O
cmsg	long
;	O
if	O
(	O
ccopy	long
>	O
cbuf	long
)	O
ccopy	long
=	O
cbuf	long
;	O
memcpy	(*(void),*(void),long)->(*(void))
(	O
(	O
pointer	*(void)
)	O
zbuf	*(char)
,	O
(	O
pointer	*(void)
)	O
zmsg	*(char)
,	O
ccopy	long
)	O
;	O
zbuf	*(char)
+=	O
ccopy	long
;	O
cbuf	long
-=	O
ccopy	long
;	O
if	O
(	O
cerrno	long
>	O
0	int
)	O
{	O
if	O
(	O
cbuf	long
>	O
0	int
)	O
{	O
*	O
zbuf	*(char)
++	O
=	O
':'	O
;	O
--	O
cbuf	long
;	O
}	O
if	O
(	O
cbuf	long
>	O
0	int
)	O
{	O
*	O
zbuf	*(char)
++	O
=	O
' '	O
;	O
--	O
cbuf	long
;	O
}	O
ccopy	long
=	O
cerrno	long
-	O
2	int
;	O
if	O
(	O
ccopy	long
>	O
cbuf	long
)	O
ccopy	long
=	O
cbuf	long
;	O
memcpy	(*(void),*(void),long)->(*(void))
(	O
(	O
pointer	*(void)
)	O
zbuf	*(char)
,	O
(	O
pointer	*(void)
)	O
zerrno	*(char)
,	O
ccopy	long
)	O
;	O
zbuf	*(char)
+=	O
ccopy	long
;	O
cbuf	long
-=	O
ccopy	long
;	O
}	O
*	O
zbuf	*(char)
=	O
'\0'	O
;	O
return	O
cret	long
;	O
}	O
static	O
char	O
*	O
zeprint_num	(*(char),long,int)->(*(char))
(	O
ab	*(char)
,	O
c	long
,	O
i	int
)	O
char	O
*	O
ab	*(char)
;	O
size_t	long
c	long
;	O
register	O
int	O
i	int
;	O
{	O
register	O
char	O
*	O
z	*(char)
;	O
z	*(char)
=	O
ab	*(char)
+	O
c	long
;	O
*	O
--	O
z	*(char)
=	O
'\0'	O
;	O
do	O
{	O
*	O
--	O
z	*(char)
=	O
i	int
%	O
10	int
+	O
'0'	O
;	O
i	int
/=	O
10	int
;	O
}	O
while	O
(	O
i	int
!=	O
0	int
)	O
;	O
return	O
z	*(char)
;	O
}	O
