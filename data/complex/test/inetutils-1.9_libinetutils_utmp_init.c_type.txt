void	O
utmp_init	(*(char),*(char),*(char))->(void)
(	O
char	O
*	O
line	*(char)
,	O
char	O
*	O
user	*(char)
,	O
char	O
*	O
id	*(char)
)	O
{	O
struct	O
utmpx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
;	O
struct	O
timeval	struct(long,long)
tv	struct(long,long)
;	O
memset	(*(void),int,long)->(*(void))
(	O
(	O
char	O
*	O
)	O
&	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
,	O
0	int
,	O
sizeof	O
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
)	O
)	O
;	O
strncpy	(*(char),*(char),long)->(*(char))
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_id	array(char)
,	O
id	*(char)
,	O
sizeof	O
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_id	array(char)
)	O
)	O
;	O
strncpy	(*(char),*(char),long)->(*(char))
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_user	array(char)
,	O
user	*(char)
,	O
sizeof	O
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_user	array(char)
)	O
)	O
;	O
strncpy	(*(char),*(char),long)->(*(char))
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_host	array(char)
,	O
user	*(char)
,	O
sizeof	O
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_host	array(char)
)	O
)	O
;	O
strncpy	(*(char),*(char),long)->(*(char))
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_line	array(char)
,	O
line	*(char)
,	O
sizeof	O
(	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_line	array(char)
)	O
)	O
;	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_pid	int
=	O
getpid	()->(int)
(	O
)	O
;	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_type	short
=	O
LOGIN_PROCESS	int
;	O
gettimeofday	(*(struct(long,long)),*(void))->(int)
(	O
&	O
tv	struct(long,long)
,	O
0	int
)	O
;	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_tv	struct(int,int)
.	O
tv_sec	long
=	O
tv	struct(long,long)
.	O
tv_sec	long
;	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
.	O
ut_tv	struct(int,int)
.	O
tv_usec	long
=	O
tv	struct(long,long)
.	O
tv_usec	long
;	O
pututxline	(*(struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))))->(*(struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))))
(	O
&	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
)	O
;	O
updwtmpx	(*(char),*(struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))))->(void)
(	O
PATH_WTMPX	O
,	O
&	O
utx	struct(short,int,array(char),array(char),array(char),array(char),struct(short,short),int,struct(int,int),array(int),array(char))
)	O
;	O
endutxent	()->(void)
(	O
)	O
;	O
}	O
char	O
*	O
utmp_ptsid	(*(char),*(char))->(*(char))
(	O
char	O
*	O
line	*(char)
,	O
char	O
*	O
tag	*(char)
)	O
{	O
static	O
char	O
buf	array(char)
[	O
5	int
]	O
;	O
strncpy	(*(char),*(char),long)->(*(char))
(	O
buf	array(char)
,	O
tag	*(char)
,	O
2	int
)	O
;	O
strncpy	(*(char),*(char),long)->(*(char))
(	O
buf	array(char)
+	O
2	int
,	O
line	*(char)
+	O
strlen	(*(char))->(long)
(	O
line	*(char)
)	O
-	O
2	int
,	O
2	int
)	O
;	O
return	O
(	O
buf	array(char)
)	O
;	O
}	O
