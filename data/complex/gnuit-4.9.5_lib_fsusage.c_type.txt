int	O
get_fs_usage	(*(char),*(char),*(struct(long,long,long,long,bool,long,long)))->(int)
(	O
char	O
const	O
*	O
file	*(char)
,	O
char	O
const	O
*	O
disk	*(char)
,	O
struct	O
fs_usage	struct(long,long,long,long,bool,long,long)
*	O
fsp	*(struct(long,long,long,long,bool,long,long))
)	O
{	O
(	O
void	O
)	O
disk	*(char)
;	O
struct	O
statvfs	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
;	O
if	O
(	O
statvfs	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
(	O
file	*(char)
,	O
&	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
)	O
<	O
0	int
)	O
return	O
-	O
1	int
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_blocksize	long
=	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_frsize	long
?	O
PROPAGATE_ALL_ONES	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_frsize	long
)	O
:	O
PROPAGATE_ALL_ONES	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_bsize	long
)	O
)	O
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_blocks	long
=	O
PROPAGATE_ALL_ONES	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_blocks	long
)	O
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_bfree	long
=	O
PROPAGATE_ALL_ONES	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_bfree	long
)	O
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_bavail	long
=	O
PROPAGATE_TOP_BIT	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_bavail	long
)	O
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_bavail_top_bit_set	bool
=	O
EXTRACT_TOP_BIT	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_bavail	long
)	O
!=	O
0	int
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_files	long
=	O
PROPAGATE_ALL_ONES	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_files	long
)	O
;	O
fsp	*(struct(long,long,long,long,bool,long,long))
->	O
fsu_ffree	long
=	O
PROPAGATE_ALL_ONES	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_ffree	long
)	O
;	O
return	O
0	int
;	O
}	O
