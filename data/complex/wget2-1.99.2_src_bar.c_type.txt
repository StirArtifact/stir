enum	O
{	O
_BAR_THREAD_SLEEP_DURATION	int
=	O
125	int
}	O
;	O
static	O
wget_bar	struct
*	O
bar	*(struct)
;	O
static	O
wget_thread	*(struct)
progress_thread	*(struct)
;	O
static	O
bool	bool
_terminate_thread	bool
;	O
static	O
void	O
*	O
_bar_update_thread	(*(void))->(*(void))
(	O
void	O
*	O
p	*(char)
WGET_GCC_UNUSED	O
)	O
{	O
while	O
(	O
!	O
_terminate_thread	bool
)	O
{	O
wget_bar_update	(*(struct))->(void)
(	O
bar	*(struct)
)	O
;	O
wget_millisleep	(int)->(void)
(	O
_BAR_THREAD_SLEEP_DURATION	int
)	O
;	O
}	O
return	O
NULL	O
;	O
}	O
static	O
void	O
_error_write	(*(char),long)->(void)
(	O
const	O
char	O
*	O
buf	*(char)
,	O
size_t	long
len	long
)	O
{	O
wget_bar_write_line	(*(struct),*(char),long)->(void)
(	O
bar	*(struct)
,	O
buf	*(char)
,	O
len	long
)	O
;	O
}	O
bool	bool
bar_init	()->(bool)
(	O
void	O
)	O
{	O
if	O
(	O
wget_thread_support	()->(bool)
(	O
)	O
)	O
{	O
if	O
(	O
!	O
(	O
bar	*(struct)
=	O
wget_bar_init	(*(struct),int)->(*(struct))
(	O
NULL	O
,	O
1	int
)	O
)	O
)	O
goto	O
nobar	O
;	O
wget_bar_set_speed_type	(enum(int,int))->(void)
(	O
config	struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),long,long,short,enum(int,int),bool,bool,bool,bool,bool,bool,bool)),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),array(enum(int,int,int,int,int,int,int,int,int,int)),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(char),*(char),long,long long,long long,long long,bool,bool,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,short,short,enum(int,int),char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char)
.	O
report_speed	enum(int,int)
)	O
;	O
wget_logger_set_func	(*(struct),*((*(char),long)->(void)))->(void)
(	O
wget_get_logger	(int)->(*(struct))
(	O
WGET_LOGGER_ERROR	int
)	O
,	O
_error_write	(*(char),long)->(void)
)	O
;	O
_terminate_thread	bool
=	O
0	int
;	O
if	O
(	O
wget_thread_start	(*(*(struct)),*((*(void))->(*(void))),*(void),int)->(int)
(	O
&	O
progress_thread	*(struct)
,	O
_bar_update_thread	(*(void))->(*(void))
,	O
NULL	O
,	O
0	int
)	O
)	O
{	O
wget_bar_free	(*(*(struct)))->(void)
(	O
&	O
bar	*(struct)
)	O
;	O
goto	O
nobar	O
;	O
}	O
return	O
true	int
;	O
}	O
nobar	O
:	O
wget_error_printf	(*(char))->(void)
(	O
_	O
(	O
"Cannot create progress bar thread. Disabling progress bar.\n"	*(char)
)	O
)	O
;	O
config	struct(*(struct(*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),long,long,short,enum(int,int),bool,bool,bool,bool,bool,bool,bool)),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),array(enum(int,int,int,int,int,int,int,int,int,int)),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(struct(*(char),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),enum(int,int))),*(char),*(char),long,long long,long long,long long,bool,bool,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,int,short,short,enum(int,int),char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char,char)
.	O
progress	char
=	O
0	int
;	O
return	O
false	int
;	O
}	O
void	O
bar_deinit	()->(void)
(	O
void	O
)	O
{	O
_terminate_thread	bool
=	O
1	int
;	O
wget_thread_join	(*(*(struct)))->(int)
(	O
&	O
progress_thread	*(struct)
)	O
;	O
wget_bar_free	(*(*(struct)))->(void)
(	O
&	O
bar	*(struct)
)	O
;	O
}	O
void	O
bar_print	(int,*(char))->(void)
(	O
int	O
slot	int
,	O
const	O
char	O
*	O
s	*(char)
)	O
{	O
wget_bar_print	(*(struct),int,*(char))->(void)
(	O
bar	*(struct)
,	O
slot	int
,	O
s	*(char)
)	O
;	O
}	O
void	O
bar_vprintf	(int,*(char),array(struct(int,int,*(void),*(void))))->(void)
(	O
int	O
slot	int
,	O
const	O
char	O
*	O
fmt	*(char)
,	O
va_list	array(struct(int,int,*(void),*(void)))
args	array(struct(int,int,*(void),*(void)))
)	O
{	O
wget_bar_vprintf	(*(struct),int,*(char),array(struct(int,int,*(void),*(void))))->(void)
(	O
bar	*(struct)
,	O
slot	int
,	O
fmt	*(char)
,	O
args	array(struct(int,int,*(void),*(void)))
)	O
;	O
}	O
void	O
bar_printf	(int,*(char))->(void)
(	O
int	O
slot	int
,	O
const	O
char	O
*	O
fmt	*(char)
,	O
...	O
)	O
{	O
va_list	array(struct(int,int,*(void),*(void)))
args	array(struct(int,int,*(void),*(void)))
;	O
va_start	O
(	O
args	array(struct(int,int,*(void),*(void)))
,	O
fmt	*(char)
)	O
;	O
bar_vprintf	(int,*(char),array(struct(int,int,*(void),*(void))))->(void)
(	O
slot	int
,	O
fmt	*(char)
,	O
args	array(struct(int,int,*(void),*(void)))
)	O
;	O
va_end	O
(	O
args	array(struct(int,int,*(void),*(void)))
)	O
;	O
}	O
void	O
bar_slot_begin	(int,*(char),int,long)->(void)
(	O
int	O
slot	int
,	O
const	O
char	O
*	O
filename	*(*(char))
,	O
int	O
new_file	int
,	O
ssize_t	long
filesize	long
)	O
{	O
wget_bar_slot_begin	(*(struct),int,*(char),int,long)->(void)
(	O
bar	*(struct)
,	O
slot	int
,	O
filename	*(*(char))
,	O
new_file	int
,	O
filesize	long
)	O
;	O
}	O
void	O
bar_set_downloaded	(int,long)->(void)
(	O
int	O
slot	int
,	O
size_t	long
nbytes	long
)	O
{	O
wget_bar_slot_downloaded	(*(struct),int,long)->(void)
(	O
bar	*(struct)
,	O
slot	int
,	O
nbytes	long
)	O
;	O
}	O
void	O
bar_slot_deregister	(int)->(void)
(	O
int	O
slot	int
)	O
{	O
wget_bar_slot_deregister	(*(struct),int)->(void)
(	O
bar	*(struct)
,	O
slot	int
)	O
;	O
}	O
void	O
bar_update_slots	(int)->(void)
(	O
int	O
nslots	int
)	O
{	O
wget_bar_set_slots	(*(struct),int)->(void)
(	O
bar	*(struct)
,	O
nslots	int
)	O
;	O
}	O
