int	O
statfs	()->(int)
(	O
)	O
;	O
int	O
statvfs	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
(	O
)	O
;	O
static	O
long	O
adjust_blocks	(long,int,int)->(long)
P	O
(	O
(	O
long	O
blocks	long
,	O
int	O
fromsize	int
,	O
int	O
tosize	int
)	O
)	O
;	O
static	O
long	O
adjust_blocks	(long,int,int)->(long)
(	O
blocks	long
,	O
fromsize	int
,	O
tosize	int
)	O
long	O
blocks	long
;	O
int	O
fromsize	int
,	O
tosize	int
;	O
{	O
if	O
(	O
tosize	int
<=	O
0	int
)	O
abort	()->(void)
(	O
)	O
;	O
if	O
(	O
fromsize	int
<=	O
0	int
)	O
return	O
-	O
1	int
;	O
if	O
(	O
fromsize	int
==	O
tosize	int
)	O
return	O
blocks	long
;	O
else	O
if	O
(	O
fromsize	int
>	O
tosize	int
)	O
return	O
blocks	long
*	O
(	O
fromsize	int
/	O
tosize	int
)	O
;	O
else	O
return	O
(	O
blocks	long
+	O
(	O
blocks	long
<	O
0	int
?	O
-	O
1	int
:	O
1	int
)	O
)	O
/	O
(	O
tosize	int
/	O
fromsize	int
)	O
;	O
}	O
int	O
get_fs_usage	(*(char),*(char),*(struct(long,long,long,long,long)))->(int)
(	O
path	*(char)
,	O
disk	*(char)
,	O
fsp	*(struct(long,long,long,long,long))
)	O
char	O
*	O
path	*(char)
,	O
*	O
disk	*(char)
ATTRIBUTE_UNUSED	O
;	O
struct	O
fs_usage	struct(long,long,long,long,long)
*	O
fsp	*(struct(long,long,long,long,long))
;	O
{	O
struct	O
statvfs	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
;	O
if	O
(	O
statvfs	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
(	O
path	*(char)
,	O
&	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
)	O
<	O
0	int
)	O
return	O
-	O
1	int
;	O
fsp	*(struct(long,long,long,long,long))
->	O
fsu_blocks	long
=	O
CONVERT_BLOCKS	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_blocks	long
)	O
;	O
fsp	*(struct(long,long,long,long,long))
->	O
fsu_bfree	long
=	O
CONVERT_BLOCKS	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_bfree	long
)	O
;	O
fsp	*(struct(long,long,long,long,long))
->	O
fsu_bavail	long
=	O
CONVERT_BLOCKS	O
(	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_bavail	long
)	O
;	O
fsp	*(struct(long,long,long,long,long))
->	O
fsu_files	long
=	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_files	long
;	O
fsp	*(struct(long,long,long,long,long))
->	O
fsu_ffree	long
=	O
fsd	struct(long,long,long,long,long,long,long,long,long,long,long,array(int))
.	O
f_ffree	long
;	O
return	O
0	int
;	O
}	O
