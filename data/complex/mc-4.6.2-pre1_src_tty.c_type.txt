static	O
volatile	O
sig_atomic_t	int
got_interrupt	int
=	O
0	int
;	O
static	O
void	O
sigintr_handler	(int)->(void)
(	O
int	O
signo	int
)	O
{	O
(	O
void	O
)	O
&	O
signo	int
;	O
got_interrupt	int
=	O
1	int
;	O
}	O
extern	O
void	O
tty_enable_interrupt_key	()->(void)
(	O
void	O
)	O
{	O
struct	O
sigaction	struct(union(*((int)->(void)),*((int,*(struct(int,int,int,int,union`)),*(void))->(void))),struct(array(long)),int,*(()->(void)))
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
;	O
got_interrupt	int
=	O
0	int
;	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
.	O
sa_handler	*((int)->(void))
=	O
sigintr_handler	(int)->(void)
;	O
sigemptyset	(*(struct(array(long))))->(int)
(	O
&	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
.	O
sa_mask	struct(array(long))
)	O
;	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
.	O
sa_flags	int
=	O
0	int
;	O
sigaction	struct(union(*((int)->(void)),*((int,*(struct(int,int,int,int,union`)),*(void))->(void))),struct(array(long)),int,*(()->(void)))
(	O
SIGINT	int
,	O
&	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
,	O
NULL	O
)	O
;	O
}	O
extern	O
void	O
tty_disable_interrupt_key	()->(void)
(	O
void	O
)	O
{	O
struct	O
sigaction	struct(union(*((int)->(void)),*((int,*(struct(int,int,int,int,union`)),*(void))->(void))),struct(array(long)),int,*(()->(void)))
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
;	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
.	O
sa_handler	*((int)->(void))
=	O
SIG_IGN	O
;	O
sigemptyset	(*(struct(array(long))))->(int)
(	O
&	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
.	O
sa_mask	struct(array(long))
)	O
;	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
.	O
sa_flags	int
=	O
0	int
;	O
sigaction	struct(union(*((int)->(void)),*((int,*(struct(int,int,int,int,union`)),*(void))->(void))),struct(array(long)),int,*(()->(void)))
(	O
SIGINT	int
,	O
&	O
act	struct(union(*((int)->(void)),*((int,*(struct`),*(void))->(void))),struct(array(long)),int,*(()->(void)))
,	O
NULL	O
)	O
;	O
}	O
extern	O
gboolean	int
tty_got_interrupt	()->(int)
(	O
void	O
)	O
{	O
gboolean	int
rv	int
;	O
rv	int
=	O
(	O
got_interrupt	int
!=	O
0	int
)	O
;	O
got_interrupt	int
=	O
0	int
;	O
return	O
rv	int
;	O
}	O
extern	O
void	O
tty_gotoyx	(int,int)->(void)
(	O
int	O
y	short
,	O
int	O
x	array(long)
)	O
{	O
SLsmg_gotorc	(int,int)->(void)
(	O
y	short
,	O
x	array(long)
)	O
;	O
}	O
extern	O
void	O
tty_getyx	(*(int),*(int))->(void)
(	O
int	O
*	O
py	*(int)
,	O
int	O
*	O
px	*(int)
)	O
{	O
*	O
px	*(int)
=	O
SLsmg_get_column	()->(int)
(	O
)	O
;	O
*	O
py	*(int)
=	O
SLsmg_get_row	()->(int)
(	O
)	O
;	O
}	O
extern	O
void	O
tty_setcolor	(int)->(void)
(	O
int	O
c	int
)	O
{	O
attrset	(int)->(void)
(	O
c	int
)	O
;	O
}	O
extern	O
void	O
tty_print_char	(int)->(void)
(	O
int	O
c	int
)	O
{	O
char	O
ch	int
;	O
ch	int
=	O
c	int
;	O
SLsmg_write_nchars	(*(char),int)->(void)
(	O
&	O
ch	int
,	O
1	int
)	O
;	O
}	O
extern	O
void	O
tty_print_alt_char	(int)->(void)
(	O
int	O
c	int
)	O
{	O
SLsmg_draw_object	(int,int,int)->(void)
(	O
SLsmg_get_row	()->(int)
(	O
)	O
,	O
SLsmg_get_column	()->(int)
(	O
)	O
,	O
c	int
)	O
;	O
}	O
extern	O
void	O
tty_print_string	(*(char))->(void)
(	O
const	O
char	O
*	O
s	*(char)
)	O
{	O
SLsmg_write_string	(*(char))->(void)
(	O
str_unconst	(*(char))->(*(char))
(	O
s	*(char)
)	O
)	O
;	O
}	O
extern	O
void	O
tty_print_one_hline	()->(void)
(	O
void	O
)	O
{	O
if	O
(	O
slow_terminal	int
)	O
tty_print_char	(int)->(void)
(	O
' '	O
)	O
;	O
else	O
tty_print_alt_char	(int)->(void)
(	O
ACS_HLINE	O
)	O
;	O
}	O
extern	O
void	O
tty_print_one_vline	()->(void)
(	O
void	O
)	O
{	O
if	O
(	O
slow_terminal	int
)	O
tty_print_char	(int)->(void)
(	O
' '	O
)	O
;	O
else	O
tty_print_alt_char	(int)->(void)
(	O
ACS_VLINE	O
)	O
;	O
}	O
extern	O
void	O
tty_print_hline	(int,int,int)->(void)
(	O
int	O
top	*(char)
,	O
int	O
left	int
,	O
int	O
length	int
)	O
{	O
int	O
i	array(int)
;	O
tty_gotoyx	(int,int)->(void)
(	O
top	*(char)
,	O
left	int
)	O
;	O
for	O
(	O
i	array(int)
=	O
0	int
;	O
i	array(int)
<	O
length	int
;	O
i	array(int)
++	O
)	O
tty_print_one_hline	()->(void)
(	O
)	O
;	O
}	O
extern	O
void	O
tty_print_vline	(int,int,int)->(void)
(	O
int	O
top	*(char)
,	O
int	O
left	int
,	O
int	O
length	int
)	O
{	O
int	O
i	array(int)
;	O
tty_gotoyx	(int,int)->(void)
(	O
top	*(char)
,	O
left	int
)	O
;	O
for	O
(	O
i	array(int)
=	O
0	int
;	O
i	array(int)
<	O
length	int
;	O
i	array(int)
++	O
)	O
{	O
tty_gotoyx	(int,int)->(void)
(	O
top	*(char)
+	O
i	array(int)
,	O
left	int
)	O
;	O
tty_print_one_vline	()->(void)
(	O
)	O
;	O
}	O
}	O
extern	O
void	O
tty_printf	(*(char))->(void)
(	O
const	O
char	O
*	O
fmt	*(char)
,	O
...	O
)	O
{	O
va_list	array(struct(int,int,*(void),*(void)))
args	array(struct(int,int,*(void),*(void)))
;	O
va_start	O
(	O
args	array(struct(int,int,*(void),*(void)))
,	O
fmt	*(char)
)	O
;	O
SLsmg_vprintf	(*(char),array(struct(int,int,*(void),*(void))))->(void)
(	O
str_unconst	(*(char))->(*(char))
(	O
fmt	*(char)
)	O
,	O
args	array(struct(int,int,*(void),*(void)))
)	O
;	O
va_end	O
(	O
args	array(struct(int,int,*(void),*(void)))
)	O
;	O
}	O
extern	O
char	O
*	O
tty_tgetstr	(*(char))->(*(char))
(	O
const	O
char	O
*	O
cap	*(char)
)	O
{	O
return	O
SLtt_tgetstr	(*(char))->(*(char))
(	O
str_unconst	(*(char))->(*(char))
(	O
cap	*(char)
)	O
)	O
;	O
}	O
