error_t	O
netfs_S_dir_mkdir	(*(struct(struct,*(struct),*(struct(int,int,int,int,*`,int,int,*`,*`)),int,*(struct))),*(char),int)->(int)
(	O
struct	O
protid	struct(struct,*(struct),*(struct),int,*(struct))
*	O
user	*(struct)
,	O
char	O
*	O
name	*(char)
,	O
mode_t	O
mode	int
)	O
{	O
error_t	O
err	O
;	O
if	O
(	O
!	O
user	*(struct)
)	O
return	O
EOPNOTSUPP	O
;	O
mode	int
&=	O
~	O
(	O
S_IFMT	O
|	O
S_ISPARE	O
|	O
S_ISVTX	O
)	O
;	O
mode	int
|=	O
S_IFDIR	O
;	O
pthread_mutex_lock	()->(int)
(	O
&	O
user	*(struct)
->	O
po	*(struct)
->	O
np	*(struct)
->	O
lock	int
)	O
;	O
err	O
=	O
netfs_attempt_mkdir	(*(struct),*(struct(*(struct),int,int,int,int,int,int,struct,struct,struct,*(struct))),*(char),int)->(int)
(	O
user	*(struct)
->	O
user	*(struct)
,	O
user	*(struct)
->	O
po	*(struct)
->	O
np	*(struct)
,	O
name	*(char)
,	O
mode	int
)	O
;	O
pthread_mutex_unlock	()->(int)
(	O
&	O
user	*(struct)
->	O
po	*(struct)
->	O
np	*(struct)
->	O
lock	int
)	O
;	O
return	O
err	O
;	O
}	O
