static	O
struct	O
termios	struct(int,int,int,int,char,array(char),int,int)
boot_mode	struct(int,int,int,int,char,array(char),int,int)
;	O
static	O
struct	O
termios	struct(int,int,int,int,char,array(char),int,int)
new_mode	struct(int,int,int,int,char,array(char),int,int)
;	O
static	O
int	O
no_slang_delay	int
;	O
static	O
void	O
load_terminfo_keys	()->(void)
(	O
void	O
)	O
;	O
void	O
slang_init	()->(void)
(	O
void	O
)	O
{	O
SLtt_get_terminfo	()->(void)
(	O
)	O
;	O
if	O
(	O
(	O
COLS	O
<	O
10	int
)	O
||	O
(	O
LINES	O
<	O
5	int
)	O
||	O
(	O
SLang_Version	int
<	O
10407	int
&&	O
(	O
COLS	O
>	O
255	int
||	O
LINES	O
>	O
255	int
)	O
)	O
||	O
(	O
SLang_Version	int
>=	O
10407	int
&&	O
(	O
COLS	O
>	O
512	int
||	O
LINES	O
>	O
512	int
)	O
)	O
)	O
{	O
fprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(int)
(	O
stderr	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
_	O
(	O
"Screen size %dx%d is not supported.\n"	*(char)
"Check the TERM environment variable.\n"	*(char)
)	O
,	O
COLS	O
,	O
LINES	O
)	O
;	O
exit	(int)->(void)
(	O
1	int
)	O
;	O
}	O
tcgetattr	(int,*(struct(int,int,int,int,char,array(char),int,int)))->(int)
(	O
fileno	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
,	O
&	O
boot_mode	struct(int,int,int,int,char,array(char),int,int)
)	O
;	O
SLang_init_tty	(int,int,int)->(int)
(	O
XCTRL	O
(	O
'c'	O
)	O
,	O
1	int
,	O
0	int
)	O
;	O
if	O
(	O
SLang_TT_Read_FD	int
==	O
fileno	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stderr	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
)	O
SLang_TT_Read_FD	int
=	O
fileno	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdin	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
if	O
(	O
force_ugly_line_drawing	int
)	O
SLtt_Has_Alt_Charset	int
=	O
0	int
;	O
if	O
(	O
tcgetattr	(int,*(struct(int,int,int,int,char,array(char),int,int)))->(int)
(	O
SLang_TT_Read_FD	int
,	O
&	O
new_mode	struct(int,int,int,int,char,array(char),int,int)
)	O
==	O
0	int
)	O
{	O
new_mode	struct(int,int,int,int,char,array(char),int,int)
.	O
c_cc	array(char)
[	O
VLNEXT	int
]	O
=	O
NULL_VALUE	O
;	O
tcsetattr	(int,int,*(struct(int,int,int,int,char,array(char),int,int)))->(int)
(	O
SLang_TT_Read_FD	int
,	O
TCSADRAIN	int
,	O
&	O
new_mode	struct(int,int,int,int,char,array(char),int,int)
)	O
;	O
}	O
slang_prog_mode	()->(void)
(	O
)	O
;	O
load_terminfo_keys	()->(void)
(	O
)	O
;	O
SLtt_Blink_Mode	int
=	O
0	int
;	O
}	O
void	O
slang_set_raw_mode	()->(void)
(	O
void	O
)	O
{	O
tcsetattr	(int,int,*(struct(int,int,int,int,char,array(char),int,int)))->(int)
(	O
SLang_TT_Read_FD	int
,	O
TCSANOW	int
,	O
&	O
new_mode	struct(int,int,int,int,char,array(char),int,int)
)	O
;	O
}	O
void	O
slang_prog_mode	()->(void)
(	O
void	O
)	O
{	O
tcsetattr	(int,int,*(struct(int,int,int,int,char,array(char),int,int)))->(int)
(	O
SLang_TT_Read_FD	int
,	O
TCSANOW	int
,	O
&	O
new_mode	struct(int,int,int,int,char,array(char),int,int)
)	O
;	O
SLsmg_init_smg	()->(int)
(	O
)	O
;	O
SLsmg_touch_lines	(int,int)->(void)
(	O
0	int
,	O
LINES	O
)	O
;	O
}	O
void	O
slang_shell_mode	()->(void)
(	O
void	O
)	O
{	O
tcsetattr	(int,int,*(struct(int,int,int,int,char,array(char),int,int)))->(int)
(	O
SLang_TT_Read_FD	int
,	O
TCSANOW	int
,	O
&	O
boot_mode	struct(int,int,int,int,char,array(char),int,int)
)	O
;	O
}	O
void	O
slang_shutdown	()->(void)
(	O
void	O
)	O
{	O
char	O
*	O
op_cap	*(char)
;	O
slang_shell_mode	()->(void)
(	O
)	O
;	O
do_exit_ca_mode	()->(void)
(	O
)	O
;	O
SLang_reset_tty	()->(void)
(	O
)	O
;	O
op_cap	*(char)
=	O
SLtt_tgetstr	(*(char))->(*(char))
(	O
"op"	*(char)
)	O
;	O
if	O
(	O
op_cap	*(char)
)	O
{	O
fprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
"%s"	*(char)
,	O
op_cap	*(char)
)	O
;	O
fflush	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))))->(int)
(	O
stdout	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
)	O
;	O
}	O
}	O
static	O
void	O
slang_reset_softkeys	()->(void)
(	O
void	O
)	O
{	O
int	O
key	*(void)
;	O
char	O
*	O
send	*(char)
;	O
static	O
const	O
char	O
display	array(char)
[	O
]	O
=	O
"                "	*(char)
;	O
char	O
tmp	array(char)
[	O
BUF_SMALL	int
]	O
;	O
for	O
(	O
key	*(void)
=	O
1	int
;	O
key	*(void)
<	O
9	int
;	O
key	*(void)
++	O
)	O
{	O
g_snprintf	(*(char),long,*(char))->(int)
(	O
tmp	array(char)
,	O
sizeof	O
(	O
tmp	array(char)
)	O
,	O
"k%d"	*(char)
,	O
key	*(void)
)	O
;	O
send	*(char)
=	O
(	O
char	O
*	O
)	O
SLtt_tgetstr	(*(char))->(*(char))
(	O
tmp	array(char)
)	O
;	O
if	O
(	O
send	*(char)
)	O
{	O
g_snprintf	(*(char),long,*(char))->(int)
(	O
tmp	array(char)
,	O
sizeof	O
(	O
tmp	array(char)
)	O
,	O
"\033&f%dk%dd%dL%s%s"	*(char)
,	O
key	*(void)
,	O
(	O
int	O
)	O
(	O
sizeof	O
(	O
display	array(char)
)	O
-	O
1	int
)	O
,	O
(	O
int	O
)	O
strlen	(*(char))->(long)
(	O
send	*(char)
)	O
,	O
display	array(char)
,	O
send	*(char)
)	O
;	O
SLtt_write_string	(*(char))->(void)
(	O
tmp	array(char)
)	O
;	O
}	O
}	O
}	O
void	O
slang_keypad	(int)->(void)
(	O
int	O
set	int
)	O
{	O
char	O
*	O
keypad_string	*(char)
;	O
extern	O
int	O
reset_hp_softkeys	int
;	O
keypad_string	*(char)
=	O
(	O
char	O
*	O
)	O
SLtt_tgetstr	(*(char))->(*(char))
(	O
set	int
?	O
"ks"	*(char)
:	O
"ke"	*(char)
)	O
;	O
if	O
(	O
keypad_string	*(char)
)	O
SLtt_write_string	(*(char))->(void)
(	O
keypad_string	*(char)
)	O
;	O
if	O
(	O
set	int
&&	O
reset_hp_softkeys	int
)	O
slang_reset_softkeys	()->(void)
(	O
)	O
;	O
}	O
void	O
set_slang_delay	(int)->(void)
(	O
int	O
v	*(void)
)	O
{	O
no_slang_delay	int
=	O
v	*(void)
;	O
}	O
void	O
hline	(int,int)->(void)
(	O
int	O
ch	int
,	O
int	O
len	int
)	O
{	O
int	O
last_x	int
,	O
last_y	int
;	O
last_x	int
=	O
SLsmg_get_column	()->(int)
(	O
)	O
;	O
last_y	int
=	O
SLsmg_get_row	()->(int)
(	O
)	O
;	O
if	O
(	O
ch	int
==	O
0	int
)	O
ch	int
=	O
ACS_HLINE	O
;	O
if	O
(	O
ch	int
==	O
ACS_HLINE	O
)	O
{	O
SLsmg_draw_hline	(int)->(void)
(	O
len	int
)	O
;	O
}	O
else	O
{	O
while	O
(	O
len	int
--	O
)	O
addch	O
(	O
ch	int
)	O
;	O
}	O
move	O
(	O
last_y	int
,	O
last_x	int
)	O
;	O
}	O
void	O
vline	(int,int)->(void)
(	O
int	O
character	int
,	O
int	O
len	int
)	O
{	O
if	O
(	O
!	O
slow_terminal	int
)	O
{	O
SLsmg_draw_vline	(int)->(void)
(	O
len	int
)	O
;	O
}	O
else	O
{	O
int	O
last_x	int
,	O
last_y	int
,	O
pos	*(char)
=	O
0	int
;	O
last_x	int
=	O
SLsmg_get_column	()->(int)
(	O
)	O
;	O
last_y	int
=	O
SLsmg_get_row	()->(int)
(	O
)	O
;	O
while	O
(	O
len	int
--	O
)	O
{	O
move	O
(	O
last_y	int
+	O
pos	*(char)
++	O
,	O
last_x	int
)	O
;	O
addch	O
(	O
' '	O
)	O
;	O
}	O
move	O
(	O
last_x	int
,	O
last_y	int
)	O
;	O
}	O
}	O
int	O
has_colors	()->(int)
(	O
void	O
)	O
{	O
const	O
char	O
*	O
terminal	*(char)
=	O
getenv	(*(char))->(*(char))
(	O
"TERM"	*(char)
)	O
;	O
char	O
*	O
cts	*(char)
=	O
color_terminal_string	array(char)
,	O
*	O
s	*(char)
;	O
size_t	long
i	array(int)
;	O
if	O
(	O
force_colors	int
)	O
SLtt_Use_Ansi_Colors	int
=	O
1	int
;	O
if	O
(	O
NULL	O
!=	O
getenv	(*(char))->(*(char))
(	O
"COLORTERM"	*(char)
)	O
)	O
SLtt_Use_Ansi_Colors	int
=	O
1	int
;	O
if	O
(	O
!	O
disable_colors	int
)	O
{	O
if	O
(	O
*	O
cts	*(char)
)	O
{	O
while	O
(	O
*	O
cts	*(char)
)	O
{	O
while	O
(	O
*	O
cts	*(char)
==	O
' '	O
||	O
*	O
cts	*(char)
==	O
'\t'	O
)	O
cts	*(char)
++	O
;	O
s	*(char)
=	O
cts	*(char)
;	O
i	array(int)
=	O
0	int
;	O
while	O
(	O
*	O
cts	*(char)
&&	O
*	O
cts	*(char)
!=	O
','	O
)	O
{	O
cts	*(char)
++	O
;	O
i	array(int)
++	O
;	O
}	O
if	O
(	O
i	array(int)
&&	O
i	array(int)
==	O
strlen	(*(char))->(long)
(	O
terminal	*(char)
)	O
&&	O
strncmp	(*(char),*(char),long)->(int)
(	O
s	*(char)
,	O
terminal	*(char)
,	O
i	array(int)
)	O
==	O
0	int
)	O
SLtt_Use_Ansi_Colors	int
=	O
1	int
;	O
if	O
(	O
*	O
cts	*(char)
==	O
','	O
)	O
cts	*(char)
++	O
;	O
}	O
}	O
}	O
if	O
(	O
SLtt_Use_Ansi_Colors	int
)	O
{	O
if	O
(	O
use_colors	int
)	O
{	O
mc_init_pair	(int,*(char),*(char))->(void)
(	O
A_REVERSE	int
,	O
"black"	*(char)
,	O
"white"	*(char)
)	O
;	O
mc_init_pair	(int,*(char),*(char))->(void)
(	O
A_BOLD	int
,	O
"white"	*(char)
,	O
"black"	*(char)
)	O
;	O
}	O
else	O
{	O
mc_init_pair	(int,*(char),*(char))->(void)
(	O
A_REVERSE	int
,	O
"black"	*(char)
,	O
"lightgray"	*(char)
)	O
;	O
mc_init_pair	(int,*(char),*(char))->(void)
(	O
A_BOLD	int
,	O
"white"	*(char)
,	O
"black"	*(char)
)	O
;	O
mc_init_pair	(int,*(char),*(char))->(void)
(	O
A_BOLD_REVERSE	int
,	O
"white"	*(char)
,	O
"lightgray"	*(char)
)	O
;	O
}	O
}	O
else	O
{	O
SLtt_set_mono	(int,*(char),long)->(int)
(	O
A_BOLD	int
,	O
NULL	O
,	O
SLTT_BOLD_MASK	int
)	O
;	O
SLtt_set_mono	(int,*(char),long)->(int)
(	O
A_REVERSE	int
,	O
NULL	O
,	O
SLTT_REV_MASK	int
)	O
;	O
SLtt_set_mono	(int,*(char),long)->(int)
(	O
A_BOLD	int
|	O
A_REVERSE	int
,	O
NULL	O
,	O
SLTT_BOLD_MASK	int
|	O
SLTT_REV_MASK	int
)	O
;	O
}	O
return	O
SLtt_Use_Ansi_Colors	int
;	O
}	O
void	O
attrset	(int)->(void)
(	O
int	O
color	short
)	O
{	O
if	O
(	O
!	O
SLtt_Use_Ansi_Colors	int
)	O
{	O
SLsmg_set_color	(short)->(void)
(	O
color	short
)	O
;	O
return	O
;	O
}	O
if	O
(	O
color	short
&	O
A_BOLD	int
)	O
{	O
if	O
(	O
color	short
==	O
A_BOLD	int
)	O
SLsmg_set_color	(short)->(void)
(	O
A_BOLD	int
)	O
;	O
else	O
SLsmg_set_color	(short)->(void)
(	O
(	O
color	short
&	O
(	O
~	O
A_BOLD	int
)	O
)	O
+	O
8	int
)	O
;	O
return	O
;	O
}	O
if	O
(	O
color	short
==	O
A_REVERSE	int
)	O
SLsmg_set_color	(short)->(void)
(	O
A_REVERSE	int
)	O
;	O
else	O
SLsmg_set_color	(short)->(void)
(	O
color	short
)	O
;	O
}	O
static	O
const	O
struct	O
{	O
int	O
key_code	int
;	O
const	O
char	O
*	O
key_name	*(char)
;	O
}	O
key_table	array(struct(int,*(char)))
[	O
]	O
=	O
{	O
{	O
KEY_F	O
(	O
0	int
)	O
,	O
"k0"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
1	int
)	O
,	O
"k1"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
2	int
)	O
,	O
"k2"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
3	int
)	O
,	O
"k3"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
4	int
)	O
,	O
"k4"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
5	int
)	O
,	O
"k5"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
6	int
)	O
,	O
"k6"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
7	int
)	O
,	O
"k7"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
8	int
)	O
,	O
"k8"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
9	int
)	O
,	O
"k9"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
10	int
)	O
,	O
"k;"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
11	int
)	O
,	O
"F1"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
12	int
)	O
,	O
"F2"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
13	int
)	O
,	O
"F3"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
14	int
)	O
,	O
"F4"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
15	int
)	O
,	O
"F5"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
16	int
)	O
,	O
"F6"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
17	int
)	O
,	O
"F7"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
18	int
)	O
,	O
"F8"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
19	int
)	O
,	O
"F9"	*(char)
}	O
,	O
{	O
KEY_F	O
(	O
20	int
)	O
,	O
"FA"	*(char)
}	O
,	O
{	O
KEY_IC	int
,	O
"kI"	*(char)
}	O
,	O
{	O
KEY_NPAGE	int
,	O
"kN"	*(char)
}	O
,	O
{	O
KEY_PPAGE	int
,	O
"kP"	*(char)
}	O
,	O
{	O
KEY_LEFT	int
,	O
"kl"	*(char)
}	O
,	O
{	O
KEY_RIGHT	int
,	O
"kr"	*(char)
}	O
,	O
{	O
KEY_UP	int
,	O
"ku"	*(char)
}	O
,	O
{	O
KEY_DOWN	int
,	O
"kd"	*(char)
}	O
,	O
{	O
KEY_DC	int
,	O
"kD"	*(char)
}	O
,	O
{	O
KEY_BACKSPACE	int
,	O
"kb"	*(char)
}	O
,	O
{	O
KEY_HOME	int
,	O
"kh"	*(char)
}	O
,	O
{	O
KEY_END	int
,	O
"@7"	*(char)
}	O
,	O
{	O
0	int
,	O
0	int
}	O
}	O
;	O
static	O
void	O
do_define_key	(int,*(char))->(void)
(	O
int	O
code	int
,	O
const	O
char	O
*	O
strcap	*(char)
)	O
{	O
char	O
*	O
seq	*(struct)
;	O
seq	*(struct)
=	O
(	O
char	O
*	O
)	O
SLtt_tgetstr	(*(char))->(*(char))
(	O
(	O
char	O
*	O
)	O
strcap	*(char)
)	O
;	O
if	O
(	O
seq	*(struct)
)	O
define_sequence	(int,*(char),int)->(int)
(	O
code	int
,	O
seq	*(struct)
,	O
MCKEY_NOACTION	int
)	O
;	O
}	O
static	O
void	O
load_terminfo_keys	()->(void)
(	O
void	O
)	O
{	O
int	O
i	array(int)
;	O
for	O
(	O
i	array(int)
=	O
0	int
;	O
key_table	array(struct(int,*(char)))
[	O
i	array(int)
]	O
.	O
key_code	int
;	O
i	array(int)
++	O
)	O
do_define_key	(int,*(char))->(void)
(	O
key_table	array(struct(int,*(char)))
[	O
i	array(int)
]	O
.	O
key_code	int
,	O
key_table	array(struct(int,*(char)))
[	O
i	array(int)
]	O
.	O
key_name	*(char)
)	O
;	O
}	O
int	O
getch	()->(int)
(	O
void	O
)	O
{	O
int	O
c	int
;	O
if	O
(	O
no_slang_delay	int
)	O
if	O
(	O
SLang_input_pending2	O
(	O
0	int
)	O
==	O
0	int
)	O
return	O
-	O
1	int
;	O
c	int
=	O
SLang_getkey2	O
(	O
)	O
;	O
if	O
(	O
c	int
==	O
SLANG_GETKEY_ERROR	int
)	O
{	O
fprintf	(*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,*`,int,int,long,short,char,array(char),*`,long,*`,*`,*`,*`,long,int,array(char))),*(void),long,int,array(char))),*(char))->(int)
(	O
stderr	*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),int,int,long,short,char,array(char),*(void),long,*(struct),*(struct),*(struct(int,*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(char),*(struct`),*(struct`),int,int,long,short,char,array(char),*(void),long,*(struct`),*(struct`),*(struct`),*(void),long,int,array(char))),*(void),long,int,array(char)))
,	O
"SLang_getkey returned SLANG_GETKEY_ERROR\n"	*(char)
"Assuming EOF on stdin and exiting\n"	*(char)
)	O
;	O
exit	(int)->(void)
(	O
1	int
)	O
;	O
}	O
return	O
c	int
;	O
}	O
void	O
mc_refresh	()->(void)
(	O
void	O
)	O
{	O
if	O
(	O
!	O
we_are_background	int
)	O
refresh	O
(	O
)	O
;	O
}	O
