static	O
const	O
char	O
revid	array
[	O
]	O
=	O
"$Id: os_oflags.c,v 1.3 2000/06/28 16:47:02 loic Exp $"	pointer
;	O
u_int32_t	int
CDB___db_oflags	function
(	O
oflags	int
)	O
int	O
oflags	int
;	O
{	O
u_int32_t	int
dbflags	int
;	O
dbflags	int
=	O
0	int
;	O
if	O
(	O
oflags	int
&	O
O_CREAT	int
)	O
dbflags	int
|=	O
DB_CREATE	int
;	O
if	O
(	O
oflags	int
&	O
O_TRUNC	int
)	O
dbflags	int
|=	O
DB_TRUNCATE	int
;	O
switch	O
(	O
oflags	int
&	O
O_ACCMODE	int
)	O
{	O
case	O
O_RDWR	int
:	O
case	O
O_WRONLY	int
:	O
break	O
;	O
default	O
:	O
dbflags	int
|=	O
DB_RDONLY	int
;	O
break	O
;	O
}	O
return	O
(	O
dbflags	int
)	O
;	O
}	O
int	O
CDB___db_omode	function
(	O
perm	pointer
)	O
const	O
char	O
*	O
perm	pointer
;	O
{	O
int	O
mode	enum
;	O
mode	enum
=	O
0	int
;	O
if	O
(	O
perm	pointer
[	O
0	int
]	O
==	O
'r'	O
)	O
mode	enum
|=	O
S_IRUSR	O
;	O
if	O
(	O
perm	pointer
[	O
1	int
]	O
==	O
'w'	O
)	O
mode	enum
|=	O
S_IWUSR	O
;	O
if	O
(	O
perm	pointer
[	O
2	int
]	O
==	O
'r'	O
)	O
mode	enum
|=	O
S_IRGRP	O
;	O
if	O
(	O
perm	pointer
[	O
3	int
]	O
==	O
'w'	O
)	O
mode	enum
|=	O
S_IWGRP	O
;	O
if	O
(	O
perm	pointer
[	O
4	int
]	O
==	O
'r'	O
)	O
mode	enum
|=	O
S_IROTH	O
;	O
if	O
(	O
perm	pointer
[	O
5	int
]	O
==	O
'w'	O
)	O
mode	enum
|=	O
S_IWOTH	O
;	O
return	O
(	O
mode	enum
)	O
;	O
}	O
