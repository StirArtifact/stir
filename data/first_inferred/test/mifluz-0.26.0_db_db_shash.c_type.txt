static	O
const	O
char	O
revid	array
[	O
]	O
=	O
"$Id: db_shash.c,v 1.3 2000/06/28 16:47:01 loic Exp $"	*
;	O
static	O
const	O
struct	O
{	O
u_int32_t	int
power	int
;	O
u_int32_t	int
prime	int
;	O
}	O
list	*
[	O
]	O
=	O
{	O
{	O
64	int
,	O
67	int
}	O
,	O
{	O
128	int
,	O
131	int
}	O
,	O
{	O
256	int
,	O
257	int
}	O
,	O
{	O
512	int
,	O
521	*
}	O
,	O
{	O
1024	int
,	O
1031	int
}	O
,	O
{	O
2048	int
,	O
2053	int
}	O
,	O
{	O
4096	int
,	O
4099	int
}	O
,	O
{	O
8192	int
,	O
8191	int
}	O
,	O
{	O
16384	int
,	O
16381	*
}	O
,	O
{	O
32768	int
,	O
32771	int
}	O
,	O
{	O
65536	*
,	O
65537	int
}	O
,	O
{	O
131072	*
,	O
131071	int
}	O
,	O
{	O
262144	*
,	O
262147	int
}	O
,	O
{	O
393216	*
,	O
393209	int
}	O
,	O
{	O
524288	*
,	O
524287	int
}	O
,	O
{	O
786432	*
,	O
786431	int
}	O
,	O
{	O
1048576	*
,	O
1048573	int
}	O
,	O
{	O
1572864	*
,	O
1572869	int
}	O
,	O
{	O
2097152	*
,	O
2097169	int
}	O
,	O
{	O
3145728	*
,	O
3145721	int
}	O
,	O
{	O
4194304	O
,	O
4194301	int
}	O
,	O
{	O
6291456	*
,	O
6291449	int
}	O
,	O
{	O
8388608	*
,	O
8388617	int
}	O
,	O
{	O
12582912	*
,	O
12582917	int
}	O
,	O
{	O
16777216	*
,	O
16777213	int
}	O
,	O
{	O
25165824	*
,	O
25165813	int
}	O
,	O
{	O
33554432	*
,	O
33554393	int
}	O
,	O
{	O
50331648	*
,	O
50331653	int
}	O
,	O
{	O
67108864	*
,	O
67108859	int
}	O
,	O
{	O
100663296	*
,	O
100663291	int
}	O
,	O
{	O
134217728	*
,	O
134217757	int
}	O
,	O
{	O
201326592	*
,	O
201326611	int
}	O
,	O
{	O
268435456	*
,	O
268435459	int
}	O
,	O
{	O
402653184	*
,	O
402653189	int
}	O
,	O
{	O
536870912	*
,	O
536870909	int
}	O
,	O
{	O
805306368	*
,	O
805306357	int
}	O
,	O
{	O
1073741824	*
,	O
1073741827	int
}	O
,	O
{	O
0	int
,	O
0	int
}	O
}	O
;	O
int	O
CDB___db_tablesize	function
(	O
n_buckets	*
)	O
u_int32_t	int
n_buckets	int
;	O
{	O
int	O
i	int
;	O
if	O
(	O
n_buckets	long
<	O
64	int
)	O
n_buckets	int
=	O
64	int
;	O
for	O
(	O
i	int
=	O
0	int
;	O
;	O
++	O
i	int
)	O
{	O
if	O
(	O
list	*
[	O
i	int
]	O
.	O
power	int
==	O
0	int
)	O
{	O
--	O
i	int
;	O
break	O
;	O
}	O
if	O
(	O
list	*
[	O
i	int
]	O
.	O
power	int
>=	O
n_buckets	long
)	O
break	O
;	O
}	O
return	O
(	O
list	*
[	O
i	int
]	O
.	O
prime	long
)	O
;	O
}	O
void	O
CDB___db_hashinit	function
(	O
begin	int
,	O
nelements	*
)	O
void	O
*	O
begin	*
;	O
u_int32_t	int
nelements	int
;	O
{	O
u_int32_t	int
i	int
;	O
SH_TAILQ_HEAD	function
(	O
hash_head	*
)	O
*	O
headp	*
;	O
headp	*
=	O
(	O
struct	O
hash_head	struct
*	O
)	O
begin	int
;	O
for	O
(	O
i	int
=	O
0	int
;	O
i	int
<	O
nelements	int
;	O
i	int
++	O
,	O
headp	int
++	O
)	O
SH_TAILQ_INIT	function
(	O
headp	*
)	O
;	O
}	O