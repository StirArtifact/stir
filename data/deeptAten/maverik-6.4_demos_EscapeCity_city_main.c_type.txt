MAV_callback	O
*	O
mav_callback_enlist	pointer
;	O
int	O
mav_objectEnlist	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
void	O
*	O
v1	pointer
,	O
void	O
*	O
v2	pointer
)	O
;	O
int	O
mav_cityCellGetMatrix	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_matrix	O
*	O
*	O
mat	pointer
)	O
;	O
int	O
mav_cityCellGetUserdef	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
void	O
*	O
*	O
*	O
ud	pointer
)	O
;	O
int	O
mav_cityCellBBox	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_BB	O
*	O
bb	int
)	O
;	O
int	O
mav_cityCellDraw	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_drawInfo	O
*	O
di	pointer
)	O
;	O
int	O
mav_occluderGetMatrix	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_matrix	O
*	O
*	O
mat	pointer
)	O
;	O
int	O
mav_occluderGetUserdef	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
void	O
*	O
*	O
*	O
ud	pointer
)	O
;	O
int	O
mav_occluderBBox	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_BB	O
*	O
bb	int
)	O
;	O
int	O
mav_occluderDraw	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_drawInfo	O
*	O
di	pointer
)	O
;	O
int	O
mav_billboardGetMatrix	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_matrix	O
*	O
*	O
mat	pointer
)	O
;	O
int	O
mav_billboardGetUserdef	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
void	O
*	O
*	O
*	O
ud	pointer
)	O
;	O
int	O
mav_billboardBBox	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_BB	O
*	O
bb	int
)	O
;	O
int	O
mav_billboardDraw	function
(	O
MAV_object	O
*	O
obj	pointer
,	O
MAV_drawInfo	O
*	O
di	pointer
)	O
;	O
void	O
Build_Cityscape	function
(	O
void	O
)	O
;	O
void	O
WalkAround	function
(	O
void	O
)	O
;	O
extern	O
MAV_list	O
*	O
list_of_objects	pointer
;	O
MAV_class	O
*	O
mav_class_avatar	pointer
;	O
MAV_class	O
*	O
mav_class_citycell	pointer
;	O
MAV_class	O
*	O
mav_class_occluder	pointer
;	O
MAV_class	O
*	O
mav_class_billboard	pointer
;	O
MAV_SMS	O
*	O
city_sms	pointer
;	O
int	O
num_cells	int
=	O
0	int
;	O
int	O
num_visible_objects	int
=	O
0	int
;	O
int	O
routereader	int
=	O
0	int
;	O
int	O
routewriter	int
=	O
0	int
;	O
Visible_Object	O
*	O
visible_objects	pointer
;	O
int	O
total_objects	int
=	O
0	int
;	O
MAV_composite	O
composites	int
[	O
NUM_COMP	O
]	O
;	O
int	O
main	function
(	O
int	O
argc	int
,	O
char	O
*	O
*	O
argv	pointer
)	O
{	O
MAV_matrix	O
transform	O
;	O
MAV_object	O
*	O
obj	pointer
;	O
mav_opt_fixedRnd	O
=	O
MAV_TRUE	O
;	O
mav_opt_bindTextures	O
=	O
MAV_TRUE	O
;	O
mav_initialise	function
(	O
&	O
argc	int
,	O
argv	pointer
)	O
;	O
if	O
(	O
argc	int
==	O
2	int
)	O
{	O
int	O
v	int
=	O
atoi	function
(	O
argv	pointer
[	O
1	int
]	O
)	O
;	O
if	O
(	O
v	int
==	O
1	int
)	O
routereader	int
=	O
1	int
;	O
if	O
(	O
v	int
==	O
2	int
)	O
routewriter	int
=	O
1	int
;	O
}	O
mav_callback_enlist	pointer
=	O
mav_callbackNew	function
(	O
)	O
;	O
mav_class_avatar	pointer
=	O
mav_classNew	function
(	O
)	O
;	O
mav_callbackDrawSet	function
(	O
mav_win_all	O
,	O
mav_class_avatar	pointer
,	O
mav_avatarDraw	function
)	O
;	O
mav_callbackBBSet	function
(	O
mav_win_all	O
,	O
mav_class_avatar	pointer
,	O
mav_avatarBBox	function
)	O
;	O
mav_callbackGetMatrixSet	function
(	O
mav_win_all	O
,	O
mav_class_avatar	pointer
,	O
mav_avatarGetMatrix	function
)	O
;	O
mav_callbackGetUserdefSet	function
(	O
mav_win_all	O
,	O
mav_class_avatar	pointer
,	O
mav_avatarGetUserdef	function
)	O
;	O
mav_callbackSet	function
(	O
mav_callback_enlist	pointer
,	O
mav_win_all	O
,	O
mav_class_avatar	pointer
,	O
mav_objectEnlist	function
)	O
;	O
mav_class_citycell	pointer
=	O
mav_classNew	function
(	O
)	O
;	O
mav_callbackDrawSet	function
(	O
mav_win_all	O
,	O
mav_class_citycell	pointer
,	O
mav_cityCellDraw	function
)	O
;	O
mav_callbackBBSet	function
(	O
mav_win_all	O
,	O
mav_class_citycell	pointer
,	O
mav_cityCellBBox	function
)	O
;	O
mav_callbackGetMatrixSet	function
(	O
mav_win_all	O
,	O
mav_class_citycell	pointer
,	O
mav_cityCellGetMatrix	function
)	O
;	O
mav_callbackGetUserdefSet	function
(	O
mav_win_all	O
,	O
mav_class_citycell	pointer
,	O
mav_cityCellGetUserdef	function
)	O
;	O
mav_callbackSet	function
(	O
mav_callback_enlist	pointer
,	O
mav_win_all	O
,	O
mav_class_citycell	pointer
,	O
mav_objectEnlist	function
)	O
;	O
mav_class_occluder	pointer
=	O
mav_classNew	function
(	O
)	O
;	O
mav_callbackDrawSet	function
(	O
mav_win_all	O
,	O
mav_class_occluder	pointer
,	O
mav_occluderDraw	function
)	O
;	O
mav_callbackBBSet	function
(	O
mav_win_all	O
,	O
mav_class_occluder	pointer
,	O
mav_occluderBBox	function
)	O
;	O
mav_callbackGetMatrixSet	function
(	O
mav_win_all	O
,	O
mav_class_occluder	pointer
,	O
mav_occluderGetMatrix	function
)	O
;	O
mav_callbackGetUserdefSet	function
(	O
mav_win_all	O
,	O
mav_class_occluder	pointer
,	O
mav_occluderGetUserdef	function
)	O
;	O
mav_callbackSet	function
(	O
mav_callback_enlist	pointer
,	O
mav_win_all	O
,	O
mav_class_occluder	pointer
,	O
mav_objectEnlist	function
)	O
;	O
mav_class_billboard	pointer
=	O
mav_classNew	function
(	O
)	O
;	O
mav_callbackDrawSet	function
(	O
mav_win_all	O
,	O
mav_class_billboard	pointer
,	O
mav_billboardDraw	function
)	O
;	O
mav_callbackBBSet	function
(	O
mav_win_all	O
,	O
mav_class_billboard	pointer
,	O
mav_billboardBBox	function
)	O
;	O
mav_callbackGetMatrixSet	function
(	O
mav_win_all	O
,	O
mav_class_billboard	pointer
,	O
mav_billboardGetMatrix	function
)	O
;	O
mav_callbackGetUserdefSet	function
(	O
mav_win_all	O
,	O
mav_class_billboard	pointer
,	O
mav_billboardGetUserdef	function
)	O
;	O
mav_callbackSet	function
(	O
mav_callback_enlist	pointer
,	O
mav_win_all	O
,	O
mav_class_billboard	pointer
,	O
mav_objectEnlist	function
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_DARK_BLUE	O
,	O
0.0	int
,	O
0.0	int
,	O
0.3	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.7	int
,	O
0.0	int
,	O
0.2	int
,	O
0.2	int
,	O
0.4	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
30.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_GRASS	O
,	O
0.0	int
,	O
0.3	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.3	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_WHITE	O
,	O
0.7	int
,	O
0.7	int
,	O
0.7	int
,	O
0.0	int
,	O
1.0	int
,	O
1.0	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_WHITE2	O
,	O
0.7	int
,	O
0.65	int
,	O
0.65	int
,	O
0.0	int
,	O
1.0	int
,	O
0.95	int
,	O
0.95	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_WHITE3	O
,	O
0.65	int
,	O
0.65	int
,	O
0.7	int
,	O
0.0	int
,	O
0.95	int
,	O
0.95	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_ASPHALT	O
,	O
0.1	int
,	O
0.1	int
,	O
0.1	int
,	O
0.0	int
,	O
0.2	int
,	O
0.2	int
,	O
0.2	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_PAVEMENT	O
,	O
0.4	int
,	O
0.4	int
,	O
0.4	int
,	O
0.0	int
,	O
1.0	int
,	O
1.0	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_MARK	O
,	O
0.4	int
,	O
0.4	int
,	O
0.4	int
,	O
0.0	int
,	O
1.0	int
,	O
1.0	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_DIRT	O
,	O
0.125	int
,	O
0.105	int
,	O
0.025	int
,	O
0.0	int
,	O
0.25	int
,	O
0.21	int
,	O
0.05	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_METAL	O
,	O
0.2	int
,	O
0.2	int
,	O
0.2	int
,	O
0.0	int
,	O
0.7	int
,	O
0.7	int
,	O
0.7	int
,	O
0.0	int
,	O
1.0	int
,	O
1.0	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
30.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_CONCRETE	O
,	O
0.2	int
,	O
0.2	int
,	O
0.2	int
,	O
0.0	int
,	O
0.7	int
,	O
0.7	int
,	O
0.7	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_GLASS	O
,	O
0.2	int
,	O
0.2	int
,	O
0.2	int
,	O
0.0	int
,	O
0.9	int
,	O
0.9	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_STRUTS	O
,	O
0.1	int
,	O
0.1	int
,	O
0.1	int
,	O
0.0	int
,	O
0.35	int
,	O
0.27	int
,	O
0.27	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_NOTEX	O
,	O
0.35	int
,	O
0.35	int
,	O
0.35	int
,	O
0.0	int
,	O
0.6	int
,	O
0.6	int
,	O
0.6	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_NOTEX2	O
,	O
0.35	int
,	O
0.3	int
,	O
0.3	int
,	O
0.0	int
,	O
0.6	int
,	O
0.5	int
,	O
0.5	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_NOTEX3	O
,	O
0.3	int
,	O
0.3	int
,	O
0.35	int
,	O
0.0	int
,	O
0.5	int
,	O
0.5	int
,	O
0.6	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_TROUSERS1	O
,	O
0.094	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.529	int
,	O
0.282	int
,	O
0.043	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_TROUSERS2	O
,	O
0.0	int
,	O
0.094	int
,	O
0.0	int
,	O
0.0	int
,	O
0.282	int
,	O
0.529	int
,	O
0.043	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_TROUSERS3	O
,	O
0.0	int
,	O
0.0	int
,	O
0.094	int
,	O
0.0	int
,	O
0.043	int
,	O
0.282	int
,	O
0.529	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_JUMPER1	O
,	O
0.408	int
,	O
0.071	int
,	O
0.063	int
,	O
0.0	int
,	O
0.878	int
,	O
0.753	int
,	O
0.627	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_JUMPER2	O
,	O
0.071	int
,	O
0.408	int
,	O
0.063	int
,	O
0.0	int
,	O
0.753	int
,	O
0.878	int
,	O
0.627	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteMaterialSet	function
(	O
mav_palette_default	O
,	O
MAT_JUMPER3	O
,	O
0.063	int
,	O
0.071	int
,	O
0.408	int
,	O
0.0	int
,	O
0.627	int
,	O
0.753	int
,	O
0.878	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteColourSet	function
(	O
mav_palette_default	O
,	O
MAV_COLOUR_YELLOW	O
,	O
1.0	int
,	O
1.0	int
,	O
0.0	int
,	O
0.0	int
)	O
;	O
mav_paletteTextureSet	function
(	O
mav_palette_default	O
,	O
TEX_TREE3	O
,	O
"textures/tree3.ppm"	pointer
)	O
;	O
mav_paletteTextureColourAlphaSet	function
(	O
mav_palette_default	O
,	O
TEX_TREE3	O
,	O
0	int
,	O
0	int
,	O
0	int
,	O
0.0	int
)	O
;	O
mav_paletteTextureSet	function
(	O
mav_palette_default	O
,	O
TEX_SKY	O
,	O
"textures/sky.ppm"	pointer
)	O
;	O
mav_paletteTextureSet	function
(	O
mav_palette_default	O
,	O
TEX_PAVEMENT	O
,	O
"textures/pavement.ppm"	pointer
)	O
;	O
Build_Cityscape	function
(	O
)	O
;	O
visible_objects	pointer
=	O
mav_malloc	function
(	O
total_objects	int
*	O
sizeof	O
(	O
Visible_Object	O
)	O
)	O
;	O
city_sms	pointer
=	O
mav_SMSHBBNew	function
(	O
)	O
;	O
mav_listPointerReset	function
(	O
list_of_objects	pointer
)	O
;	O
while	O
(	O
mav_listItemNext	function
(	O
list_of_objects	pointer
,	O
(	O
void	O
*	O
*	O
)	O
&	O
obj	pointer
)	O
)	O
mav_SMSObjectAdd	function
(	O
city_sms	pointer
,	O
obj	pointer
)	O
;	O
WalkAround	function
(	O
)	O
;	O
return	O
1	int
;	O
}	O
