struct	O
menustruct	struct
{	O
int	O
box	array
[	O
4	int
]	O
;	O
char	O
*	O
*	O
menuItems	pointer
;	O
int	O
menuItemCount	int
;	O
void	O
(	O
*	O
*	O
func	pointer
)	O
(	O
)	O
;	O
}	O
;	O
int	O
mSelect	int
;	O
int	O
endme	int
;	O
int	O
menuIndex	int
;	O
struct	O
menustruct	struct
*	O
curMenu	pointer
;	O
void	O
(	O
*	O
fileFuncs	array
[	O
]	O
)	O
(	O
)	O
=	O
{	O
fileMenu_New	function
,	O
fileMenu_Open	function
,	O
fileMenu_Save	function
,	O
fileMenu_SaveAs	function
,	O
fileMenu_Print	function
,	O
fileMenu_Exit	function
}	O
;	O
void	O
(	O
*	O
editFuncs	array
[	O
]	O
)	O
(	O
)	O
=	O
{	O
editMenu_Cut	function
,	O
editMenu_Copy	function
,	O
editMenu_Paste	function
,	O
editMenu_SelectAll	function
,	O
editMenu_Undo	function
,	O
editMenu_Redo	function
,	O
editMenu_DeleteLine	function
,	O
editMenu_Find	function
,	O
editMenu_Replace	function
,	O
editMenu_ToggleSelectMode	function
,	O
}	O
;	O
void	O
(	O
*	O
optionsFuncs	array
[	O
]	O
)	O
(	O
)	O
=	O
{	O
optionsMenu_Change_Colors	function
,	O
optionsMenu_Tab_Spaces	function
,	O
optionsMenu_Autoindent	function
,	O
optionsMenu_Reset_Config	function
}	O
;	O
void	O
(	O
*	O
helpFuncs	array
[	O
]	O
)	O
(	O
)	O
=	O
{	O
showReadMe	function
,	O
showKeybindings	function
,	O
showQuickReference	function
,	O
showAboutBox	function
}	O
;	O
struct	O
menustruct	struct
mainMenu	array
[	O
]	O
=	O
{	O
{	O
{	O
2	int
,	O
2	int
,	O
9	int
,	O
19	int
}	O
,	O
fileMenu	array
,	O
fTotal	int
,	O
fileFuncs	array
,	O
}	O
,	O
{	O
{	O
2	int
,	O
8	int
,	O
13	int
,	O
30	int
}	O
,	O
editMenu	array
,	O
eTotal	int
,	O
editFuncs	array
,	O
}	O
,	O
{	O
{	O
2	int
,	O
14	int
,	O
7	int
,	O
31	int
}	O
,	O
optionsMenu	array
,	O
oTotal	int
,	O
optionsFuncs	array
,	O
}	O
,	O
{	O
{	O
2	int
,	O
23	int
,	O
7	int
,	O
40	int
}	O
,	O
helpMenu	array
,	O
hTotal	int
,	O
helpFuncs	array
,	O
}	O
,	O
}	O
;	O
void	O
drawMenuBox	function
(	O
struct	O
menustruct	struct
*	O
curMenu	pointer
)	O
{	O
int	O
x1	int
=	O
curMenu	pointer
->	O
box	array
[	O
0	int
]	O
;	O
int	O
y1	int
=	O
curMenu	pointer
->	O
box	array
[	O
1	int
]	O
;	O
int	O
x2	int
=	O
curMenu	pointer
->	O
box	array
[	O
2	int
]	O
;	O
int	O
y2	int
=	O
curMenu	pointer
->	O
box	array
[	O
3	int
]	O
;	O
char	O
*	O
*	O
menuItems	pointer
=	O
curMenu	pointer
->	O
menuItems	pointer
;	O
int	O
menuItemCount	int
=	O
curMenu	pointer
->	O
menuItemCount	int
;	O
setScreenColorsI	function
(	O
COLOR_WINDOW	int
)	O
;	O
drawBox	function
(	O
x1	int
++	O
,	O
y1	int
++	O
,	O
x2	int
,	O
y2	int
,	O
NULL	O
,	O
YES	int
,	O
0	int
)	O
;	O
setScreenColorsI	function
(	O
COLOR_HIGHLIGHT_TEXT	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH%s"	pointer
,	O
x1	int
,	O
y1	int
,	O
menuItems	pointer
[	O
0	int
]	O
)	O
;	O
setScreenColorsI	function
(	O
COLOR_WINDOW	int
)	O
;	O
for	O
(	O
int	O
i	int
=	O
1	int
;	O
i	int
<	O
menuItemCount	int
;	O
i	int
++	O
)	O
{	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH%s"	pointer
,	O
i	int
+	O
3	int
,	O
y1	int
,	O
menuItems	pointer
[	O
i	int
]	O
)	O
;	O
}	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
x1	int
,	O
y2	int
-	O
1	int
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
}	O
void	O
clearSelection	function
(	O
int	O
y	int
,	O
int	O
menuIndex	int
,	O
char	O
*	O
*	O
menuItems	pointer
)	O
{	O
setScreenColorsI	function
(	O
COLOR_WINDOW	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH%s"	pointer
,	O
menuIndex	int
+	O
3	int
,	O
y	int
,	O
menuItems	pointer
[	O
menuIndex	int
]	O
)	O
;	O
}	O
void	O
highlightSelection	function
(	O
int	O
y1	int
,	O
int	O
y2	int
,	O
int	O
menuIndex	int
,	O
char	O
*	O
*	O
menuItems	pointer
)	O
{	O
setScreenColorsI	function
(	O
COLOR_HIGHLIGHT_TEXT	int
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH%s"	pointer
,	O
menuIndex	int
+	O
3	int
,	O
y1	int
,	O
menuItems	pointer
[	O
menuIndex	int
]	O
)	O
;	O
fprintf	function
(	O
stdout	pointer
,	O
"\e[%d;%dH"	pointer
,	O
menuIndex	int
+	O
3	int
,	O
y2	int
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
}	O
void	O
doEsc	function
(	O
)	O
{	O
endme	int
=	O
1	int
;	O
}	O
void	O
doUpDown	function
(	O
int	O
step	int
)	O
{	O
clearSelection	function
(	O
curMenu	pointer
->	O
box	array
[	O
1	int
]	O
+	O
1	int
,	O
mSelect	int
,	O
curMenu	pointer
->	O
menuItems	pointer
)	O
;	O
mSelect	int
+=	O
step	int
;	O
if	O
(	O
mSelect	int
<	O
0	int
)	O
mSelect	int
=	O
curMenu	pointer
->	O
menuItemCount	int
-	O
1	int
;	O
else	O
if	O
(	O
mSelect	int
>=	O
curMenu	pointer
->	O
menuItemCount	int
)	O
mSelect	int
=	O
0	int
;	O
highlightSelection	function
(	O
curMenu	pointer
->	O
box	array
[	O
1	int
]	O
+	O
1	int
,	O
curMenu	pointer
->	O
box	array
[	O
3	int
]	O
-	O
1	int
,	O
mSelect	int
,	O
curMenu	pointer
->	O
menuItems	pointer
)	O
;	O
}	O
void	O
doRightLeft	function
(	O
int	O
step	int
)	O
{	O
menuIndex	int
+=	O
step	int
;	O
if	O
(	O
menuIndex	int
<	O
0	int
)	O
menuIndex	int
=	O
totalMainMenus	int
-	O
1	int
;	O
else	O
if	O
(	O
menuIndex	int
==	O
totalMainMenus	int
)	O
menuIndex	int
=	O
0	int
;	O
refreshView	function
(	O
)	O
;	O
}	O
void	O
showMenu	function
(	O
int	O
index	int
,	O
char	O
*	O
open_file_name	pointer
)	O
{	O
char	O
*	O
ch	pointer
;	O
menuIndex	int
=	O
index	int
;	O
hideCursor	function
(	O
)	O
;	O
loop	O
:	O
mSelect	int
=	O
0	int
;	O
endme	int
=	O
0	int
;	O
curMenu	pointer
=	O
&	O
mainMenu	array
[	O
menuIndex	int
]	O
;	O
drawMenuBox	function
(	O
curMenu	pointer
)	O
;	O
while	O
(	O
!	O
endme	int
)	O
{	O
ch	pointer
=	O
getKey	function
(	O
)	O
;	O
switch	O
(	O
ch	pointer
[	O
0	int
]	O
)	O
{	O
case	O
(	O
'f'	O
)	O
:	O
if	O
(	O
ALT	int
)	O
{	O
if	O
(	O
menuIndex	int
==	O
0	int
)	O
{	O
endme	int
=	O
1	int
;	O
break	O
;	O
}	O
menuIndex	int
=	O
0	int
;	O
refreshView	function
(	O
)	O
;	O
goto	O
loop	O
;	O
}	O
if	O
(	O
CTRL	int
)	O
{	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
{	O
doRightLeft	function
(	O
1	int
)	O
;	O
goto	O
loop	O
;	O
}	O
}	O
break	O
;	O
case	O
(	O
'e'	O
)	O
:	O
if	O
(	O
ALT	int
)	O
{	O
if	O
(	O
menuIndex	int
==	O
1	int
)	O
{	O
endme	int
=	O
1	int
;	O
break	O
;	O
}	O
menuIndex	int
=	O
1	int
;	O
refreshView	function
(	O
)	O
;	O
goto	O
loop	O
;	O
}	O
break	O
;	O
case	O
(	O
'o'	O
)	O
:	O
if	O
(	O
ALT	int
)	O
{	O
if	O
(	O
menuIndex	int
==	O
2	int
)	O
{	O
endme	int
=	O
1	int
;	O
break	O
;	O
}	O
menuIndex	int
=	O
2	int
;	O
refreshView	function
(	O
)	O
;	O
goto	O
loop	O
;	O
}	O
break	O
;	O
case	O
(	O
'h'	O
)	O
:	O
if	O
(	O
ALT	int
)	O
{	O
if	O
(	O
menuIndex	int
==	O
3	int
)	O
{	O
endme	int
=	O
1	int
;	O
break	O
;	O
}	O
menuIndex	int
=	O
3	int
;	O
refreshView	function
(	O
)	O
;	O
goto	O
loop	O
;	O
}	O
break	O
;	O
case	O
(	O
'g'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
3	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
doEsc	function
(	O
)	O
;	O
break	O
;	O
case	O
(	O
ESC_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
2	int
)	O
break	O
;	O
doEsc	function
(	O
)	O
;	O
break	O
;	O
case	O
(	O
'p'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
2	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
doUpDown	function
(	O
-	O
1	int
)	O
;	O
break	O
;	O
case	O
(	O
UP_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
break	O
;	O
doUpDown	function
(	O
-	O
1	int
)	O
;	O
break	O
;	O
case	O
(	O
'n'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
2	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
doUpDown	function
(	O
1	int
)	O
;	O
break	O
;	O
case	O
(	O
DOWN_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
break	O
;	O
doUpDown	function
(	O
1	int
)	O
;	O
break	O
;	O
case	O
(	O
RIGHT_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
break	O
;	O
doRightLeft	function
(	O
1	int
)	O
;	O
goto	O
loop	O
;	O
break	O
;	O
case	O
(	O
'b'	O
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
<	O
2	int
)	O
break	O
;	O
if	O
(	O
!	O
CTRL	int
)	O
break	O
;	O
doRightLeft	function
(	O
-	O
1	int
)	O
;	O
goto	O
loop	O
;	O
break	O
;	O
case	O
(	O
LEFT_KEY	int
)	O
:	O
if	O
(	O
GNU_DOS_LEVEL	int
>	O
1	int
)	O
break	O
;	O
doRightLeft	function
(	O
-	O
1	int
)	O
;	O
goto	O
loop	O
;	O
break	O
;	O
case	O
(	O
ENTER_KEY	int
)	O
:	O
showCursor	function
(	O
)	O
;	O
if	O
(	O
menuIndex	int
==	O
0	int
)	O
{	O
curMenu	pointer
->	O
func	pointer
[	O
mSelect	int
]	O
(	O
open_file_name	pointer
)	O
;	O
}	O
else	O
{	O
curMenu	pointer
->	O
func	pointer
[	O
mSelect	int
]	O
(	O
)	O
;	O
}	O
endme	int
=	O
1	int
;	O
break	O
;	O
}	O
}	O
setScreenColorsI	function
(	O
COLOR_WINDOW	int
)	O
;	O
refreshView	function
(	O
)	O
;	O
showCursor	function
(	O
)	O
;	O
fflush	function
(	O
stdout	pointer
)	O
;	O
}	O
