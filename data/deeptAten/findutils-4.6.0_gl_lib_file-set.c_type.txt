void	O
record_file	function
(	O
Hash_table	struct
*	O
ht	pointer
,	O
char	O
const	O
*	O
file	pointer
,	O
struct	O
stat	struct
const	O
*	O
stats	pointer
)	O
{	O
struct	O
F_triple	struct
*	O
ent	pointer
;	O
if	O
(	O
ht	pointer
==	O
NULL	O
)	O
return	O
;	O
ent	pointer
=	O
xmalloc	function
(	O
sizeof	O
*	O
ent	pointer
)	O
;	O
ent	pointer
->	O
name	pointer
=	O
xstrdup	function
(	O
file	pointer
)	O
;	O
ent	pointer
->	O
st_ino	long
=	O
stats	pointer
->	O
st_ino	long
;	O
ent	pointer
->	O
st_dev	long
=	O
stats	pointer
->	O
st_dev	long
;	O
{	O
struct	O
F_triple	struct
*	O
ent_from_table	pointer
=	O
hash_insert	function
(	O
ht	pointer
,	O
ent	pointer
)	O
;	O
if	O
(	O
ent_from_table	pointer
==	O
NULL	O
)	O
{	O
xalloc_die	function
(	O
)	O
;	O
}	O
if	O
(	O
ent_from_table	pointer
!=	O
ent	pointer
)	O
{	O
triple_free	function
(	O
ent	pointer
)	O
;	O
}	O
}	O
}	O
bool	bool
seen_file	function
(	O
Hash_table	struct
const	O
*	O
ht	pointer
,	O
char	O
const	O
*	O
file	pointer
,	O
struct	O
stat	struct
const	O
*	O
stats	pointer
)	O
{	O
struct	O
F_triple	struct
new_ent	struct
;	O
if	O
(	O
ht	pointer
==	O
NULL	O
)	O
return	O
false	int
;	O
new_ent	struct
.	O
name	pointer
=	O
(	O
char	O
*	O
)	O
file	pointer
;	O
new_ent	struct
.	O
st_ino	long
=	O
stats	pointer
->	O
st_ino	long
;	O
new_ent	struct
.	O
st_dev	long
=	O
stats	pointer
->	O
st_dev	long
;	O
return	O
!	O
!	O
hash_lookup	function
(	O
ht	pointer
,	O
&	O
new_ent	struct
)	O
;	O
}	O
