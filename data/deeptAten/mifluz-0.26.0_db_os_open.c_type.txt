static	O
const	O
char	O
revid	array
[	O
]	O
=	O
"$Id: os_open.c,v 1.3 2000/06/28 16:47:02 loic Exp $"	pointer
;	O
int	O
CDB___os_open	function
(	O
dbenv	pointer
,	O
name	pointer
,	O
flags	int
,	O
mode	enum
,	O
fhp	pointer
)	O
DB_ENV	struct
*	O
dbenv	pointer
;	O
const	O
char	O
*	O
name	pointer
;	O
u_int32_t	int
flags	int
;	O
int	O
mode	enum
;	O
DB_FH	struct
*	O
fhp	pointer
;	O
{	O
int	O
oflags	int
,	O
ret	int
;	O
oflags	int
=	O
0	int
;	O
if	O
(	O
LF_ISSET	O
(	O
DB_OSO_CREATE	int
)	O
)	O
oflags	int
|=	O
O_CREAT	int
;	O
if	O
(	O
LF_ISSET	O
(	O
DB_OSO_EXCL	int
)	O
)	O
oflags	int
|=	O
O_EXCL	int
;	O
if	O
(	O
LF_ISSET	O
(	O
DB_OSO_RDONLY	int
)	O
)	O
oflags	int
|=	O
O_RDONLY	int
;	O
else	O
oflags	int
|=	O
O_RDWR	int
;	O
if	O
(	O
LF_ISSET	O
(	O
DB_OSO_TRUNC	int
)	O
)	O
oflags	int
|=	O
O_TRUNC	int
;	O
if	O
(	O
(	O
ret	int
=	O
CDB___os_openhandle	function
(	O
dbenv	pointer
,	O
name	pointer
,	O
oflags	int
,	O
mode	enum
,	O
fhp	pointer
)	O
)	O
!=	O
0	int
)	O
return	O
(	O
ret	int
)	O
;	O
if	O
(	O
LF_ISSET	O
(	O
DB_OSO_TEMP	int
)	O
)	O
(	O
void	O
)	O
CDB___os_unlink	function
(	O
dbenv	pointer
,	O
name	pointer
)	O
;	O
return	O
(	O
0	int
)	O
;	O
}	O
