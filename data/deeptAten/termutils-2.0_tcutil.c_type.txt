typedef	O
struct	O
termios	struct
tty_mode	struct
;	O
static	O
tty_mode	struct
old_modes	struct
,	O
new_modes	struct
;	O
static	O
RETSIGTYPE	void
signal_handler	function
(	O
)	O
{	O
restore_translations	function
(	O
)	O
;	O
exit	O
(	O
ERROR_EXIT	int
)	O
;	O
}	O
void	O
translations_off	function
(	O
)	O
{	O
if	O
(	O
isatty	function
(	O
1	int
)	O
)	O
{	O
GET_TTY_MODE	O
(	O
1	int
,	O
&	O
old_modes	struct
)	O
;	O
if	O
(	O
signal	function
(	O
SIGINT	int
,	O
SIG_IGN	O
)	O
!=	O
SIG_IGN	O
)	O
signal	function
(	O
SIGINT	int
,	O
signal_handler	function
)	O
;	O
if	O
(	O
signal	function
(	O
SIGHUP	int
,	O
SIG_IGN	O
)	O
!=	O
SIG_IGN	O
)	O
signal	function
(	O
SIGHUP	int
,	O
signal_handler	function
)	O
;	O
if	O
(	O
signal	function
(	O
SIGQUIT	int
,	O
SIG_IGN	O
)	O
!=	O
SIG_IGN	O
)	O
signal	function
(	O
SIGQUIT	int
,	O
signal_handler	function
)	O
;	O
signal	function
(	O
SIGTERM	int
,	O
signal_handler	function
)	O
;	O
new_modes	struct
=	O
old_modes	struct
;	O
DISABLE_OPOST	O
(	O
&	O
new_modes	struct
)	O
;	O
SET_TTY_MODE	O
(	O
1	int
,	O
&	O
new_modes	struct
)	O
;	O
ospeed	short
=	O
GET_OSPEED	O
(	O
&	O
old_modes	struct
)	O
;	O
}	O
else	O
ospeed	short
=	O
0	int
;	O
}	O
void	O
restore_translations	function
(	O
)	O
{	O
SET_TTY_MODE	O
(	O
1	int
,	O
&	O
old_modes	struct
)	O
;	O
}	O
void	O
enable_xtabs	function
(	O
)	O
{	O
new_modes	struct
=	O
old_modes	struct
;	O
ENABLE_XTABS	O
(	O
&	O
new_modes	struct
)	O
;	O
SET_TTY_MODE	O
(	O
1	int
,	O
&	O
new_modes	struct
)	O
;	O
}	O
void	O
disable_xtabs	function
(	O
)	O
{	O
new_modes	struct
=	O
old_modes	struct
;	O
DISABLE_XTABS	O
(	O
&	O
new_modes	struct
)	O
;	O
SET_TTY_MODE	O
(	O
1	int
,	O
&	O
new_modes	struct
)	O
;	O
}	O
