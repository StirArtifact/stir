int	O
fseeko	O
(	O
FILE	O
*	O
fp	pointer
,	O
off_t	O
offset	O
,	O
int	O
whence	O
)	O
{	O
if	O
(	O
fp	O
->	O
_IO_read_end	pointer
==	O
fp	O
->	O
_IO_read_ptr	pointer
&&	O
fp	O
->	O
_IO_write_ptr	pointer
==	O
fp	O
->	O
_IO_write_base	pointer
&&	O
fp	O
->	O
_IO_save_base	pointer
==	O
NULL	O
)	O
{	O
off_t	O
pos	O
=	O
lseek	int
(	O
fileno	O
(	O
fp	pointer
)	O
,	O
offset	O
,	O
whence	O
)	O
;	O
if	O
(	O
pos	O
==	O
-	O
1	int
)	O
{	O
return	O
-	int
1	int
;	O
}	O
fp	O
->	O
_flags	O
&=	O
~	O
_IO_EOF_SEEN	O
;	O
fp	O
->	O
_offset	pointer
=	O
pos	pointer
;	O
return	O
0	int
;	O
}	O
return	O
fseeko	O
(	O
fp	O
,	O
offset	O
,	O
whence	O
)	O
;	O
}	O