speed_t	O
ospeed	O
;	O
static	O
struct	O
termios	struct
old_term	O
;	O
static	O
struct	O
termios	struct
new_term	O
;	O
char	O
*	O
copyright	pointer
=	O
"%s %s - Display key sequence utility\nGIT is free software; you can redistribute it and/or modify it under the\nterms of the GNU General Public License as published by the Free Software\nFoundation; either version 2, or (at your option) any later version.\nCopyright (C) 1993-1998 Free Software Foundation, Inc.\nWritten by Tudor Hulubei and Andrei Pitis, students at PUB, Romania\n\nPress SPACE when done.\n\n"	O
;	O
extern	O
RETSIGTYPE	O
do_exit	O
PROTO	O
(	O
(	O
int	O
)	O
)	O
;	O
void	O
tty_init	O
(	O
)	O
{	O
{	O
tcgetattr	O
(	O
TTY_OUTPUT	int
,	O
&	O
old_term	pointer
)	O
;	O
new_term	O
=	O
old_term	O
;	O
new_term	O
.	O
c_iflag	pointer
&=	O
~	O
(	O
IXON	O
|	O
ICRNL	O
|	O
IGNCR	O
|	O
INLCR	O
|	O
IGNBRK	O
|	O
BRKINT	O
)	O
;	O
new_term	O
.	O
c_oflag	pointer
&=	O
~	O
OPOST	O
;	O
new_term	pointer
.	O
c_lflag	pointer
|=	O
ISIG	O
|	O
NOFLSH	O
;	O
new_term	pointer
.	O
c_lflag	pointer
&=	O
~	O
(	O
ICANON	O
|	O
ECHO	O
)	O
;	O
new_term	O
.	O
c_cc	pointer
[	O
VINTR	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	O
.	O
c_cc	pointer
[	O
VQUIT	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VSTART	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VSTOP	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VMIN	int
]	O
=	O
1	pointer
;	O
new_term	O
.	O
c_cc	pointer
[	O
VTIME	int
]	O
=	O
0	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VERASE	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VKILL	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VEOL	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VEOL2	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VSUSP	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VREPRINT	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VDISCARD	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VWERASE	int
]	O
=	O
CDISABLE	pointer
;	O
new_term	pointer
.	O
c_cc	pointer
[	O
VLNEXT	int
]	O
=	O
CDISABLE	pointer
;	O
tcsetattr	pointer
(	O
TTY_OUTPUT	O
,	O
TCSADRAIN	int
,	O
&	int
new_term	pointer
)	O
;	O
ospeed	O
=	O
cfgetospeed	O
(	O
&	pointer
new_term	pointer
)	O
;	O
ioctl	O
(	O
TTY_OUTPUT	O
,	O
TCXONC	int
,	O
1	int
)	O
;	O
tcflow	O
(	O
TTY_OUTPUT	pointer
,	O
TCOON	O
)	O
;	O
}	O
}	O
void	O
tty_end	function
(	O
)	O
{	O
tcsetattr	O
(	O
TTY_OUTPUT	int
,	O
TCSADRAIN	int
,	O
&	O
old_term	pointer
)	O
;	O
}	O
RETSIGTYPE	O
do_exit	O
(	O
signum	O
)	O
int	O
signum	int
;	O
{	O
signal	O
(	O
signum	int
,	O
do_exit	O
)	O
;	O
tty_end	O
(	O
)	O
;	O
exit	O
(	O
1	int
)	O
;	O
}	O
int	O
main	function
(	O
)	O
{	O
char	O
c	O
;	O
printf	O
(	O
copyright	pointer
,	O
PRODUCT	pointer
,	O
VERSION	pointer
)	O
;	O
signal	O
(	O
SIGTERM	int
,	O
do_exit	int
)	O
;	O
tty_init	O
(	O
)	pointer
;	O
signal	O
(	O
SIGTSTP	int
,	O
SIG_IGN	O
)	O
;	O
signal	O
(	O
SIGCONT	int
,	O
SIG_IGN	O
)	O
;	O
for	O
(	O
;	int
;	O
)	O
{	O
read	O
(	O
0	pointer
,	O
&	O
c	pointer
,	O
1	O
)	O
;	O
if	O
(	O
c	O
==	O
' '	O
)	O
break	O
;	O
printf	O
(	O
"%x "	pointer
,	O
(	pointer
unsigned	O
char	O
)	O
c	O
)	O
;	O
fflush	O
(	O
stdout	pointer
)	O
;	O
}	O
tty_end	O
(	O
)	O
;	O
printf	O
(	O
"\n"	pointer
)	O
;	O
return	O
0	int
;	O
}	O