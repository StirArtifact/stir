static	O
void	O
print_symbol_type	O
(	O
FILE	O
*	O
outfile	pointer
,	O
Symbol	O
*	O
sym	pointer
)	O
{	O
if	O
(	O
sym	O
->	O
decl	pointer
)	O
fprintf	O
(	O
outfile	pointer
,	O
"%s, <%s %d>"	pointer
,	O
sym	pointer
->	O
decl	pointer
,	O
sym	O
->	O
source	pointer
,	O
sym	O
->	O
def_line	pointer
)	O
;	O
else	O
fprintf	O
(	O
outfile	pointer
,	O
"<>"	pointer
)	O
;	O
}	O
static	O
int	O
print_symbol	function
(	O
FILE	O
*	O
outfile	pointer
,	O
int	O
line	int
,	O
struct	O
output_symbol	struct
*	O
s	pointer
)	O
{	O
print_level	O
(	O
s	pointer
->	O
level	pointer
,	O
s	O
->	O
last	pointer
)	O
;	O
fprintf	O
(	O
outfile	pointer
,	O
"%s: "	pointer
,	O
s	pointer
->	O
sym	pointer
->	O
name	pointer
)	O
;	O
if	O
(	O
brief_listing	O
)	O
{	O
if	O
(	O
s	O
->	O
sym	pointer
->	O
expand_line	pointer
)	O
{	O
fprintf	O
(	O
outfile	pointer
,	O
"%d"	pointer
,	O
s	pointer
->	O
sym	pointer
->	O
expand_line	pointer
)	O
;	O
return	O
1	int
;	O
}	O
else	O
if	O
(	O
s	O
->	O
sym	pointer
->	O
callee	pointer
)	O
s	O
->	O
sym	pointer
->	O
expand_line	pointer
=	O
line	O
;	O
}	O
print_symbol_type	O
(	O
outfile	O
,	O
s	pointer
->	O
sym	pointer
)	O
;	O
return	O
0	int
;	O
}	O
int	O
posix_output_handler	function
(	O
cflow_output_command	O
cmd	O
,	O
FILE	O
*	O
outfile	pointer
,	O
int	O
line	int
,	O
void	O
*	O
data	pointer
,	O
void	O
*	O
handler_data	pointer
)	O
{	O
switch	O
(	O
cmd	O
)	O
{	O
case	O
cflow_output_init	O
:	O
if	O
(	O
emacs_option	O
)	O
error	O
(	O
EX_USAGE	O
,	O
0	O
,	O
_	int
(	O
"--format=posix is not compatible with --emacs"	pointer
)	O
)	O
;	O
brief_listing	O
=	O
print_line_numbers	O
=	O
omit_symbol_names_option	O
=	O
1	O
;	O
break	O
;	O
case	O
cflow_output_begin	O
:	O
case	O
cflow_output_end	O
:	O
case	O
cflow_output_separator	O
:	O
break	O
;	O
case	O
cflow_output_newline	O
:	O
fprintf	O
(	O
outfile	pointer
,	O
"\n"	pointer
)	O
;	O
break	O
;	O
case	O
cflow_output_text	O
:	O
fprintf	O
(	O
outfile	pointer
,	O
"%s"	pointer
,	O
(	pointer
char	O
*	O
)	O
data	pointer
)	O
;	O
break	O
;	O
case	O
cflow_output_symbol	O
:	O
return	O
print_symbol	O
(	O
outfile	pointer
,	O
line	O
,	O
data	O
)	O
;	O
}	O
return	O
0	O
;	O
}	O