int	O
_gdbm_hash	O
(	O
datum	O
key	O
)	O
{	O
unsigned	O
int	O
value	int
;	O
int	O
index	int
;	O
value	O
=	O
0x238F13AF	O
*	O
key	O
.	O
dsize	O
;	O
for	O
(	O
index	O
=	O
0	int
;	O
index	O
<	O
key	O
.	O
dsize	int
;	O
index	O
++	O
)	O
value	O
=	O
(	int
value	O
+	O
(	O
key	O
.	O
dptr	pointer
[	O
index	O
]	O
<<	O
(	O
index	O
*	O
5	pointer
%	O
24	O
)	O
)	O
)	O
&	O
0x7FFFFFFF	pointer
;	O
value	O
=	O
(	O
1103515243	O
*	O
value	O
+	O
12345	int
)	O
&	O
0x7FFFFFFF	pointer
;	O
return	O
(	O
(	O
int	O
)	O
value	O
)	O
;	O
}	O
int	O
_gdbm_bucket_dir	function
(	O
GDBM_FILE	O
dbf	O
,	O
int	O
hash	O
)	O
{	O
return	O
hash	int
>>	O
(	O
GDBM_HASH_BITS	O
-	O
dbf	int
->	O
header	pointer
->	O
dir_bits	pointer
)	O
;	O
}	O
void	O
_gdbm_hash_key	O
(	O
GDBM_FILE	O
dbf	O
,	O
datum	O
key	O
,	O
int	O
*	O
hash	pointer
,	O
int	O
*	O
bucket	pointer
,	O
int	O
*	O
offset	pointer
)	O
{	O
int	O
hashval	O
=	O
_gdbm_hash	O
(	O
key	O
)	O
;	O
*	O
hash	pointer
=	O
hashval	O
;	O
*	O
bucket	pointer
=	O
_gdbm_bucket_dir	O
(	O
dbf	O
,	O
hashval	O
)	O
;	O
*	O
offset	pointer
=	O
hashval	O
%	O
dbf	O
->	O
header	pointer
->	O
bucket_elems	pointer
;	O
}	O