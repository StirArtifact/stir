ESint32	O
EDMAPROC	O
DATALOGGER_SERVICEserviceOrS23	O
(	O
OBJID	O
IdObj	O
,	O
OBJID	O
id	O
)	O
{	O
EDMAT_BUFFER	O
rbuf	O
;	O
ESint32	O
len	O
;	O
edma_buffer_alloc	O
(	O
&	O
rbuf	pointer
,	O
1024	O
)	O
;	O
if	O
(	O
(	O
(	O
ESint32	O
)	O
edma_met3	O
(	O
id	O
,	O
"recv"	O
,	O
&	O
rbuf	pointer
,	O
&	O
len	pointer
)	O
)	O
==	O
-	O
1	int
)	O
{	O
edma_printf_obj	O
(	O
IdObj	O
,	O
"%s"	O
,	O
"[ERROR] receviving data"	O
)	O
;	O
return	O
-	int
1	int
;	O
}	O
printf	O
(	O
"%s"	O
,	O
"--------------------------------\n"	O
)	O
;	O
printf	O
(	O
"[%ld bytes received]\n"	O
,	O
len	O
)	O
;	O
printf	O
(	O
"%s"	O
,	O
(	O
char	pointer
*	O
)	pointer
rbuf	O
.	O
dat	pointer
)	O
;	O
printf	O
(	O
"%s"	O
,	O
"--------------------------------\n"	O
)	O
;	O
edma_buffer_free	O
(	O
&	O
rbuf	pointer
)	O
;	O
return	O
0	int
;	O
}	O