struct	O
timespec	struct
dtotimespec	function
(	O
double	O
sec	double
)	O
{	O
if	O
(	O
!	O
(	O
TYPE_MINIMUM	O
(	O
time_t	long
)	O
<	O
sec	double
)	O
)	O
return	O
make_timespec	function
(	O
TYPE_MINIMUM	O
(	O
time_t	long
)	O
,	O
0	int
)	O
;	O
else	O
if	O
(	O
!	O
(	O
sec	double
<	O
1.0	int
+	O
TYPE_MAXIMUM	O
(	O
time_t	long
)	O
)	O
)	O
return	O
make_timespec	function
(	O
TYPE_MAXIMUM	O
(	O
time_t	long
)	O
,	O
TIMESPEC_HZ	int
-	O
1	int
)	O
;	O
else	O
{	O
time_t	long
s	long
=	O
sec	double
;	O
double	O
frac	double
=	O
TIMESPEC_HZ	int
*	O
(	O
sec	double
-	O
s	long
)	O
;	O
long	O
ns	long
=	O
frac	double
;	O
ns	long
+=	O
ns	long
<	O
frac	double
;	O
s	long
+=	O
ns	long
/	O
TIMESPEC_HZ	int
;	O
ns	long
%=	O
TIMESPEC_HZ	int
;	O
if	O
(	O
ns	long
<	O
0	int
)	O
{	O
s	long
--	O
;	O
ns	long
+=	O
TIMESPEC_HZ	int
;	O
}	O
return	O
make_timespec	function
(	O
s	long
,	O
ns	long
)	O
;	O
}	O
}	O
