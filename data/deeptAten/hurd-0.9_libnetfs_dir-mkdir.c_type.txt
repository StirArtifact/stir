error_t	O
netfs_S_dir_mkdir	function
(	O
struct	O
protid	struct
*	O
user	pointer
,	O
char	O
*	O
name	pointer
,	O
mode_t	O
mode	int
)	O
{	O
error_t	O
err	O
;	O
if	O
(	O
!	O
user	pointer
)	O
return	O
EOPNOTSUPP	O
;	O
mode	int
&=	O
~	O
(	O
S_IFMT	O
|	O
S_ISPARE	O
|	O
S_ISVTX	O
)	O
;	O
mode	int
|=	O
S_IFDIR	O
;	O
pthread_mutex_lock	function
(	O
&	O
user	pointer
->	O
po	pointer
->	O
np	pointer
->	O
lock	int
)	O
;	O
err	O
=	O
netfs_attempt_mkdir	function
(	O
user	pointer
->	O
user	pointer
,	O
user	pointer
->	O
po	pointer
->	O
np	pointer
,	O
name	pointer
,	O
mode	int
)	O
;	O
pthread_mutex_unlock	function
(	O
&	O
user	pointer
->	O
po	pointer
->	O
np	pointer
->	O
lock	int
)	O
;	O
return	O
err	O
;	O
}	O
